(self.webpackChunkasp_net=self.webpackChunkasp_net||[]).push([[179],{255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=255,t.exports=e},27:(t,e,n)=>{var i,s,o;!function(r){if("object"==typeof t.exports){var a=r(0,e);void 0!==a&&(t.exports=a)}else s=[n,e],void 0===(o="function"==typeof(i=r)?i.apply(e,s):i)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=void 0;e.default=["ru",[["AM","PM"],n,n],n,[["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],n,["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",n,n,n],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{GEL:[n,"\u10da"],RON:[n,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 0===n&&e%10==1&&e%100!=11?1:0===n&&e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)?3:0===n&&e%10==0||0===n&&e%10===Math.floor(e%10)&&e%10>=5&&e%10<=9||0===n&&e%100===Math.floor(e%100)&&e%100>=11&&e%100<=14?4:5}]})},178:(t,e)=>{var n;(n=window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})).ru=Object.assign(n.ru||{},{a:"Image toolbar",b:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b",c:"Table toolbar",d:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u0444\u0430\u0439\u043b",e:"\u0416\u0438\u0440\u043d\u044b\u0439",f:"\u041a\u0443\u0440\u0441\u0438\u0432",g:"\u0426\u0438\u0442\u0430\u0442\u0430",h:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",i:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",j:"\u0412\u0438\u0434\u0436\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439",k:"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",l:"\u0411\u043e\u043a\u043e\u0432\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",m:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",n:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443",o:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",p:"\u041f\u043e\u0434\u043f\u0438\u0441\u044c \u043a \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044e",q:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",r:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430",s:"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",t:"\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",u:"\u043c\u0435\u0434\u0438\u0430-\u0432\u0438\u0434\u0436\u0435\u0442",v:"\u0421\u0441\u044b\u043b\u043a\u0430",w:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0434\u0438\u0430",x:"URL \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c.",y:"\u042d\u0442\u043e\u0442 URL \u043c\u0435\u0434\u0438\u0430 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f.",z:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f",aa:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f",ab:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443",ac:"\u0421\u0442\u043e\u043b\u0431\u0435\u0446 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432",ad:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043b\u0435\u0432\u0430",ae:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043f\u0440\u0430\u0432\u0430",af:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446",ag:"\u0421\u0442\u043e\u043b\u0431\u0435\u0446",ah:"\u0421\u0442\u0440\u043e\u043a\u0430 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432",ai:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u043d\u0438\u0436\u0435",aj:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0432\u044b\u0448\u0435",ak:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443",al:"\u0421\u0442\u0440\u043e\u043a\u0430",am:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0441 \u044f\u0447\u0435\u0439\u043a\u043e\u0439 \u0441\u0432\u0435\u0440\u0445\u0443",an:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0441 \u044f\u0447\u0435\u0439\u043a\u043e\u0439 \u0441\u043f\u0440\u0430\u0432\u0430",ao:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0441 \u044f\u0447\u0435\u0439\u043a\u043e\u0439 \u0441\u043d\u0438\u0437\u0443",ap:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0441 \u044f\u0447\u0435\u0439\u043a\u043e\u0439 \u0441\u043b\u0435\u0432\u0430",aq:"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0443 \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e",ar:"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0443 \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e",as:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0438",at:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",au:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",av:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443",aw:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u0448\u0438\u0440\u0438\u043d\u0435",ax:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u0430",ay:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435",az:"\u0418\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430",ba:"Widget toolbar",bb:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c URL \u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u043c \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f.",bc:"\u0412\u044b\u0431\u043e\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u043c \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c \u043d\u0435 \u0443\u0434\u0430\u043b\u0441\u044f",bd:"\u041d\u0435\u043b\u044c\u0437\u044f \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u043f\u043e\u0437\u0438\u0446\u0438\u044e.",be:"\u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c",bf:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",bg:"\u0426\u0432\u0435\u0442 \u0448\u0440\u0438\u0444\u0442\u0430",bh:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430",bi:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",bj:"\u041e\u0447\u0435\u043d\u044c \u043c\u0435\u043b\u043a\u0438\u0439",bk:"\u041c\u0435\u043b\u043a\u0438\u0439",bl:"\u041a\u0440\u0443\u043f\u043d\u044b\u0439",bm:"\u041e\u0447\u0435\u043d\u044c \u043a\u0440\u0443\u043f\u043d\u044b\u0439",bn:"\u0421\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u043e \u0448\u0440\u0438\u0444\u0442\u043e\u0432",bo:"\u0426\u0432\u0435\u0442 \u0444\u043e\u043d\u0430",bp:"Editor toolbar",bq:"Show more items",br:"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440",bs:"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440, %0",bt:"Dropdown toolbar",bu:"%0 of %1",bv:"Previous",bw:"Next",bx:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",by:"\u041e\u0442\u043c\u0435\u043d\u0430",bz:"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",ca:"\u0423\u0431\u0440\u0430\u0442\u044c \u0446\u0432\u0435\u0442",cb:"\u0426\u0432\u0435\u0442 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",cc:"\u0427\u0451\u0440\u043d\u044b\u0439",cd:"\u0422\u0451\u043c\u043d\u043e-\u0441\u0435\u0440\u044b\u0439",ce:"\u0421\u0435\u0440\u044b\u0439",cf:"\u0421\u0432\u0435\u0442\u043b\u043e-\u0441\u0435\u0440\u044b\u0439",cg:"\u0411\u0435\u043b\u044b\u0439",ch:"\u041a\u0440\u0430\u0441\u043d\u044b\u0439",ci:"\u041e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439",cj:"\u0416\u0451\u043b\u0442\u044b\u0439",ck:"\u0421\u0430\u043b\u0430\u0442\u043e\u0432\u044b\u0439",cl:"\u0417\u0435\u043b\u0451\u043d\u044b\u0439",cm:"\u0410\u043a\u0432\u0430\u043c\u0430\u0440\u0438\u043d\u043e\u0432\u044b\u0439",cn:"\u0411\u0438\u0440\u044e\u0437\u043e\u0432\u044b\u0439",co:"\u0413\u043e\u043b\u0443\u0431\u043e\u0439",cp:"\u0421\u0438\u043d\u0438\u0439",cq:"\u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439",cr:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",cs:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",ct:"Open in a new tab",cu:"Downloadable",cv:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 URL \u043c\u0435\u0434\u0438\u0430 \u0432 \u043f\u043e\u043b\u0435 \u0432\u0432\u043e\u0434\u0430.",cw:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430: \u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 URL \u0432 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f.",cx:"URL \u043c\u0435\u0434\u0438\u0430",cy:"\u0421\u0441\u044b\u043b\u043a\u0430 URL",cz:"\u0423\u0431\u0440\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",da:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",db:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u0432 \u043d\u043e\u0432\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435",dc:"\u0414\u043b\u044f \u044d\u0442\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0430\u0434\u0440\u0435\u0441 URL",dd:"\u041f\u0430\u0440\u0430\u0433\u0440\u0430\u0444",de:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1",df:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2",dg:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3",dh:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4",di:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5",dj:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 6"}),window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,(function(e){return t[e]}).bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=97)}([function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});class i extends Error{constructor(t,e,n){t=s(t),n&&(t+=" "+JSON.stringify(n)),super(t),this.name="CKEditorError",this.context=e,this.data=n}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;throw new i("unexpected-error",e,{originalError:{message:t.message,stack:t.stack,name:t.name}})}}function s(t){const e=t.match(/^([^:]+):/);return e?t+` Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-${e[1]}\n`:t}},function(t,e,n){"use strict";var i={},s=function(){var t;return function(){return void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t}}(),o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function r(t,e){for(var n=[],i={},s=0;s<t.length;s++){var o=t[s],r=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[r]?i[r].parts.push(a):n.push(i[r]={id:r,parts:[a]})}return n}function a(t,e){for(var n=0;n<t.length;n++){var s=t[n],o=i[s.id],r=0;if(o){for(o.refs++;r<o.parts.length;r++)o.parts[r](s.parts[r]);for(;r<s.parts.length;r++)o.parts.push(p(s.parts[r],e))}else{for(var a=[];r<s.parts.length;r++)a.push(p(s.parts[r],e));i[s.id]={id:s.id,refs:1,parts:a}}}}function l(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var i=n.nc;i&&(t.attributes.nonce=i)}if(Object.keys(t.attributes).forEach(function(n){e.setAttribute(n,t.attributes[n])}),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var c=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function u(t,e,n,i){var s=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=c(e,s);else{var o=document.createTextNode(s),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(o,r[e]):t.appendChild(o)}}var h=null,d=0;function p(t,e){var n,i,s;if(e.singleton){var o=d++;n=h||(h=l(e)),i=u.bind(null,n,o,!1),s=u.bind(null,n,o,!0)}else n=l(e),i=(function(t,e,n){var i=n.css,s=n.media,o=n.sourceMap;if(s&&t.setAttribute("media",s),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}).bind(null,n,e),s=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else s()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s());var n=r(t,e);return a(n,e),function(t){for(var s=[],o=0;o<n.length;o++){var l=i[n[o].id];l&&(l.refs--,s.push(l))}t&&a(r(t,e),e);for(var c=0;c<s.length;c++){var u=s[c];if(0===u.refs){for(var h=0;h<u.parts.length;h++)u.parts[h]();delete i[u.id]}}}}},,function(t,e,n){"use strict";var i=n(7),s="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||s||Function("return this")();e.a=o},function(t,n,i){"use strict";(function(t){var s=i(7),o=e&&!e.nodeType&&e,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=r&&r.exports===o&&s.a.process,l=function(){try{return r&&r.require&&r.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();n.a=l}).call(this,i(8)(t))},function(t,n,i){"use strict";(function(t){var s=i(3),o=i(11),r=e&&!e.nodeType&&e,a=r&&"object"==typeof t&&t&&!t.nodeType&&t,l=a&&a.exports===r?s.a.Buffer:void 0;n.a=(l?l.isBuffer:void 0)||o.a}).call(this,i(8)(t))},function(t,e,n){"use strict";(function(t){var e=n(13),i=n(0);const s="object"==typeof window?window:t;if(s.CKEDITOR_VERSION)throw new i.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);s.CKEDITOR_VERSION=e.a}).call(this,n(9))},function(t,e,n){"use strict";(function(t){e.a="object"==typeof t&&t&&t.Object===Object&&t}).call(this,n(9))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(70);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,n,i){"use strict";(function(t){var s=i(3),o=e&&!e.nodeType&&e,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=r&&r.exports===o?s.a.Buffer:void 0,l=a?a.allocUnsafe:void 0;n.a=function(t,e){if(e)return t.slice();var n=t.length,i=l?l(n):new t.constructor(n);return t.copy(i),i}}).call(this,i(8)(t))},function(t){t.exports=JSON.parse('{"a":"15.0.0"}')},function(t,e,n){var i=n(15);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(t,e,n){var i=n(17);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#47a4f5;--ck-color-focus-shadow:rgba(119,186,248,0.5);--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(t,e,n){var i=n(19);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(t,e,n){var i=n(21);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(t,e,n){var i=n(23);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,n){var i=n(25);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block;will-change:transform}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{transform:translate3d(0,100%,0)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}"},function(t,e,n){var i=n(27);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(t,e,n){var i=n(29);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck-tooltip .ck-tooltip__text{display:inline-block}.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{border-style:solid;left:50%}.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}'},function(t,e,n){var i=n(31);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button .ck-button__label,.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button .ck-button__label,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;border-color:transparent}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(t,e,n){var i=n(33);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;border:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:hover:not(ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(t,e,n){var i=n(35);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:1.3846153847em}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(t,e,n){var i=n(37);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(t,e,n){var i=n(39);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,n){var i=n(41);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__grouped-dropdown,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__items>:last-child,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__grouped-dropdown,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>*,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>*{margin-left:var(--ck-spacing-small);margin-right:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>:last-child,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-left:var(--ck-spacing-small)}"},function(t,e,n){var i=n(43);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(t,e,n){var i=n(45);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(t,e,n){var i=n(47);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(t,e,n){var i=n(49);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected .ck-widget__selection-handle:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}"},function(t,e,n){var i=n(51);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}"},function(t,e,n){var i=n(53);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition-property:box-shadow,border;transition:.2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(t,e,n){var i=n(55);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(57);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}'},function(t,e,n){var i=n(59);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(t,e,n){var i=n(61);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(t,e,n){var i=n(63);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(t,e,n){var i=n(65);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(t,e,n){var i=n(67);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(t,e,n){var i=n(69);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(t,e){t.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(t,e,n){var i=n(72);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(t,e,n){var i=n(74);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(t,e,n){var i=n(76);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(t,e,n){var i=n(78);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(80);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c8,#b900b4,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(t,e,n){var i=n(82);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-input{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-input{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-input .ck-labeled-input__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(84);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(t,e,n){var i=n(86);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=":root{--ck-color-table-focused-cell-background:#f5fafe}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(t,e,n){var i=n(88);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=":root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px;--ck-insert-table-dropdown-box-border-color:#bfbfbf;--ck-insert-table-dropdown-box-border-active-color:#53a0e4;--ck-insert-table-dropdown-box-active-background:#c7e5ff}.ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-insert-table-dropdown-box-border-color);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-insert-table-dropdown-box-border-active-color);background:var(--ck-insert-table-dropdown-box-active-background)}"},function(t,e,n){var i=n(90);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#d9d9d9}.ck-content .table table th{font-weight:700;background:#fafafa}"},function(t,e,n){var i=n(92);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:20px}.ck.ck-color-grid{grid-gap:calc(var(--ck-spacing-standard)/2);padding:var(--ck-spacing-standard)}.ck.ck-color-grid__tile{border-radius:0}.ck-rounded-corners .ck.ck-color-grid__tile,.ck.ck-color-grid__tile.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"},function(t,e,n){var i=n(94);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{border-bottom:1px solid var(--ck-color-base-border);padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}"},function(t,e,n){var i=n(96);"string"==typeof i&&(i=[[t.i,i,""]]),n(1)(i,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".text-tiny{font-size:.7em}.text-small{font-size:.85em}.text-big{font-size:1.4em}.text-huge{font-size:1.8em}"},function(t,e,n){"use strict";n.r(e);var i=n(3),s=i.a.Symbol,o=Object.prototype,r=o.hasOwnProperty,a=o.toString,l=s?s.toStringTag:void 0,c=Object.prototype.toString,u=s?s.toStringTag:void 0,h=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?function(t){var e=r.call(t,l),n=t[l];try{t[l]=void 0;var i=!0}catch(t){}var s=a.call(t);return i&&(e?t[l]=n:delete t[l]),s}(t):function(t){return c.call(t)}(t)},d=function(t,e){return function(n){return t(e(n))}},p=d(Object.getPrototypeOf,Object),f=function(t){return null!=t&&"object"==typeof t},g=Function.prototype.toString,m=Object.prototype.hasOwnProperty,b=g.call(Object),w=function(t){if(!f(t)||"[object Object]"!=h(t))return!1;var e=p(t);if(null===e)return!0;var n=m.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&g.call(n)==b},y=function(t,e){return t===e||t!=t&&e!=e},v=function(t,e){for(var n=t.length;n--;)if(y(t[n][0],e))return n;return-1},_=Array.prototype.splice;function k(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}k.prototype.clear=function(){this.__data__=[],this.size=0},k.prototype.delete=function(t){var e=this.__data__,n=v(e,t);return!(n<0||(n==e.length-1?e.pop():_.call(e,n,1),--this.size,0))},k.prototype.get=function(t){var e=this.__data__,n=v(e,t);return n<0?void 0:e[n][1]},k.prototype.has=function(t){return v(this.__data__,t)>-1},k.prototype.set=function(t,e){var n=this.__data__,i=v(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};var C=k,S=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},x=function(t){if(!S(t))return!1;var e=h(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},T=i.a["__core-js_shared__"],E=function(){var t=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),I=Function.prototype.toString,O=function(t){if(null!=t){try{return I.call(t)}catch(t){}try{return t+""}catch(t){}}return""},A=/^\[object .+?Constructor\]$/,P=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!S(t)||function(t){return!!E&&E in t}(t))&&(x(t)?P:A).test(O(t))}(n)?n:void 0},D=M(i.a,"Map"),L=M(Object,"create"),R=Object.prototype.hasOwnProperty,N=Object.prototype.hasOwnProperty;function F(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}F.prototype.clear=function(){this.__data__=L?L(null):{},this.size=0},F.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},F.prototype.get=function(t){var e=this.__data__;if(L){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return R.call(e,t)?e[t]:void 0},F.prototype.has=function(t){var e=this.__data__;return L?void 0!==e[t]:N.call(e,t)},F.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=L&&void 0===e?"__lodash_hash_undefined__":e,this};var V=F,j=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}z.prototype.clear=function(){this.size=0,this.__data__={hash:new V,map:new(D||C),string:new V}},z.prototype.delete=function(t){var e=j(this,t).delete(t);return this.size-=e?1:0,e},z.prototype.get=function(t){return j(this,t).get(t)},z.prototype.has=function(t){return j(this,t).has(t)},z.prototype.set=function(t,e){var n=j(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};var B=z;function H(t){var e=this.__data__=new C(t);this.size=e.size}H.prototype.clear=function(){this.__data__=new C,this.size=0},H.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},H.prototype.get=function(t){return this.__data__.get(t)},H.prototype.has=function(t){return this.__data__.has(t)},H.prototype.set=function(t,e){var n=this.__data__;if(n instanceof C){var i=n.__data__;if(!D||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new B(i)}return n.set(t,e),this.size=n.size,this};var U=H,$=function(){try{var t=M(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),W=function(t,e,n){"__proto__"==e&&$?$(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},q=Object.prototype.hasOwnProperty,K=function(t,e,n){var i=t[e];q.call(t,e)&&y(i,n)&&(void 0!==n||e in t)||W(t,e,n)},G=function(t,e,n,i){var s=!n;n||(n={});for(var o=-1,r=e.length;++o<r;){var a=e[o],l=i?i(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),s?W(n,a,l):K(n,a,l)}return n},Y=function(t){return f(t)&&"[object Arguments]"==h(t)},Q=Object.prototype,Z=Q.hasOwnProperty,J=Q.propertyIsEnumerable,X=Y(function(){return arguments}())?Y:function(t){return f(t)&&Z.call(t,"callee")&&!J.call(t,"callee")},tt=Array.isArray,et=n(5),nt=/^(?:0|[1-9]\d*)$/,it=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&nt.test(t))&&t>-1&&t%1==0&&t<e},st=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ot={};ot["[object Float32Array]"]=ot["[object Float64Array]"]=ot["[object Int8Array]"]=ot["[object Int16Array]"]=ot["[object Int32Array]"]=ot["[object Uint8Array]"]=ot["[object Uint8ClampedArray]"]=ot["[object Uint16Array]"]=ot["[object Uint32Array]"]=!0,ot["[object Arguments]"]=ot["[object Array]"]=ot["[object ArrayBuffer]"]=ot["[object Boolean]"]=ot["[object DataView]"]=ot["[object Date]"]=ot["[object Error]"]=ot["[object Function]"]=ot["[object Map]"]=ot["[object Number]"]=ot["[object Object]"]=ot["[object RegExp]"]=ot["[object Set]"]=ot["[object String]"]=ot["[object WeakMap]"]=!1;var rt=function(t){return function(e){return t(e)}},at=n(4),lt=at.a&&at.a.isTypedArray,ct=lt?rt(lt):function(t){return f(t)&&st(t.length)&&!!ot[h(t)]},ut=Object.prototype.hasOwnProperty,ht=function(t,e){var n=tt(t),i=!n&&X(t),s=!n&&!i&&Object(et.a)(t),o=!n&&!i&&!s&&ct(t),r=n||i||s||o,a=r?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],l=a.length;for(var c in t)!e&&!ut.call(t,c)||r&&("length"==c||s&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||it(c,l))||a.push(c);return a},dt=Object.prototype,pt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||dt)},ft=d(Object.keys,Object),gt=Object.prototype.hasOwnProperty,mt=function(t){return null!=t&&st(t.length)&&!x(t)},bt=function(t){return mt(t)?ht(t):function(t){if(!pt(t))return ft(t);var e=[];for(var n in Object(t))gt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},wt=Object.prototype.hasOwnProperty,yt=function(t){return mt(t)?ht(t,!0):function(t){if(!S(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=pt(t),n=[];for(var i in t)("constructor"!=i||!e&&wt.call(t,i))&&n.push(i);return n}(t)},vt=n(12),_t=function(){return[]},kt=Object.prototype.propertyIsEnumerable,Ct=Object.getOwnPropertySymbols,St=Ct?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,i=null==t?0:t.length,s=0,o=[];++n<i;){var r=t[n];e(r)&&(o[s++]=r)}return o}(Ct(t),function(e){return kt.call(t,e)}))}:_t,xt=function(t,e){for(var n=-1,i=e.length,s=t.length;++n<i;)t[s+n]=e[n];return t},Tt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)xt(e,St(t)),t=p(t);return e}:_t,Et=function(t,e,n){var i=e(t);return tt(t)?i:xt(i,n(t))},It=function(t){return Et(t,bt,St)},Ot=function(t){return Et(t,yt,Tt)},At=M(i.a,"DataView"),Pt=M(i.a,"Promise"),Mt=M(i.a,"Set"),Dt=M(i.a,"WeakMap"),Lt=O(At),Rt=O(D),Nt=O(Pt),Ft=O(Mt),Vt=O(Dt),jt=h;(At&&"[object DataView]"!=jt(new At(new ArrayBuffer(1)))||D&&"[object Map]"!=jt(new D)||Pt&&"[object Promise]"!=jt(Pt.resolve())||Mt&&"[object Set]"!=jt(new Mt)||Dt&&"[object WeakMap]"!=jt(new Dt))&&(jt=function(t){var e=h(t),n="[object Object]"==e?t.constructor:void 0,i=n?O(n):"";if(i)switch(i){case Lt:return"[object DataView]";case Rt:return"[object Map]";case Nt:return"[object Promise]";case Ft:return"[object Set]";case Vt:return"[object WeakMap]"}return e});var zt=jt,Bt=Object.prototype.hasOwnProperty,Ht=i.a.Uint8Array,Ut=function(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e},$t=/\w*$/,Wt=s?s.prototype:void 0,qt=Wt?Wt.valueOf:void 0,Kt=Object.create,Gt=function(){function t(){}return function(e){if(!S(e))return{};if(Kt)return Kt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Yt=at.a&&at.a.isMap,Qt=Yt?rt(Yt):function(t){return f(t)&&"[object Map]"==zt(t)},Zt=at.a&&at.a.isSet,Jt=Zt?rt(Zt):function(t){return f(t)&&"[object Set]"==zt(t)},Xt="[object Arguments]",te="[object Function]",ee="[object Object]",ne={};ne[Xt]=ne["[object Array]"]=ne["[object ArrayBuffer]"]=ne["[object DataView]"]=ne["[object Boolean]"]=ne["[object Date]"]=ne["[object Float32Array]"]=ne["[object Float64Array]"]=ne["[object Int8Array]"]=ne["[object Int16Array]"]=ne["[object Int32Array]"]=ne["[object Map]"]=ne["[object Number]"]=ne[ee]=ne["[object RegExp]"]=ne["[object Set]"]=ne["[object String]"]=ne["[object Symbol]"]=ne["[object Uint8Array]"]=ne["[object Uint8ClampedArray]"]=ne["[object Uint16Array]"]=ne["[object Uint32Array]"]=!0,ne["[object Error]"]=ne[te]=ne["[object WeakMap]"]=!1;var ie=function t(e,n,i,s,o,r){var a,l=1&n,c=2&n,u=4&n;if(i&&(a=o?i(e,s,o,r):i(e)),void 0!==a)return a;if(!S(e))return e;var h=tt(e);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Bt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!l)return function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}(e,a)}else{var d=zt(e),f=d==te||"[object GeneratorFunction]"==d;if(Object(et.a)(e))return Object(vt.a)(e,l);if(d==ee||d==Xt||f&&!o){if(a=c||f?{}:function(t){return"function"!=typeof t.constructor||pt(t)?{}:Gt(p(t))}(e),!l)return c?function(t,e){return G(t,Tt(t),e)}(e,function(t,e){return t&&G(e,yt(e),t)}(a,e)):function(t,e){return G(t,St(t),e)}(e,function(t,e){return t&&G(e,bt(e),t)}(a,e))}else{if(!ne[d])return o?e:{};a=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return Ut(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var n=e?Ut(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?Ut(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,$t.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Set]":return new i;case"[object Symbol]":return function(t){return qt?Object(qt.call(t)):{}}(t)}}(e,d,l)}}r||(r=new U);var g=r.get(e);if(g)return g;r.set(e,a),Jt(e)?e.forEach(function(s){a.add(t(s,n,i,s,e,r))}):Qt(e)&&e.forEach(function(s,o){a.set(o,t(s,n,i,o,e,r))});var m=u?c?Ot:It:c?keysIn:bt,b=h?void 0:m(e);return function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n););}(b||e,function(s,o){b&&(s=e[o=s]),K(a,o,t(s,n,i,o,e,r))}),a},se=function(t,e){return ie(t,5,e="function"==typeof e?e:void 0)},oe=function(t){return f(t)&&1===t.nodeType&&!w(t)};class re{constructor(t,e){this._config={},e&&this.define(e),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}_setToTarget(t,e,n,i=!1){if(w(e))return void this._setObjectToTarget(t,e,i);const s=e.split(".");e=s.pop();for(const o of s)w(t[o])||(t[o]={}),t=t[o];if(w(n))return w(t[e])||(t[e]={}),void this._setObjectToTarget(t=t[e],n,i);i&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const i of n){if(!w(t[i])){t=null;break}t=t[i]}return t?function(t){return se(t,ae)}(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(i=>{this._setToTarget(t,i,e[i],n)})}}function ae(t){return oe(t)?t:void 0}var le=n(0);class ce{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=function t(){t.called=!0},this.off=function t(){t.called=!0}}}function ue(){let t="e";for(let e=0;e<8;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t}var he={get(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};n(6);const de=Symbol("listeningTo"),pe=Symbol("emitterId");var fe={on(t,e,n={}){this.listenTo(this,t,e,n)},once(t,e,n){let i=!1;this.listenTo(this,t,function(t,...n){i||(i=!0,t.off(),e.call(this,t,...n))},n)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,n,i={}){let s,o;this[de]||(this[de]={});const r=this[de];me(t)||ge(t);const a=me(t);(s=r[a])||(s=r[a]={emitter:t,callbacks:{}}),(o=s.callbacks[e])||(o=s.callbacks[e]=[]),o.push(n),function(t,e){const n=be(t);if(n[e])return;let i=e,s=null;const o=[];for(;""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},o.push(n[i]),s&&n[i].childEvents.push(s),s=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){for(const t of o)t.callbacks=n[i].callbacks.slice();n[i].childEvents.push(s)}}(t,e);const l=we(t,e),c=he.get(i.priority),u={callback:n,priority:c};for(const h of l){let t=!1;for(let e=0;e<h.length;e++)if(h[e].priority<c){h.splice(e,0,u),t=!0;break}t||h.push(u)}},stopListening(t,e,n){const i=this[de];let s=t&&me(t);const o=i&&s&&i[s],r=o&&e&&o.callbacks[e];if(!(!i||t&&!o||e&&!r))if(n)ve(t,e,n);else if(r){for(;n=r.pop();)ve(t,e,n);delete o.callbacks[e]}else if(o){for(e in o.callbacks)this.stopListening(t,e);delete i[s]}else{for(s in i)this.stopListening(i[s].emitter);delete this[de]}},fire(t,...e){try{const n=t instanceof ce?t:new ce(this,t),i=n.name;let s=function t(e,n){let i;return e._events&&(i=e._events[n])&&i.callbacks.length?i.callbacks:n.indexOf(":")>-1?t(e,n.substr(0,n.lastIndexOf(":"))):null}(this,i);if(n.path.push(this),s){const t=[n,...e];s=Array.from(s);for(let e=0;e<s.length&&(s[e].callback.apply(this,t),n.off.called&&(delete n.off.called,ve(this,i,s[e].callback)),!n.stop.called);e++);}if(this._delegations){const t=this._delegations.get(i),s=this._delegations.get("*");t&&ye(t,n,e),s&&ye(s,n,e)}return n.return}catch(t){le.b.rethrowUnexpectedError(t,this)}},delegate(...t){return{to:(e,n)=>{this._delegations||(this._delegations=new Map),t.forEach(t=>{const i=this._delegations.get(t);i?i.set(e,n):this._delegations.set(t,new Map([[e,n]]))})}}},stopDelegating(t,e){if(this._delegations)if(t)if(e){const n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()}};function ge(t,e){t[pe]||(t[pe]=e||ue())}function me(t){return t[pe]}function be(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function we(t,e){const n=be(t)[e];if(!n)return[];let i=[n.callbacks];for(let s=0;s<n.childEvents.length;s++){const e=we(t,n.childEvents[s]);i=i.concat(e)}return i}function ye(t,e,n){for(let[i,s]of t){s?"function"==typeof s&&(s=s(e.name)):s=e.name;const t=new ce(e.source,s);t.path=[...e.path],i.fire(t,...n)}}function ve(t,e,n){const i=we(t,e);for(const s of i)for(let t=0;t<s.length;t++)s[t].callback==n&&(s.splice(t,1),t--)}function _e(t,...e){e.forEach(e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(n=>{if(n in t.prototype)return;const i=Object.getOwnPropertyDescriptor(e,n);i.enumerable=!1,Object.defineProperty(t.prototype,n,i)})})}function ke(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)if(t[i]!=e[i])return i;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}var Ce=function(t){return ie(t,4)};class Se{constructor(){this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new le.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}get document(){return this.parent instanceof Se?this.parent.document:null}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let s=0;for(;n[s]==i[s]&&n[s];)s++;return 0===s?null:n[s-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=ke(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=Ce(this);return delete t.parent,t}is(t){return"node"==t||"view:node"==t}}_e(Se,fe);class xe extends Se{constructor(t){super(),this._textData=t}is(t){return"text"==t||"view:text"==t||super.is(t)}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof xe&&(this===t||this.data===t.data)}_clone(){return new xe(this.data)}}class Te{constructor(t,e,n){if(this.textNode=t,e<0||e>t.data.length)throw new le.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||e+n>t.data.length)throw new le.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"textProxy"==t||"view:textProxy"==t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}function Ee(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}function Ie(t){return!(!t||!t[Symbol.iterator])}class Oe{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),e.classes&&("string"==typeof e.classes||e.classes instanceof RegExp)&&(e.classes=[e.classes]),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=Ae(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const i=Ae(n,t);i&&e.push({element:n,pattern:t,match:i})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function Ae(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){return t instanceof RegExp?t.test(e):t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){const n=[];for(const i in t){const s=t[i];if(!e.hasAttribute(i))return null;{const t=e.getAttribute(i);if(!0===s)n.push(i);else if(s instanceof RegExp){if(!s.test(t))return null;n.push(i)}else{if(t!==s)return null;n.push(i)}}}return n}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){const n=[];for(const i of t)if(i instanceof RegExp){const t=e.getClassNames();for(const e of t)i.test(e)&&n.push(e);if(0===n.length)return null}else{if(!e.hasClass(i))return null;n.push(i)}return n}(e.classes,t),!n.classes))&&!(e.styles&&(n.styles=function(t,e){const n=[];for(const i in t){const s=t[i];if(!e.hasStyle(i))return null;{const t=e.getStyle(i);if(s instanceof RegExp){if(!s.test(t))return null;n.push(i)}else{if(t!==s)return null;n.push(i)}}}return n}(e.styles,t),!n.styles))&&n}class Pe extends Se{constructor(t,e,n){if(super(),this.name=t,this._attrs=function(t){t=w(t)?Ee(t):new Map(t);for(const[e,n]of t)null===n?t.delete(e):"string"!=typeof n&&t.set(e,String(n));return t}(e),this._children=[],n&&this._insertChild(0,n),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");De(this._classes,t),this._attrs.delete("class")}this._styles=new Map,this._attrs.has("style")&&(Me(this._styles,this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(t,e=null){const n=t.replace(/^view:/,"");return e?"element"==n&&e==this.name:"element"==n||n==this.name||super.is(t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.size>0&&(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.size>0&&(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"!=t)return this._attrs.get(t);if(this._styles.size>0){let t="";for(const[e,n]of this._styles)t+=`${e}:${n};`;return t}}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?this._styles.size>0:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Pe))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const[e,n]of this._styles)if(!t._styles.has(e)||t._styles.get(e)!==n)return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.get(t)}getStyleNames(){return this._styles.keys()}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new Oe(...t);let n=this.parent;for(;n;){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=Array.from(this._styles).map(t=>`${t[0]}:${t[1]}`).sort().join(";"),n=Array.from(this._attrs).map(t=>`${t[0]}="${t[1]}"`).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(""==e?"":` style="${e}"`)+(""==n?"":` ${n}`)}_clone(t=!1){const e=[];if(t)for(const i of this.getChildren())e.push(i._clone(t));const n=new this.constructor(this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles=new Map(this._styles),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t){return"string"==typeof t?[new xe(t)]:(Ie(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new xe(t):t instanceof Te?new xe(t.data):t))}(e);for(const s of i)null!==s.parent&&s._remove(),s.parent=this,this._children.splice(t,0,s),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?De(this._classes,e):"style"==t?Me(this._styles,e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?this._styles.size>0&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.add(t))}_removeClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.delete(t))}_setStyle(t,e){if(this._fireChange("attributes",this),w(t)){const e=Object.keys(t);for(const n of e)this._styles.set(n,t[n])}else this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._styles.delete(t))}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function Me(t,e){let n=null,i=0,s=0,o=null;if(t.clear(),""!==e){";"!=e.charAt(e.length-1)&&(e+=";");for(let r=0;r<e.length;r++){const a=e.charAt(r);if(null===n)switch(a){case":":o||(o=e.substr(i,r-i),s=r+1);break;case'"':case"'":n=a;break;case";":{const n=e.substr(s,r-s);o&&t.set(o.trim(),n.trim()),o=null,i=r+1;break}}else a===n&&(n=null)}}}function De(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(e=>t.add(e))}class Le extends Pe{constructor(t,e,n){super(t,e,n),this.getFillerOffset=Re}is(t,e=null){const n=t&&t.replace(/^view:/,"");return e?"containerElement"==n&&e==this.name||super.is(t,e):"containerElement"==n||super.is(t)}}function Re(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of t)if(!n.is("uiElement"))return null;return this.childCount}var Ne=function(t){return t},Fe=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Ve=Math.max,je=function(t){return function(){return t}},ze=Date.now,Be=function(t){var e=0,n=0;return function(){var i=ze(),s=16-(i-n);if(n=i,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}($?function(t,e){return $(t,"toString",{configurable:!0,enumerable:!1,value:je(e),writable:!0})}:Ne),He=function(t){return function(t,e){return Be(function(t,e,n){return e=Ve(void 0===e?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=Ve(i.length-e,0),r=Array(o);++s<o;)r[s]=i[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=i[s];return a[e]=n(r),Fe(t,this,a)}}(t,e,Ne),t+"")}(function(e,n){var i=-1,s=n.length,o=s>1?n[s-1]:void 0,r=s>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(s--,o):void 0,r&&function(t,e,n){if(!S(n))return!1;var i=typeof e;return!!("number"==i?mt(n)&&it(e,n.length):"string"==i&&e in n)&&y(n[e],t)}(n[0],n[1],r)&&(o=s<3?void 0:o,s=1),e=Object(e);++i<s;){var a=n[i];a&&t(e,a)}return e})}(function(t,e){G(e,yt(e),t)});const Ue=Symbol("observableProperties"),$e=Symbol("boundObservables"),We=Symbol("boundProperties"),qe={set(t,e){if(S(t))return void Object.keys(t).forEach(e=>{this.set(e,t[e])},this);Ge(this);const n=this[Ue];if(t in this&&!n.has(t))throw new le.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const i=n.get(t);let s=this.fire("set:"+t,t,e,i);void 0===s&&(s=e),i===s&&n.has(t)||(n.set(t,s),this.fire("change:"+t,t,s,i))}}),this[t]=e},bind(...t){if(!t.length||!Ze(t))throw new le.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(t).size!==t.length)throw new le.b("observable-bind-duplicate-properties: Properties must be unique.",this);Ge(this);const e=this[We];t.forEach(t=>{if(e.has(t))throw new le.b("observable-bind-rebind: Cannot bind the same property more that once.",this)});const n=new Map;return t.forEach(t=>{const i={property:t,to:[]};e.set(t,i),n.set(t,i)}),{to:Ye,toMany:Qe,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind(...t){if(!(Ue in this))return;const e=this[We],n=this[$e];if(t.length){if(!Ze(t))throw new le.b("observable-unbind-wrong-properties: Properties must be strings.",this);t.forEach(t=>{const i=e.get(t);if(!i)return;let s,o,r,a;i.to.forEach(t=>{s=t[0],o=t[1],r=n.get(s),(a=r[o]).delete(i),a.size||delete r[o],Object.keys(r).length||(n.delete(s),this.stopListening(s,"change"))}),e.delete(t)})}else n.forEach((t,e)=>{this.stopListening(e,"change")}),n.clear(),e.clear()},decorate(t){const e=this[t];if(!e)throw new le.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:t});this.on(t,(t,n)=>{t.return=e.apply(this,n)}),this[t]=function(...e){return this.fire(t,e)}}};He(qe,fe);var Ke=qe;function Ge(t){Ue in t||(Object.defineProperty(t,Ue,{value:new Map}),Object.defineProperty(t,$e,{value:new Map}),Object.defineProperty(t,We,{value:new Map}))}function Ye(...t){const e=function(...t){if(!t.length)throw new le.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);const e={to:[]};let n;return"function"==typeof t[t.length-1]&&(e.callback=t.pop()),t.forEach(t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new le.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);n={observable:t,properties:[]},e.to.push(n)}}),e}(...t),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new le.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(i>1&&e.callback)throw new le.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);e.to.forEach(t=>{if(t.properties.length&&t.properties.length!==i)throw new le.b("observable-bind-to-properties-length: The number of properties must match.",this);t.properties.length||(t.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),function(t,e){e.forEach(e=>{const n=t[$e];let i;n.get(e.observable)||t.listenTo(e.observable,"change",(s,o)=>{(i=n.get(e.observable)[o])&&i.forEach(e=>{Je(t,e.property)})})})}(this._observable,this._to),function(t){let e;t._bindings.forEach((n,i)=>{t._to.forEach(s=>{e=s.properties[n.callback?0:t._bindProperties.indexOf(i)],n.to.push([s.observable,e]),function(t,e,n,i){const s=t[$e],o=s.get(n),r=o||{};r[i]||(r[i]=new Set),r[i].add(e),o||s.set(n,r)}(t._observable,n,s.observable,e)})})}(this),this._bindProperties.forEach(t=>{Je(this._observable,t)})}function Qe(t,e,n){if(this._bindings.size>1)throw new le.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to(...function(t,e){const n=t.map(t=>[t,e]);return Array.prototype.concat.apply([],n)}(t,e),n)}function Ze(t){return t.every(t=>"string"==typeof t)}function Je(t,e){const n=t[We].get(e);let i;i=n.callback?n.callback.apply(t,n.to.map(t=>t[0][t[1]])):(i=n.to[0])[0][i[1]],t.hasOwnProperty(e)?t[e]=i:t.set(e,i)}const Xe=Symbol("document");class tn extends Le{constructor(t,e,n){super(t,e,n),this.set("isReadOnly",!1),this.set("isFocused",!1)}is(t,e=null){const n=t&&t.replace(/^view:/,"");return e?"editableElement"==n&&e==this.name||super.is(t,e):"editableElement"==n||super.is(t)}destroy(){this.stopListening()}get document(){return this.getCustomProperty(Xe)}set _document(t){if(this.getCustomProperty(Xe))throw new le.b("view-editableelement-document-already-set: View document is already set.",this);this._setCustomProperty(Xe,t),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",e=>e&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}}_e(tn,Ke);const en=Symbol("rootName");class nn extends tn{constructor(t){super(t),this.rootName="main"}is(t,e=null){const n=t.replace(/^view:/,"");return e?"rootElement"==n&&e==this.name||super.is(t,e):"rootElement"==n||super.is(t)}get rootName(){return this.getCustomProperty(en)}set rootName(t){this._setCustomProperty(en,t)}set _name(t){this.name=t}}class sn{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new le.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new le.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,this.position=on._createAt(t.startPosition?t.startPosition:t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,i;do{i=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let i;if(n instanceof xe){if(t.isAtEnd)return this.position=on._createAfter(n),this._next();i=n.data[t.offset]}else i=n.getChild(t.offset);if(i instanceof Pe)return this.shallow?t.offset++:t=new on(i,0),this.position=t,this._formatReturnValue("elementStart",i,e,t,1);if(i instanceof xe){if(this.singleCharacters)return t=new on(i,0),this.position=t,this._next();{let n,s=i.data.length;return i==this._boundaryEndParent?(s=this.boundaries.end.offset,n=new Te(i,0,s),t=on._createAfter(n)):(n=new Te(i,0,i.data.length),t.offset++),this.position=t,this._formatReturnValue("text",n,e,t,s)}}if("string"==typeof i){let i;i=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;const s=new Te(n,t.offset,i);return t.offset+=i,this.position=t,this._formatReturnValue("text",s,e,t,i)}return t=on._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let i;if(n instanceof xe){if(t.isAtStart)return this.position=on._createBefore(n),this._previous();i=n.data[t.offset-1]}else i=n.getChild(t.offset-1);if(i instanceof Pe)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",i,e,t,1)):(t=new on(i,i.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,e,t));if(i instanceof xe){if(this.singleCharacters)return t=new on(i,i.data.length),this.position=t,this._previous();{let n,s=i.data.length;if(i==this._boundaryStartParent){const e=this.boundaries.start.offset;s=(n=new Te(i,e,i.data.length-e)).data.length,t=on._createBefore(n)}else n=new Te(i,0,i.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",n,e,t,s)}}if("string"==typeof i){let i;i=this.singleCharacters?1:t.offset-(n===this._boundaryStartParent?this.boundaries.start.offset:0),t.offset-=i;const s=new Te(n,t.offset,i);return this.position=t,this._formatReturnValue("text",s,e,t,i)}return t=on._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,i,s){return e instanceof Te&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=on._createAfter(e.textNode):(i=on._createAfter(e.textNode),this.position=i)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=on._createBefore(e.textNode):(i=on._createBefore(e.textNode),this.position=i))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:s}}}}class on{constructor(t,e){this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof tn);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=on._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new sn(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}is(t){return"position"==t||"view:position"==t}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const i=ke(e,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return e[i]<n[i]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new sn(t)}clone(){return new on(this.parent,this.offset)}static _createAt(t,e){if(t instanceof on)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new le.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",n)}return new on(n,e)}}static _createAfter(t){if(t.is("textProxy"))return new on(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new le.b("view-position-after-root: You can not make position after root.",t,{root:t});return new on(t.parent,t.index+1)}static _createBefore(t){if(t.is("textProxy"))return new on(t.textNode,t.offsetInText);if(!t.parent)throw new le.b("view-position-before-root: You can not make position before root.",t,{root:t});return new on(t.parent,t.index)}}class rn{constructor(t,e=null){this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new sn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(an,{direction:"backward"}),e=this.end.getLastMatchingPosition(an);return t.parent.is("text")&&t.isAtStart&&(t=on._createBefore(t.parent)),e.parent.is("text")&&e.isAtEnd&&(e=on._createAfter(e.parent)),new rn(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(an);if(t.isAfter(this.end)||t.isEqual(this.end))return new rn(t,t);let e=this.end.getLastMatchingPosition(an,{direction:"backward"});const n=t.nodeAfter,i=e.nodeBefore;return n&&n.is("text")&&(t=new on(n,0)),i&&i.is("text")&&(e=new on(i,i.data.length)),new rn(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new rn(this.start,t.start)),this.containsPosition(t.end)&&e.push(new rn(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new rn(e,n)}return null}getWalker(t={}){return t.boundaries=this,new sn(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}clone(){return new rn(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new sn(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new sn(t);yield e.position;for(const n of e)yield n.nextPosition}is(t){return"range"==t||"view:range"==t}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,i){return new this(new on(t,e),new on(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(on._createBefore(t),e)}}function an(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}function ln(t){let e=0;for(const n of t)e++;return e}class cn{constructor(t=null,e,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=ln(this.getRanges());if(e!=ln(t.getRanges()))return!1;if(0==e)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let e=!1;for(let i of t.getRanges())if(i=i.getTrimmed(),n.start.isEqual(i.start)&&n.end.isEqual(i.end)){e=!0;break}if(!e)return!1}return!0}getSelectedElement(){if(1!==this.rangeCount)return null;const t=this.getFirstRange();let e=t.start.nodeAfter,n=t.end.nodeBefore;return t.start.parent.is("text")&&t.start.isAtEnd&&t.start.parent.nextSibling&&(e=t.start.parent.nextSibling),t.end.parent.is("text")&&t.end.isAtStart&&t.end.parent.previousSibling&&(n=t.end.parent.previousSibling),e instanceof Pe&&e==n?e:null}setTo(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof cn||t instanceof un)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof rn)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof on)this._setRanges([new rn(t)]),this._setFakeOptions(e);else if(t instanceof Se){const i=!!n&&!!n.backward;let s;if(void 0===e)throw new le.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);s="in"==e?rn._createIn(t):"on"==e?rn._createOn(t):new rn(on._createAt(t,e)),this._setRanges([s],i),this._setFakeOptions(n)}else{if(!Ie(t))throw new le.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new le.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);const n=on._createAt(t,e);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.pop(),"before"==n.compareWith(i)?this._addRange(new rn(n,i),!0):this._addRange(new rn(i,n)),this.fire("change")}is(t){return"selection"==t||"view:selection"==t}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const n of t)this._addRange(n);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof rn))throw new le.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new le.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:t,intersectingRange:e});this._ranges.push(new rn(t.start,t.end))}}_e(cn,fe);class un{constructor(t=null,e,n){this._selection=new cn,this._selection.delegate("change").to(this),this._selection.setTo(t,e,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}is(t){return"selection"==t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setFocus(t,e){this._selection.setFocus(t,e)}}_e(un,fe);class hn{constructor(t={}){this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){let n;const i=this._idProperty;if(i in t){if("string"!=typeof(n=t[i]))throw new le.b("collection-add-invalid-id",this);if(this.get(n))throw new le.b("collection-add-item-already-exists",this)}else t[i]=n=ue();if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new le.b("collection-add-item-invalid-index",this);return this._items.splice(e,0,t),this._itemMap.set(n,t),this.fire("add",t,e),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new le.b("collection-get-invalid-arg: Index or id must be given.",this);e=this._items[t]}return e||null}has(t){return this._itemMap.has("string"==typeof t?t:t[this._idProperty])}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}remove(t){let e,n,i,s=!1;const o=this._idProperty;if("string"==typeof t?(n=t,s=!(i=this._itemMap.get(n)),i&&(e=this._items.indexOf(i))):"number"==typeof t?(e=t,s=!(i=this._items[e]),i&&(n=i[o])):(n=(i=t)[o],s=-1==(e=this._items.indexOf(i))||!this._itemMap.get(n)),s)throw new le.b("collection-remove-404: Item not found.",this);this._items.splice(e,1),this._itemMap.delete(n);const r=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(r),this.fire("remove",i,e),i}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(t){if(this._bindToCollection)throw new le.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding(e=>new t(e))},using:t=>{this._setUpBindToBinding("function"==typeof t?e=>t(e):e=>e[t])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,i,s)=>{const o=e._bindToCollection==this,r=e._bindToInternalToExternalMap.get(i);if(o&&r)this._bindToExternalToInternalMap.set(i,r),this._bindToInternalToExternalMap.set(r,i);else{const n=t(i);if(!n)return void this._skippedIndexesFromExternal.push(s);let o=s;for(const t of this._skippedIndexesFromExternal)s>t&&o--;for(const t of e._skippedIndexesFromExternal)o>=t&&o++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,o);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)o<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const i of e)n(0,i,e.getIndex(i));this.listenTo(e,"add",n),this.listenTo(e,"remove",(t,e,n)=>{const i=this._bindToExternalToInternalMap.get(e);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t),[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}_e(hn,fe);class dn{constructor(){this.selection=new un,this.roots=new hn({idProperty:"rootName"}),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t))break}while(e)}}_e(dn,Ke);class pn extends Pe{constructor(t,e,n){super(t,e,n),this.getFillerOffset=fn,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new le.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}is(t,e=null){const n=t&&t.replace(/^view:/,"");return e?"attributeElement"==n&&e==this.name||super.is(t,e):"attributeElement"==n||super.is(t)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function fn(){if(gn(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(gn(t)>1)return null;t=t.parent}return!t||gn(t)>1?null:this.childCount}function gn(t){return Array.from(t.getChildren()).filter(t=>!t.is("uiElement")).length}pn.DEFAULT_PRIORITY=10;class mn extends Pe{constructor(t,e,n){super(t,e,n),this.getFillerOffset=bn}is(t,e=null){const n=t.replace(/^view:/,"");return e?"emptyElement"==n&&e==this.name||super.is(t,e):"emptyElement"==n||super.is(t)}_insertChild(t,e){if(e&&(e instanceof Se||Array.from(e).length>0))throw new le.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,e])}}function bn(){return null}const wn=navigator.userAgent.toLowerCase();var yn=function(t){return t.indexOf("macintosh")>-1}(wn),vn=function(t){return!!t.match(/edge\/(\d+.?\d*)/)}(wn),_n=function(t){return!!t.match(/gecko\/\d+/)}(wn),kn=function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(wn),Cn=function(t){return t.indexOf("android")>-1}(wn);!function(){let t=!1;try{t=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(t){}}();const Sn={"\u2318":"ctrl","\u21e7":"shift","\u2325":"alt"},xn={ctrl:"\u2318",shift:"\u21e7",alt:"\u2325"},Tn=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;e<=90;e++)t[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return t}();function En(t){let e;if("string"==typeof t){if(!(e=Tn[t.toLowerCase()]))throw new le.b("keyboard-unknown-key: Unknown key name.",null,{key:t})}else e=t.keyCode+(t.altKey?Tn.alt:0)+(t.ctrlKey?Tn.ctrl:0)+(t.shiftKey?Tn.shift:0);return e}function In(t){return"string"==typeof t&&(t=On(t)),t.map(t=>"string"==typeof t?En(t):t).reduce((t,e)=>e+t,0)}function On(t){return t.split(/\s*\+\s*/)}class An extends Pe{constructor(t,e,n){super(t,e,n),this.getFillerOffset=Pn}is(t,e=null){const n=t.replace(/^view:/,"");return e?"uiElement"==n&&e==this.name||super.is(t,e):"uiElement"==n||super.is(t)}_insertChild(t,e){if(e&&(e instanceof Se||Array.from(e).length>0))throw new le.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const n of this.getAttributeKeys())e.setAttribute(n,this.getAttribute(n));return e}}function Pn(){return null}class Mn{constructor(t){this._children=[],t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t||"view:documentFragment"==t}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t){return"string"==typeof t?[new xe(t)]:(Ie(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new xe(t):t instanceof Te?new xe(t.data):t))}(e);for(const s of i)null!==s.parent&&s._remove(),s.parent=this,this._children.splice(t,0,s),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}_e(Mn,fe);class Dn{constructor(t){this.document=t,this._cloneGroups=new Map}setSelection(t,e,n){this.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createText(t){return new xe(t)}createAttributeElement(t,e,n={}){const i=new pn(t,e);return n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i}createContainerElement(t,e){return new Le(t,e)}createEditableElement(t,e){const n=new tn(t,e);return n._document=this.document,n}createEmptyElement(t,e){return new mn(t,e)}createUIElement(t,e,n){const i=new An(t,e);return n&&(i.render=n),i}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){w(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof on?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new le.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!e.parent)throw new le.b("view-writer-break-root: Trying to break root element.",this.document);if(t.isAtStart)return on._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(on._createAfter(e),n);const i=new rn(t,on._createAt(e,"end")),s=new on(n,0);this.move(i,s)}return on._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new on(t,e))}const i=n.getChild(e-1),s=n.getChild(e);if(!i||!s)return t;if(i.is("text")&&s.is("text"))return Vn(i,s);if(i.is("attributeElement")&&s.is("attributeElement")&&i.isSimilar(s)){const t=i.childCount;return i._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new on(i,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new le.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);const i=e.getChild(e.childCount-1),s=on._createAt(i instanceof xe?i:e,"end");return this.move(rn._createIn(n),on._createAt(e,"end")),this.remove(rn._createOn(n)),s}insert(t,e){!function t(e,n){for(const i of e){if(!jn.some(t=>i instanceof t))throw new le.b("view-writer-insert-invalid-node",n);i.is("text")||t(i.getChildren(),n)}}(e=Ie(e)?[...e]:[e],this.document);const n=Ln(t);if(!n)throw new le.b("view-writer-invalid-position-container",this.document);const i=this._breakAttributes(t,!0),s=n._insertChild(i.offset,e);for(const a of e)this._addToClonedElementsGroup(a);const o=i.getShiftedBy(s),r=this.mergeAttributes(i);if(0===s)return new rn(r,r);{r.isEqual(i)||o.offset--;const t=this.mergeAttributes(o);return new rn(r,t)}}remove(t){const e=t instanceof rn?t:rn._createOn(t);if(Bn(e,this.document),e.isCollapsed)return new Mn;const{start:n,end:i}=this._breakAttributesRange(e,!0),s=n.parent._removeChildren(n.offset,i.offset-n.offset);for(const r of s)this._removeFromClonedElementsGroup(r);const o=this.mergeAttributes(n);return e.start=o,e.end=o.clone(),new Mn(s)}clear(t,e){Bn(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const n=i.item;let s;if(n.is("element")&&e.isSimilar(n))s=rn._createOn(n);else if(!i.nextPosition.isAfter(t.start)&&n.is("textProxy")){const t=n.getAncestors().find(t=>t.is("element")&&e.isSimilar(t));t&&(s=rn._createIn(t))}s&&(s.end.isAfter(t.end)&&(s.end=t.end),s.start.isBefore(t.start)&&(s.start=t.start),this.remove(s))}}move(t,e){let n;if(e.isAfter(t.end)){const i=(e=this._breakAttributes(e,!0)).parent,s=i.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=i.childCount-s}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof pn))throw new le.b("view-writer-wrap-invalid-attribute",this.document);if(Bn(t,this.document),t.isCollapsed){let n=t.start;n.parent.is("element")&&!function(t){return Array.from(t.getChildren()).some(t=>!t.is("uiElement"))}(n.parent)&&(n=n.getLastMatchingPosition(t=>t.item.is("uiElement"))),n=this._wrapPosition(n,e);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new rn(n)}return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof pn))throw new le.b("view-writer-unwrap-invalid-attribute",this.document);if(Bn(t,this.document),t.isCollapsed)return t;const{start:n,end:i}=this._breakAttributesRange(t,!0),s=this._unwrapChildren(n.parent,n.offset,i.offset,e),o=this.mergeAttributes(s.start);o.isEqual(s.start)||s.end.offset--;const r=this.mergeAttributes(s.end);return new rn(o,r)}rename(t,e){const n=new Le(t,e.getAttributes());return this.insert(on._createAfter(e),n),this.move(rn._createIn(e),on._createAt(n,0)),this.remove(rn._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return on._createAt(t,e)}createPositionAfter(t){return on._createAfter(t)}createPositionBefore(t){return on._createBefore(t)}createRange(t,e){return new rn(t,e)}createRangeOn(t){return rn._createOn(t)}createRangeIn(t){return rn._createIn(t)}createSelection(t,e,n){return new cn(t,e,n)}_wrapChildren(t,e,n,i){let s=e;const o=[];for(;s<n;){const e=t.getChild(s),n=e.is("text"),r=e.is("attributeElement"),a=e.is("emptyElement"),l=e.is("uiElement");if(r&&this._wrapAttributeElement(i,e))o.push(new on(t,s));else if(n||a||l||r&&Rn(i,e)){const n=i._clone();e._remove(),n._appendChild(e),t._insertChild(s,n),this._addToClonedElementsGroup(n),o.push(new on(t,s))}else r&&this._wrapChildren(e,0,e.childCount,i);s++}let r=0;for(const a of o)a.offset-=r,a.offset!=e&&(this.mergeAttributes(a).isEqual(a)||(r++,n--));return rn._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,i){let s=e;const o=[];for(;s<n;){const e=t.getChild(s);if(e.is("attributeElement"))if(e.isSimilar(i)){const i=e.getChildren(),r=e.childCount;e._remove(),t._insertChild(s,i),this._removeFromClonedElementsGroup(e),o.push(new on(t,s),new on(t,s+r)),s+=r,n+=r-1}else this._unwrapAttributeElement(i,e)?(o.push(new on(t,s),new on(t,s+1)),s++):(this._unwrapChildren(e,0,e.childCount,i),s++);else s++}let r=0;for(const a of o)a.offset-=r,a.offset!=e&&a.offset!=n&&(this.mergeAttributes(a).isEqual(a)||(r++,n--));return rn._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:i}=this._breakAttributesRange(t,!0),s=this._wrapChildren(n.parent,n.offset,i.offset,e),o=this.mergeAttributes(s.start);o.isEqual(s.start)||s.end.offset--;const r=this.mergeAttributes(s.end);return new rn(o,r)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return Nn(t.clone());t.parent.is("text")&&(t=Fn(t));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const i=new rn(t,t.getShiftedBy(1));this.wrap(i,e);const s=new on(n.parent,n.index);n._remove();const o=s.nodeBefore,r=s.nodeAfter;return o instanceof xe&&r instanceof xe?Vn(o,r):Nn(s)}_wrapAttributeElement(t,e){if(!Hn(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!Hn(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,i=t.end;if(Bn(t,this.document),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new rn(n,n)}const s=this._breakAttributes(i,e),o=s.parent.childCount,r=this._breakAttributes(n,e);return s.offset+=s.parent.childCount-o,new rn(r,s)}_breakAttributes(t,e=!1){const n=t.offset,i=t.parent;if(t.parent.is("emptyElement"))throw new le.b("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new le.b("view-writer-cannot-break-ui-element",this.document);if(!e&&i.is("text")&&zn(i.parent))return t.clone();if(zn(i))return t.clone();if(i.is("text"))return this._breakAttributes(Fn(t),e);if(n==i.childCount){const t=new on(i.parent,i.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new on(i.parent,i.index);return this._breakAttributes(t,e)}{const t=i.index+1,s=i._clone();i.parent._insertChild(t,s),this._addToClonedElementsGroup(s);const o=i._removeChildren(n,i.childCount-n);s._appendChild(o);const r=new on(i.parent,t);return this._breakAttributes(r,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const i of t.getChildren())this._addToClonedElementsGroup(i);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const i of t.getChildren())this._removeFromClonedElementsGroup(i);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function Ln(t){let e=t.parent;for(;!zn(e);){if(!e)return;e=e.parent}return e}function Rn(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function Nn(t){const e=t.nodeBefore;if(e&&e.is("text"))return new on(e,e.data.length);const n=t.nodeAfter;return n&&n.is("text")?new on(n,0):t}function Fn(t){if(t.offset==t.parent.data.length)return new on(t.parent.parent,t.parent.index+1);if(0===t.offset)return new on(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new xe(e)),new on(t.parent.parent,t.parent.index+1)}function Vn(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new on(t,n)}const jn=[xe,pn,Le,mn,An];function zn(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function Bn(t,e){const n=Ln(t.start),i=Ln(t.end);if(!n||!i||n!==i)throw new le.b("view-writer-invalid-range-container",e)}function Hn(t,e){return null===t.id&&null===e.id}function Un(t){return"[object Text]"==Object.prototype.toString.call(t)}const $n=t=>t.createTextNode("\xa0"),Wn=t=>{const e=t.createElement("br");return e.dataset.ckeFiller=!0,e},qn=(()=>{let t="";for(let e=0;e<7;e++)t+="\u200b";return t})();function Kn(t){return Un(t)&&t.data.substr(0,7)===qn}function Gn(t){return 7==t.data.length&&Kn(t)}function Yn(t){return Kn(t)?t.data.slice(7):t.data}function Qn(t,e){if(e.keyCode==Tn.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;Kn(e)&&n<=7&&t.collapse(e,0)}}}function Zn(t,e,n,i=!1){n=n||function(t,e){return t===e},Array.isArray(t)||(t=Array.from(t)),Array.isArray(e)||(e=Array.from(e));const s=function(t,e,n){const i=Jn(t,e,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=Jn(Xn(t,i),Xn(e,i),n);return{firstIndex:i,lastIndexOld:t.length-s,lastIndexNew:e.length-s}}(t,e,n);return i?function(t,e){const{firstIndex:n,lastIndexOld:i,lastIndexNew:s}=t;if(-1===n)return Array(e).fill("equal");let o=[];return n>0&&(o=o.concat(Array(n).fill("equal"))),s-n>0&&(o=o.concat(Array(s-n).fill("insert"))),i-n>0&&(o=o.concat(Array(i-n).fill("delete"))),s<e&&(o=o.concat(Array(e-s).fill("equal"))),o}(s,e.length):function(t,e){const n=[],{firstIndex:i,lastIndexOld:s,lastIndexNew:o}=e;return o-i>0&&n.push({index:i,type:"insert",values:t.slice(i,o)}),s-i>0&&n.push({index:i+(o-i),type:"delete",howMany:s-i}),n}(e,s)}function Jn(t,e,n){for(let i=0;i<Math.max(t.length,e.length);i++)if(void 0===t[i]||void 0===e[i]||!n(t[i],e[i]))return i;return-1}function Xn(t,e){return t.slice(e).reverse()}function ti(t,e,n){n=n||function(t,e){return t===e};const i=t.length,s=e.length;if(i>200||s>200||i+s>300)return ti.fastDiff(t,e,n,!0);let o,r;if(s<i){const n=t;t=e,e=n,o="delete",r="insert"}else o="insert",r="delete";const a=t.length,l=e.length,c=l-a,u={},h={};function d(i){const s=(void 0!==h[i-1]?h[i-1]:-1)+1,c=void 0!==h[i+1]?h[i+1]:-1,d=s>c?-1:1;u[i+d]&&(u[i]=u[i+d].slice(0)),u[i]||(u[i]=[]),u[i].push(s>c?o:r);let p=Math.max(s,c),f=p-i;for(;f<a&&p<l&&n(t[f],e[p]);)f++,p++,u[i].push("equal");return p}let p,f=0;do{for(p=-f;p<c;p++)h[p]=d(p);for(p=c+f;p>c;p--)h[p]=d(p);h[c]=d(c),f++}while(h[c]!==l);return u[c].slice(1)}function ei(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function ni(t){const e=t.parentNode;e&&e.removeChild(t)}function ii(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}ti.fastDiff=Zn;class si{constructor(t,e){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new le.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(e)}}}render(){let t;for(const e of this.markedChildren)this._updateChildrenMappings(e);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));for(const e of this.markedAttributes)this._updateAttrs(e);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;this._inlineFiller=Kn(e.parent)?e.parent:oi(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=this.domConverter.mapViewToDom(t).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),s=this._diffNodeLists(n,i),o=this._findReplaceActions(s,n,i);if(-1!==o.indexOf("replace")){const e={equal:0,insert:0,delete:0};for(const s of o)if("replace"===s){const s=e.equal+e.insert,o=e.equal+e.delete,r=t.getChild(s);r&&!r.is("uiElement")&&this._updateElementMappings(r,n[o]),ni(i[s]),e.equal++}else e[s]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("text")?on._createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Un(e.parent)&&Kn(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Kn(t))throw new le.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);Gn(t)?t.parentNode.removeChild(t):t.data=t.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;return!(!this.domConverter.mapViewToDom(e.root)||!e.is("element")||!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||"true"==e.getAttribute("contenteditable")}(e)||n===e.getFillerOffset()||t.nodeBefore instanceof xe||t.nodeAfter instanceof xe)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t),i=this.domConverter.viewToDom(t,n.ownerDocument),s=n.data;let o=i.data;const r=e.inlineFillerPosition;if(r&&r.parent==t.parent&&r.offset==t.index&&(o=qn+o),s!=o){const t=Zn(s,o);for(const e of t)"insert"===e.type?n.insertData(e.index,e.values.join("")):n.deleteData(e.index,e.howMany)}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(t=>t.name),i=t.getAttributeKeys();for(const s of i)e.setAttribute(s,t.getAttribute(s));for(const s of n)t.hasAttribute(s)||e.removeAttribute(s)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;const i=e.inlineFillerPosition,s=this.domConverter.mapViewToDom(t).childNodes,o=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===t&&oi(n.ownerDocument,o,i.offset);const r=this._diffNodeLists(s,o);let a=0;const l=new Set;for(const c of r)"insert"===c?(ei(n,a,o[a]),a++):"delete"===c?(l.add(s[a]),ni(s[a])):(this._markDescendantTextToSync(this.domConverter.domToView(o[a])),a++);for(const c of l)c.parentNode||this.domConverter.unbindDomElement(c)}_diffNodeLists(t,e){return ti(t=function(t,e){const n=Array.from(t);return 0!=n.length&&e?(n[n.length-1]==e&&n.pop(),n):n}(t,this._fakeSelectionContainer),e,(function(t,e,n){return e===n||(Un(e)&&Un(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}).bind(null,this.domConverter))}_findReplaceActions(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let i=[],s=[],o=[];const r={equal:0,insert:0,delete:0};for(const a of t)"insert"===a?o.push(n[r.equal+r.insert]):"delete"===a?s.push(e[r.equal+r.delete]):((i=i.concat(ti(s,o,ri).map(t=>"equal"===t?"replace":t))).push("equal"),s=[],o=[]),r[a]++;return i.concat(ti(s,o,ri).map(t=>"equal"===t?"replace":t))}_markDescendantTextToSync(t){if(t)if(t.is("text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){const e=t.createElement("div");return Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="\xa0",e}(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";const i=e.getSelection(),s=e.createRange();i.removeAllRanges(),s.selectNodeContents(n),i.addRange(s)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.focus(),e.collapse(n.parent,n.offset),e.extend(i.parent,i.offset),_n&&function(t,e){const n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;const i=n.childNodes[t.offset];i&&"BR"==i.tagName&&e.addRange(e.getRangeAt(0))}(i,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return!(e&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments)if(t.getSelection().rangeCount){const e=t.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&t.getSelection().removeAllRanges()}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function oi(t,e,n){const i=e instanceof Array?e:e.childNodes,s=i[n];if(Un(s))return s.data=qn+s.data,s;{const s=t.createTextNode(qn);return Array.isArray(e)?i.splice(n,0,s):ei(e,n,s),s}}function ri(t,e){return ii(t)&&ii(e)&&!Un(t)&&!Un(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}_e(si,Ke);var ai={window:window,document:document};function li(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function ci(t){const e=[];for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}const ui=Wn(document);class hi{constructor(t={}){this.blockFillerMode=t.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller="br"==this.blockFillerMode?Wn:$n,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new cn(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of Array.from(t.childNodes))this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}viewToDom(t,e,n={}){if(t.is("text")){const n=this._processDataFromViewText(t);return e.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let i;if(t.is("documentFragment"))i=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(i,t);else{if(t.is("uiElement"))return i=t.render(e),n.bind&&this.bindElements(i,t),i;i=t.hasAttribute("xmlns")?e.createElementNS(t.getAttribute("xmlns"),t.name):e.createElement(t.name),n.bind&&this.bindElements(i,t);for(const e of t.getAttributeKeys())i.setAttribute(e,t.getAttribute(e))}if(n.withChildren||void 0===n.withChildren)for(const s of this.viewChildrenToDom(t,e,n))i.appendChild(s);return i}}*viewChildrenToDom(t,e,n={}){const i=t.getFillerOffset&&t.getFillerOffset();let s=0;for(const o of t.getChildren())i===s&&(yield this._blockFiller(e)),yield this.viewToDom(o,e,n),s++;i===s&&(yield this._blockFiller(e))}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),i=document.createRange();return i.setStart(e.parent,e.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(t){const e=t.parent;if(e.is("text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let i=t.offset;return Kn(n)&&(i+=7),{parent:n,offset:i}}{let n,i,s;if(0===t.offset){if(!(n=this.mapViewToDom(e)))return null;s=n.childNodes[0]}else{const e=t.nodeBefore;if(!(i=e.is("text")?this.findCorrespondingDomText(e):this.mapViewToDom(t.nodeBefore)))return null;n=i.parentNode,s=i.nextSibling}return Un(s)&&Kn(s)?{parent:s,offset:7}:{parent:n,offset:i?li(i)+1:0}}}domToView(t,e={}){if(this.isBlockFiller(t,this.blockFillerMode))return null;const n=this.getParentUIElement(t,this._domToViewMapping);if(n)return n;if(Un(t)){if(Gn(t))return null;{const e=this._processDataFromDomText(t);return""===e?null:new xe(e)}}if(this.isComment(t))return null;{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new Mn,e.bind&&this.bindDocumentFragments(t,n);else{const i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();n=new Pe(i),e.bind&&this.bindElements(t,n);const s=t.attributes;for(let t=s.length-1;t>=0;t--)n._setAttribute(s[t].name,s[t].value)}if(e.withChildren||void 0===e.withChildren)for(const i of this.domChildrenToView(t,e))n._appendChild(i);return n}}*domChildrenToView(t,e={}){for(let n=0;n<t.childNodes.length;n++){const i=this.domToView(t.childNodes[n],e);null!==i&&(yield i)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;Un(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let i=0;i<t.rangeCount;i++){const e=t.getRangeAt(i),s=this.domRangeToView(e);s&&n.push(s)}return new cn(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new rn(e,n):null}domPositionToView(t,e){if(this.isBlockFiller(t,this.blockFillerMode))return this.domPositionToView(t.parentNode,li(t));const n=this.mapDomToView(t);if(n&&n.is("uiElement"))return on._createBefore(n);if(Un(t)){if(Gn(t))return this.domPositionToView(t.parentNode,li(t));const n=this.findCorrespondingViewText(t);let i=e;return n?(Kn(t)&&(i=(i-=7)<0?0:i),new on(n,i)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new on(e,0)}else{const n=t.childNodes[e-1],i=Un(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new on(i.parent,i.index+1)}return null}mapDomToView(t){return this.getParentUIElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Gn(t))return null;const e=this.getParentUIElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t)return t.nextSibling instanceof xe?t.nextSibling:null}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof xe?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=ai.window,i=[];pi(e,t=>{const{scrollLeft:e,scrollTop:n}=t;i.push([e,n])}),e.focus(),pi(e,t=>{const[e,n]=i.shift();t.scrollLeft=e,t.scrollTop=n}),ai.window.scrollTo(t,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isBlockFiller(t){return"br"==this.blockFillerMode?t.isEqualNode(ui):function(t,e){return Un(t)&&"\xa0"==t.data&&function(t,e){const n=t.parentNode;return n&&n.tagName&&e.includes(n.tagName.toLowerCase())}(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed;return e.detach(),n}getParentUIElement(t){const e=ci(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&n.is("uiElement"))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}_isDomSelectionPositionCorrect(t,e){if(Un(t)&&Kn(t)&&e<7)return!1;if(this.isElement(t)&&Kn(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return e;if(" "==e.charAt(0)){const n=this._getTouchingViewTextNode(t,!1);(!n||!this._nodeEndsWithSpace(n))&&n||(e="\xa0"+e.substr(1))}if(" "==e.charAt(e.length-1)){const n=this._getTouchingViewTextNode(t,!0);" "!=e.charAt(e.length-2)&&n&&" "!=n.data.charAt(0)||(e=e.substr(0,e.length-1)+"\xa0")}return e.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(t){if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(di(t,this.preElements))return Yn(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),i=this._getTouchingInlineDomNode(t,!0),s=this._checkShouldLeftTrimDomText(n),o=this._checkShouldRightTrimDomText(t,i);return s&&(e=e.replace(/^ /,"")),o&&(e=e.replace(/ $/,"")),e=(e=Yn(new Text(e))).replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(e)||!i||i.data&&" "==i.data.charAt(0))&&(e=e.replace(/\u00A0$/," ")),s&&(e=e.replace(/^\u00A0/," ")),e}_checkShouldLeftTrimDomText(t){return!t||!!oe(t)||/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1))}_checkShouldRightTrimDomText(t,e){return!e&&!Kn(t)}_getTouchingViewTextNode(t,e){const n=new sn({startPosition:e?on._createAfter(t):on._createBefore(t),direction:e?"forward":"backward"});for(const i of n){if(i.item.is("containerElement"))return null;if(i.item.is("br"))return null;if(i.item.is("textProxy"))return i.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"nextNode":"previousNode",i=t.ownerDocument,s=ci(t)[0],o=i.createTreeWalker(s,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:t=>Un(t)||"BR"==t.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});o.currentNode=t;const r=o[n]();if(null!==r){const e=function(t,e){const n=ci(t),i=ci(e);let s=0;for(;n[s]==i[s]&&n[s];)s++;return 0===s?null:n[s-1]}(t,r);if(e&&!di(t,this.blockElements,e)&&!di(r,this.blockElements,e))return r}return null}}function di(t,e,n){let i=ci(t);return n&&(i=i.slice(i.indexOf(n)+1)),i.some(t=>t.tagName&&e.includes(t.tagName.toLowerCase()))}function pi(t,e){for(;t&&t!=ai.document;)e(t),t=t.parentNode}function fi(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}var gi=He({},fe,{listenTo(t,...e){if(ii(t)||fi(t)){const n=this._getProxyEmitter(t)||new mi(t);n.attach(...e),t=n}fe.listenTo.call(this,t,...e)},stopListening(t,e,n){if(ii(t)||fi(t)){const e=this._getProxyEmitter(t);if(!e)return;t=e}fe.stopListening.call(this,t,e,n),t instanceof mi&&t.detach(e)},_getProxyEmitter(t){return function(t,e){return t[de]&&t[de][e]?t[de][e].emitter:null}(this,bi(t))}});class mi{constructor(t){ge(this,bi(t)),this._domNode=t}}function bi(t){return t["data-ck-expando"]||(t["data-ck-expando"]=ue())}He(mi.prototype,fe,{attach(t,e,n={}){if(this._domListeners&&this._domListeners[t])return;const i=this._createDomListener(t,!!n.useCapture);this._domNode.addEventListener(t,i,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[t]=i},detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener(t,e){const n=e=>{this.fire(t,e)};return n.removeListener=()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]},n}});class wi{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}function yi(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new B;++e<n;)this.add(t[e])}_e(wi,gi),yi.prototype.add=yi.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},yi.prototype.has=function(t){return this.__data__.has(t)};var vi=yi,_i=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1},ki=function(t,e){return t.has(e)},Ci=function(t,e,n,i,s,o){var r=1&n,a=t.length,l=e.length;if(a!=l&&!(r&&l>a))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var u=-1,h=!0,d=2&n?new vi:void 0;for(o.set(t,e),o.set(e,t);++u<a;){var p=t[u],f=e[u];if(i)var g=r?i(f,p,u,e,t,o):i(p,f,u,t,e,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!_i(e,function(t,e){if(!ki(d,e)&&(p===t||s(p,t,n,i,o)))return d.push(e)})){h=!1;break}}else if(p!==f&&!s(p,f,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h},Si=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n},xi=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n},Ti=s?s.prototype:void 0,Ei=Ti?Ti.valueOf:void 0,Ii=Object.prototype.hasOwnProperty,Oi="[object Arguments]",Ai="[object Array]",Pi="[object Object]",Mi=Object.prototype.hasOwnProperty,Di=function t(e,n,i,s,o){return e===n||(null==e||null==n||!f(e)&&!f(n)?e!=e&&n!=n:function(t,e,n,i,s,o){var r=tt(t),a=tt(e),l=r?Ai:zt(t),c=a?Ai:zt(e),u=(l=l==Oi?Pi:l)==Pi,h=(c=c==Oi?Pi:c)==Pi,d=l==c;if(d&&Object(et.a)(t)){if(!Object(et.a)(e))return!1;r=!0,u=!1}if(d&&!u)return o||(o=new U),r||ct(t)?Ci(t,e,n,i,s,o):function(t,e,n,i,s,o,r){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Ht(t),new Ht(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return y(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Si;case"[object Set]":if(a||(a=xi),t.size!=e.size&&!(1&i))return!1;var l=r.get(t);if(l)return l==e;i|=2,r.set(t,e);var c=Ci(a(t),a(e),i,s,o,r);return r.delete(t),c;case"[object Symbol]":if(Ei)return Ei.call(t)==Ei.call(e)}return!1}(t,e,l,n,i,s,o);if(!(1&n)){var p=u&&Mi.call(t,"__wrapped__"),f=h&&Mi.call(e,"__wrapped__");if(p||f){var g=p?t.value():t,m=f?e.value():e;return o||(o=new U),s(g,m,n,i,o)}}return!!d&&(o||(o=new U),function(t,e,n,i,s,o){var r=1&n,a=It(t),l=a.length;if(l!=It(e).length&&!r)return!1;for(var c=l;c--;){var u=a[c];if(!(r?u in e:Ii.call(e,u)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var d=!0;o.set(t,e),o.set(e,t);for(var p=r;++c<l;){var f=t[u=a[c]],g=e[u];if(i)var m=r?i(g,f,u,e,t,o):i(f,g,u,t,e,o);if(!(void 0===m?f===g||s(f,g,n,i,o):m)){d=!1;break}p||(p="constructor"==u)}if(d&&!p){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,i,s,o))}(e,n,i,s,t,o))},Li=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?Di(t,e,void 0,n):!!i};class Ri extends wi{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Map,i=new Set;for(const l of t)if("childList"===l.type){const t=e.mapDomToView(l.target);if(t&&t.is("uiElement"))continue;t&&!this._isBogusBrMutation(l)&&i.add(t)}for(const l of t){const t=e.mapDomToView(l.target);if(!(t&&t.is("uiElement")||"characterData"!==l.type)){const t=e.findCorrespondingViewText(l.target);t&&!i.has(t.parent)?n.set(t,{type:"text",oldText:t.data,newText:Yn(l.target),node:t}):!t&&Kn(l.target)&&i.add(e.mapDomToView(l.target.parentNode))}}const s=[];for(const l of n.values())this.renderer.markToSync("text",l.node),s.push(l);for(const l of i){const t=e.mapViewToDom(l),n=Array.from(l.getChildren()),i=Array.from(e.domChildrenToView(t,{withChildren:!1}));Li(n,i,a)||(this.renderer.markToSync("children",l),s.push({type:"children",oldChildren:n,newChildren:i,node:l}))}const o=t[0].target.ownerDocument.getSelection();let r=null;if(o&&o.anchorNode){const t=e.domPositionToView(o.anchorNode,o.anchorOffset),n=e.domPositionToView(o.focusNode,o.focusOffset);t&&n&&(r=new cn(t)).setFocus(n)}function a(t,e){if(!Array.isArray(t))return t===e||!(!t.is("text")||!e.is("text"))&&t.data===e.data}this.document.fire("mutations",s,r),this.view.forceRender()}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}class Ni{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,He(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Fi extends wi{constructor(t){super(t),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(t,e)=>{this.isEnabled&&this.onDomEvent(e)},{useCapture:this.useCapture})})}fire(t,e,n){this.isEnabled&&this.document.fire(t,new Ni(this.view,e,n))}}class Vi extends Fi{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return En(this)}})}}var ji=function(){return i.a.Date.now()},zi=function(t){return"symbol"==typeof t||f(t)&&"[object Symbol]"==h(t)},Bi=/^\s+|\s+$/g,Hi=/^[-+]0x[0-9a-f]+$/i,Ui=/^0b[01]+$/i,$i=/^0o[0-7]+$/i,Wi=parseInt,qi=function(t){if("number"==typeof t)return t;if(zi(t))return NaN;if(S(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=S(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Bi,"");var n=Ui.test(t);return n||$i.test(t)?Wi(t.slice(2),n?2:8):Hi.test(t)?NaN:+t},Ki=Math.max,Gi=Math.min,Yi=function(t,e,n){var i,s,o,r,a,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,o=s;return i=s=void 0,c=e,r=t.apply(o,n)}function f(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-c>=o}function g(){var t=ji();if(f(t))return m(t);a=setTimeout(g,function(t){var n=e-(t-l);return h?Gi(n,o-(t-c)):n}(t))}function m(t){return a=void 0,d&&i?p(t):(i=s=void 0,r)}function b(){var t=ji(),n=f(t);if(i=arguments,s=this,l=t,n){if(void 0===a)return function(t){return c=t,a=setTimeout(g,e),u?p(t):r}(l);if(h)return clearTimeout(a),a=setTimeout(g,e),p(l)}return void 0===a&&(a=setTimeout(g,e)),r}return e=qi(e)||0,S(n)&&(u=!!n.leading,o=(h="maxWait"in n)?Ki(qi(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=s=a=void 0},b.flush=function(){return void 0===a?r:m(ji())},b};class Qi extends wi{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=Yi(t=>this.document.fire("selectionChangeDone",t),200)}observe(){const t=this.document;t.on("keydown",(e,n)=>{t.selection.isFake&&function(t){return t==Tn.arrowright||t==Tn.arrowleft||t==Tn.arrowup||t==Tn.arrowdown}(n.keyCode)&&this.isEnabled&&(n.preventDefault(),this._handleSelectionMove(n.keyCode))},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new cn(e.getRanges(),{backward:e.isBackward,fake:!1});t!=Tn.arrowleft&&t!=Tn.arrowup||n.setTo(n.getFirstPosition()),t!=Tn.arrowright&&t!=Tn.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}class Zi extends wi{constructor(t){super(t),this.mutationObserver=t.getObserver(Ri),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Yi(t=>this.document.fire("selectionChangeDone",t),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument;this._documents.has(e)||(this.listenTo(e,"selectionchange",()=>{this._handleSelectionChange(e)}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t){if(!this.isEnabled||!this.document.isFocused&&!this.document.isReadOnly)return;this.mutationObserver.flush();const e=t.defaultView.getSelection(),n=this.domConverter.domSelectionToView(e);if(!(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(e)||++this._loopbackCounter>60))if(this.selection.isSimilar(n))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class Ji extends Fi{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout(()=>t.forceRender(),50)}),e.on("blur",(n,i)=>{const s=e.selection.editableElement;null!==s&&s!==i.target||(e.isFocused=!1,t.forceRender())})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Xi extends Fi{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0}),e.on("compositionend",()=>{e.isComposing=!1})}onDomEvent(t){this.fire(t.type,t)}}class ts extends Fi{constructor(t){super(t),this.domEventType=["beforeinput"]}onDomEvent(t){this.fire(t.type,t)}}function es(t){return"[object Range]"==Object.prototype.toString.apply(t)}function ns(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const is=["top","right","bottom","left","width","height"];class ss{constructor(t){const e=es(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),oe(t)||e)os(this,e?ss.getDomRangeRects(t)[0]:t.getBoundingClientRect());else if(fi(t)){const{innerWidth:e,innerHeight:n}=t;os(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else os(this,t)}clone(){return new ss(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new ss(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!rs(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!rs(n);){const t=new ss(n),i=e.getIntersection(t);if(!i)return null;i.getArea()<e.getArea()&&(e=i),n=n.parentNode}}return e}isEqual(t){for(const e of is)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n,i;if(fi(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,i=t.getComputedStyle(t.document.documentElement).direction;else{const s=ns(this._source);e=t.offsetWidth-t.clientWidth-s.left-s.right,n=t.offsetHeight-t.clientHeight-s.top-s.bottom,i=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===i?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const i of n)e.push(new ss(i));else{let n=t.startContainer;Un(n)&&(n=n.parentNode);const i=new ss(n.getBoundingClientRect());i.right=i.left,i.width=0,e.push(i)}return e}}function os(t,e){for(const n of is)t[n]=e[n]}function rs(t){return!!oe(t)&&t===t.ownerDocument.body}function as({target:t,viewportOffset:e=0}){const n=fs(t);let i=n,s=null;for(;i;){let o;cs(o=gs(i==n?t:s),()=>ms(t,i));const r=ms(t,i);if(ls(i,r,e),i.parent!=i){if(s=i.frameElement,i=i.parent,!s)return}else i=null}}function ls(t,e,n){const i=e.clone().moveBy(0,n),s=e.clone().moveBy(0,-n),o=new ss(t).excludeScrollbarsAndBorders();if(![s,i].every(t=>o.contains(t))){let{scrollX:r,scrollY:a}=t;hs(s,o)?a-=o.top-e.top+n:us(i,o)&&(a+=e.bottom-o.bottom+n),ds(e,o)?r-=o.left-e.left+n:ps(e,o)&&(r+=e.right-o.right+n),t.scrollTo(r,a)}}function cs(t,e){const n=fs(t);let i,s;for(;t!=n.document.body;)s=e(),(i=new ss(t).excludeScrollbarsAndBorders()).contains(s)||(hs(s,i)?t.scrollTop-=i.top-s.top:us(s,i)&&(t.scrollTop+=s.bottom-i.bottom),ds(s,i)?t.scrollLeft-=i.left-s.left:ps(s,i)&&(t.scrollLeft+=s.right-i.right)),t=t.parentNode}function us(t,e){return t.bottom>e.bottom}function hs(t,e){return t.top<e.top}function ds(t,e){return t.left<e.left}function ps(t,e){return t.right>e.right}function fs(t){return es(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function gs(t){if(es(t)){let e=t.commonAncestorContainer;return Un(e)&&(e=e.parentNode),e}return t.parentNode}function ms(t,e){const n=fs(t),i=new ss(t);if(n===e)return i;{let t=n;for(;t!=e;){const e=new ss(t.frameElement).excludeScrollbarsAndBorders();i.moveBy(e.left,e.top),t=t.parent}}return i}Object.assign({},{scrollViewportToShowTarget:as,scrollAncestorsToShowTarget:function(t){cs(gs(t),()=>new ss(t))}});class bs{constructor(){this.document=new dn,this.domConverter=new hi,this.domRoots=new Map,this.set("isRenderingInProgress",!1),this._renderer=new si(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Dn(this.document),this.addObserver(Ri),this.addObserver(Zi),this.addObserver(Ji),this.addObserver(Vi),this.addObserver(Qi),this.addObserver(Xi),Cn&&this.addObserver(ts),function(t){t.document.on("keydown",Qn)}(this),function(t){t.document.on("keydown",(e,n)=>function(t,e,n){if(e.keyCode==Tn.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),i=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(i||e.shiftKey){const e=n.domPositionToView(t.focusNode,t.focusOffset);if(null===e)return;let s=!1;const o=e.getLastMatchingPosition(t=>(t.item.is("uiElement")&&(s=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))));if(s){const e=n.viewPositionToDom(o);i?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}}(0,n,t.domConverter))}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const i={};for(const{name:o,value:r}of Array.from(t.attributes))i[o]=r,"class"===o?this._writer.addClass(r.split(" "),n):this._writer.setAttribute(o,r,n);this._initialDomRootAttributes.set(t,i);const s=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};s(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(t,e)=>this._renderer.markToSync("children",e)),n.on("change:attributes",(t,e)=>this._renderer.markToSync("attributes",e)),n.on("change:text",(t,e)=>this._renderer.markToSync("text",e)),n.on("change:isReadOnly",()=>this.change(s)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach(({name:t})=>e.removeAttribute(t));const n=this._initialDomRootAttributes.get(e);for(const i in n)e.setAttribute(i,n[i]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[n,i]of this.domRoots)e.observe(i,n);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&as({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new le.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){le.b.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return on._createAt(t,e)}createPositionAfter(t){return on._createAfter(t)}createPositionBefore(t){return on._createBefore(t)}createRange(t,e){return new rn(t,e)}createRangeOn(t){return rn._createOn(t)}createRangeIn(t){return rn._createIn(t)}createSelection(t,e,n){return new cn(t,e,n)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}function ws(t){return w(t)?Ee(t):new Map(t)}_e(bs,Ke);class ys{constructor(t){this.parent=null,this._attrs=ws(t)}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new le.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new le.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}get document(){return this.root==this?null:this.root.document||null}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let s=0;for(;n[s]==i[s]&&n[s];)s++;return 0===s?null:n[s-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=ke(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((t,e)=>(t[e[0]]=e[1],t),{})),t}is(t){return"node"==t||"model:node"==t}_clone(){return new ys(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=ws(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}class vs extends ys{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return"text"==t||"model:text"==t||super.is(t)}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new vs(this.data,this.getAttributes())}static fromJSON(t){return new vs(t.data,t.attributes)}}class _s{constructor(t,e,n){if(this.textNode=t,e<0||e>t.offsetSize)throw new le.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||e+n>t.offsetSize)throw new le.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"textProxy"==t||"model:textProxy"==t}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class ks{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((t,e)=>t+e.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new le.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new le.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const n of e)if(!(n instanceof ys))throw new le.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this);this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class Cs extends ys{constructor(t,e,n){super(e),this.name=t,this._children=new ks,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(t,e=null){const n=t.replace(/^model:/,"");return e?"element"==n&&e==this.name:"element"==n||n==this.name||super.is(t)}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(t=>t._clone(!0)):null;return new Cs(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new vs(t)]:(Ie(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new vs(t):t instanceof _s?new vs(t.data,t.getAttributes()):t))}(e);for(const i of n)null!==i.parent&&i._remove(),i.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const i of n)i.parent=null;return n}static fromJSON(t){let e=null;if(t.children){e=[];for(const n of t.children)e.push(n.name?Cs.fromJSON(n):vs.fromJSON(n))}return new Cs(t.name,t.attributes,e)}}class Ss{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new le.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new le.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,this.position=t.startPosition?t.startPosition.clone():Ts._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,i,s;do{i=this.position,s=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i,this._visitedParent=s)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};const i=e.textNode?e.textNode:e.nodeAfter;if(i instanceof Cs)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=i),this.position=e,xs("elementStart",i,t,e,1);if(i instanceof vs){let s;if(this.singleCharacters)s=1;else{let t=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),s=t-e.offset}const o=new _s(i,e.offset-i.startOffset,s);return e.offset+=s,this.position=e,xs("text",o,t,e,s)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():xs("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};const i=e.textNode?e.textNode:e.nodeBefore;if(i instanceof Cs)return e.offset--,this.shallow?(this.position=e,xs("elementStart",i,t,e,1)):(e.path.push(i.maxOffset),this.position=e,this._visitedParent=i,this.ignoreElementEnd?this._previous():xs("elementEnd",i,t,e));if(i instanceof vs){let s;if(this.singleCharacters)s=1;else{let t=i.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),s=e.offset-t}const o=new _s(i,e.offset-i.startOffset-s,s);return e.offset-=s,this.position=e,xs("text",o,t,e,s)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,xs("elementStart",n,t,e,1)}}function xs(t,e,n,i,s){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:s}}}class Ts{constructor(t,e,n="toNone"){if(!t.is("element")&&!t.is("documentFragment"))throw new le.b("model-position-root-invalid: Position root invalid.",t);if(!(e instanceof Array)||0===e.length)throw new le.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",t,{path:e});e=t.getPath().concat(e),this.root=t=t.root,this.path=e,this.stickiness=n}get offset(){return function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}(this.path)}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(!(t=t.getChild(t.offsetToIndex(this.path[e]))))throw new le.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(t.is("text"))throw new le.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const t=this.parent.getChild(this.index);return t instanceof vs&&t.startOffset<this.offset?t:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=ke(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Ss(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(t){if(this.root!=t.root)return[];const e=ke(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){let e=null,n=null;switch(this.compareWith(t)){case"same":return!0;case"before":e=Ts._createAt(this),n=Ts._createAt(t);break;case"after":e=Ts._createAt(t),n=Ts._createAt(this);break;default:return!1}let i=e.parent;for(;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==i.maxOffset)return!1;e.path=e.path.slice(0,-1),i=i.parent,e.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}is(t){return"position"==t||"model:position"==t}hasSameParentAs(t){return this.root===t.root&&"same"==ke(this.getParentPath(),t.getParentPath())}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=Ts._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?Ts._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=Ts._createAt(this);if(this.root!=t.root)return n;if("same"==ke(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==ke(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+e>this.path[i])return null;n.path[i]-=e}}return n}_getTransformedByInsertion(t,e){const n=Ts._createAt(this);if(this.root!=t.root)return n;if("same"==ke(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==ke(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;t.offset<=this.path[i]&&(n.path[i]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return Ts._createAt(this);const i=this._getTransformedByDeletion(t,n);return null===i||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):i._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,i=Ts._createAt(e);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-t.offset,i.path=i.path.concat(this.path.slice(n+1)),i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof Ts)return new Ts(t.root,t.path,t.stickiness);{const i=t;if("end"==e)e=i.maxOffset;else{if("before"==e)return this._createBefore(i,n);if("after"==e)return this._createAfter(i,n);if(0!==e&&!e)throw new le.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,t])}if(!i.is("element")&&!i.is("documentFragment"))throw new le.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,t]);const s=i.getPath();return s.push(e),new this(i.root,s,n)}}static _createAfter(t,e){if(!t.parent)throw new le.b("model-position-after-root: You cannot make a position after root.",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new le.b("model-position-before-root: You cannot make a position before root.",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new Ts(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new le.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",e,{rootName:t.root});return new Ts(e.getRoot(t.root),t.path,t.stickiness)}}class Es{constructor(t,e=null){this.start=Ts._createAt(t),this.end=Ts._createAt(e||t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ss({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==ke(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}containsItem(t){const e=Ts._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}is(t){return"range"==t||"model:range"==t}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Es(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Es(t.end,this.end))):e.push(new Es(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Es(e,n)}return null}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=Ts._createAt(this.start);let i=n.parent;for(;n.path.length>e+1;){const e=i.maxOffset-n.offset;0!==e&&t.push(new Es(n,n.getShiftedBy(e))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){const e=this.end.path[n.path.length-1],i=e-n.offset;0!==i&&t.push(new Es(n,n.getShiftedBy(i))),n.offset=e,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new Ss(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Ss(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new Ss(t);yield e.position;for(const n of e)yield n.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new Es(this.start,this.end)]}getTransformedByOperations(t){const e=[new Es(this.start,this.end)];for(const n of t)for(let t=0;t<e.length;t++){const i=e[t].getTransformedByOperation(n);e.splice(t,1,...i),t+=i.length-1}for(let n=0;n<e.length;n++){const t=e[n];for(let i=n+1;i<e.length;i++){const n=e[i];(t.containsRange(n)||n.containsRange(t)||t.isEqual(n))&&e.splice(i,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Es(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new Es(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=Ts._createAt(n)).offset=0:(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new Es(e,n)):new Es(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new Es(this.start,t),new Es(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const n=new Es(this.start,this.end);return n.start=n.start._getTransformedByInsertion(t,e),n.end=n.end._getTransformedByInsertion(t,e),[n]}}_getTransformedByMove(t,e,n,i=!1){if(this.isCollapsed){const i=this.start._getTransformedByMove(t,e,n);return[new Es(i)]}const s=Es._createFromPositionAndShift(t,n),o=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!i&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const i=this.start._getTransformedByMove(t,e,n),s=this.end._getTransformedByMove(t,e,n);return[new Es(i,s)]}let r;const a=this.getDifference(s);let l=null;const c=this.getIntersection(s);if(1==a.length?l=new Es(a[0].start._getTransformedByDeletion(t,n),a[0].end._getTransformedByDeletion(t,n)):2==a.length&&(l=new Es(this.start,this.end._getTransformedByDeletion(t,n))),r=l?l._getTransformedByInsertion(o,n,null!==c||i):[],c){const t=new Es(c.start._getCombined(s.start,o),c.end._getCombined(s.start,o));2==r.length?r.splice(1,0,t):r.push(t)}return r}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),i=this.end._getTransformedByDeletion(t,e);return null==n&&null==i?null:(null==n&&(n=t),null==i&&(i=t),new Es(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return new this(Ts._createAt(t,0),Ts._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(Ts._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new le.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(1==t.length)return t[0].clone();const e=t[0];t.sort((t,e)=>t.start.isAfter(e.start)?1:-1);const n=t.indexOf(e),i=new this(e.start,e.end);if(n>0)for(let s=n-1;t[s].end.isEqual(i.start);s++)i.start=Ts._createAt(t[s].start);for(let s=n+1;s<t.length&&t[s].start.isEqual(i.end);s++)i.end=Ts._createAt(t[s].end);return i}static fromJSON(t,e){return new this(Ts.fromJSON(t.start,e),Ts.fromJSON(t.end,e))}}class Is{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=this._findPositionIn(n,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),i=this._viewToModelMapping.get(n),s=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=Ts._createAt(i,s)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t){const e=this.toModelElement(t);if(this._viewToModelMapping.delete(t),this._elementToMarkerNames.has(t))for(const n of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(n);this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const i=this._elementToMarkerNames.get(t)||new Set;i.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,i)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));const i=this._elementToMarkerNames.get(t);i&&(i.delete(e),0==i.size&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new Es(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new rn(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={isPhantom:!1}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const i of e)if(i.is("attributeElement"))for(const t of i.getElementsWithSameId())n.add(t);else n.add(i);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("text"))return e;let i=0;for(let s=0;s<e;s++)i+=this.getModelLength(t.getChild(s));return i}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}_findPositionIn(t,e){let n,i=0,s=0,o=0;if(t.is("text"))return new on(t,e);for(;s<e;)n=t.getChild(o),s+=i=this.getModelLength(n),o++;return s==e?this._moveViewPositionToTextNode(new on(t,o)):this._findPositionIn(n,e-(s-i))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof xe?new on(e,e.data.length):n instanceof xe?new on(n,0):t}}_e(Is,fe);class Os{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=As(e),t instanceof _s&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=As(e),t instanceof _s&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=As(e),t instanceof _s&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const i=n.get(e);return void 0===i?null:i}revert(t,e){e=As(e),t instanceof _s&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const i=n.get(t.endOffset);i&&(e=i.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}_addSymbolForTextProxy(t,e,n){const i=Symbol("textProxySymbol");let s,o;return(s=this._textProxyRegistry.get(t))||(s=new Map,this._textProxyRegistry.set(t,s)),(o=s.get(e))||(o=new Map,s.set(e,o)),o.set(n,i),i}}function As(t){const e=t.split(":");return e.length>1?e[0]+":"+e[1]:e[0]}class Ps{constructor(t){this.conversionApi=He({dispatcher:this},t)}convertChanges(t,e,n){for(const i of t.getMarkersToRemove())this.convertMarkerRemove(i.name,i.range,n);for(const i of t.getChanges())"insert"==i.type?this.convertInsert(Es._createFromPositionAndShift(i.position,i.length),n):"remove"==i.type?this.convertRemove(i.position,i.length,i.name,n):this.convertAttribute(i.range,i.attributeKey,i.attributeOldValue,i.attributeNewValue,n);for(const i of this.conversionApi.mapper.flushUnboundMarkerNames()){const t=e.get(i).getRange();this.convertMarkerRemove(i,t,n),this.convertMarkerAdd(i,t,n)}for(const i of t.getMarkersToAdd())this.convertMarkerAdd(i.name,i.range,n)}convertInsert(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);for(const n of t){const t=n.item,e={item:t,range:Es._createFromPositionAndShift(n.previousPosition,n.length)};this._testAndFire("insert",e);for(const n of t.getAttributeKeys())e.attributeKey=n,e.attributeOldValue=null,e.attributeNewValue=t.getAttribute(n),this._testAndFire(`attribute:${n}`,e)}this._clearConversionApi()}convertRemove(t,e,n,i){this.conversionApi.writer=i,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}convertAttribute(t,e,n,i,s){this.conversionApi.writer=s,this.conversionApi.consumable=this._createConsumableForRange(t,`attribute:${e}`);for(const o of t){const t={item:o.item,range:Es._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:e,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${e}`,t)}this._clearConversionApi()}convertSelection(t,e,n){const i=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,i),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(const e of i){const n=e.getRange();if(!Ms(t.getFirstPosition(),e,this.conversionApi.mapper))continue;const i={item:t,markerName:e.name,markerRange:n};this.conversionApi.consumable.test(t,"addMarker:"+e.name)&&this.fire("addMarker:"+e.name,i,this.conversionApi)}for(const e of t.getAttributeKeys()){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.conversionApi.consumable.test(t,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey+":$text",n,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(t,e,n){if(!e.root.document||"$graveyard"==e.root.rootName)return;this.conversionApi.writer=n;const i="addMarker:"+t,s=new Os;if(s.add(e,i),this.conversionApi.consumable=s,this.fire(i,{markerName:t,markerRange:e},this.conversionApi),s.test(e,i)){this.conversionApi.consumable=this._createConsumableForRange(e,i);for(const n of e.getItems()){if(!this.conversionApi.consumable.test(n,i))continue;const s={item:n,range:Es._createOn(n),markerName:t,markerRange:e};this.fire(i,s,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(t,e,n){e.root.document&&"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(t){const e=new Os;for(const n of t){const t=n.item;e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}return e}_createConsumableForRange(t,e){const n=new Os;for(const i of t.getItems())n.add(i,e);return n}_createSelectionConsumable(t,e){const n=new Os;n.add(t,"selection");for(const i of e)n.add(t,"addMarker:"+i.name);for(const i of t.getAttributeKeys())n.add(t,"attribute:"+i);return n}_testAndFire(t,e){this.conversionApi.consumable.test(e.item,t)&&this.fire(t+":"+(e.item.name||"$text"),e,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}function Ms(t,e,n){const i=e.getRange(),s=Array.from(t.getAncestors());return s.shift(),s.reverse(),!s.some(t=>{if(i.containsItem(t))return!!n.toViewElement(t).getCustomProperty("addHighlight")})}_e(Ps,fe);class Ds{constructor(t,e,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new Es(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new Es(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new Es(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof Ds)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Es)this._setRanges([t],!!e&&!!e.backward);else if(t instanceof Ts)this._setRanges([new Es(t)]);else if(t instanceof ys){const i=!!n&&!!n.backward;let s;if("in"==e)s=Es._createIn(t);else if("on"==e)s=Es._createOn(t);else{if(void 0===e)throw new le.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,t]);s=new Es(Ts._createAt(t,e))}this._setRanges([s],i)}else{if(!Ie(t))throw new le.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,t]);this._setRanges(t,e&&!!e.backward)}}_setRanges(t,e=!1){const n=(t=Array.from(t)).some(e=>{if(!(e instanceof Es))throw new le.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[this,t]);return this._ranges.every(t=>!t.isEqual(e))});if(t.length!==this._ranges.length||n){this._removeAllRanges();for(const e of t)this._pushRange(e);this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0})}}setFocus(t,e){if(null===this.anchor)throw new le.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,t]);const n=Ts._createAt(t,e);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new Es(n,i)),this._lastRangeBackward=!0):(this._pushRange(new Es(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){if(1!==this.rangeCount)return null;const t=this.getFirstRange(),e=t.start.nodeAfter;return e instanceof Cs&&e==t.end.nodeBefore?e:null}is(t){return"selection"==t||"model:selection"==t}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=Ns(e.start,t);n&&Fs(n,e)&&(yield n);for(const s of e.getWalker()){const n=s.item;"elementEnd"==s.type&&Rs(n,t,e)&&(yield n)}const i=Ns(e.end,t);i&&!e.end.isTouching(Ts._createAt(i,0))&&Fs(i,e)&&(yield i)}}containsEntireContent(t=this.anchor.root){const e=Ts._createAt(t,0),n=Ts._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new Es(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new le.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Ls(t,e){return!e.has(t)&&(e.add(t),t.document.model.schema.isBlock(t)&&t.parent)}function Rs(t,e,n){return Ls(t,e)&&Fs(t,n)}function Ns(t,e){const n=t.parent.document.model.schema,i=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const o=i.find(t=>!s&&!(s=n.isLimit(t))&&Ls(t,e));return i.forEach(t=>e.add(t)),o}function Fs(t,e){const n=function(t){const e=t.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}(t);return!n||!e.containsRange(Es._createOn(n),!0)}_e(Ds,fe);class Vs extends Es{constructor(t,e){super(t,e),(function(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&(function(t){const e=this.getTransformedByOperation(t),n=Es._createFromRanges(e),i=!n.isEqual(this),s=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let o=null;if(i){"$graveyard"==n.root.rootName&&(o="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:o})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:o})}).call(this,n)},{priority:"low"})}).call(this)}detach(){this.stopListening()}is(t){return"liveRange"==t||"model:liveRange"==t||super.is(t)}toRange(){return new Es(this.start,this.end)}static fromRange(t){return new Vs(t.start,t.end)}}_e(Vs,fe);const js="selection:";class zs{constructor(t){this._selection=new Bs(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}is(t){return"selection"==t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return js+t}static _isStoreAttributeKey(t){return t.startsWith(js)}}_e(zs,fe);class Bs extends Ds{constructor(t){super(),this.markers=new hn({idProperty:"name"}),this._model=t.model,this._document=t,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.listenTo(this._model,"applyOperation",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type){for(;this._fixGraveyardRangesData.length;){const{liveRange:t,sourcePosition:e}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(t,e)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1}))}},{priority:"lowest"}),this.on("change:range",()=>{for(const t of this.getRanges())if(!this._document._validateSelectionRange(t))throw new le.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",this,{range:t})}),this.listenTo(this._model.markers,"update",()=>this._updateMarkers()),this.listenTo(this._document,"change",(t,e)=>{!function(t,e){const n=t.document.differ;for(const i of n.getChanges()){if("insert"!=i.type)continue;const n=i.position.parent;i.length===n.maxOffset&&t.enqueueChange(e,t=>{const e=Array.from(n.getAttributeKeys()).filter(t=>t.startsWith(js));for(const i of e)t.removeAttribute(i,n)})}}(this._model,e)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,n){super.setTo(t,e,n),this._updateAttributes(!0)}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0)}setAttribute(t,e){this._setAttribute(t,e)&&this.fire("change:attribute",{attributeKeys:[t],directChange:!0})}removeAttribute(t){this._removeAttribute(t)&&this.fire("change:attribute",{attributeKeys:[t],directChange:!0})}overrideGravity(){const t=ue();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new le.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=Vs.fromRange(t);return e.on("change:range",(t,n,i)=>{this._hasChangedRange=!0,e.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:e,sourcePosition:i.deletionPosition})}),e}_updateMarkers(){const t=[];for(const e of this._model.markers){const n=e.getRange();for(const i of this.getRanges())n.containsRange(i,!i.isCollapsed)&&t.push(e)}for(const e of t)this.markers.has(e)||this.markers.add(e);for(const e of Array.from(this.markers))t.includes(e)||this.markers.remove(e)}_updateAttributes(t){const e=ws(this._getSurroundingAttributes()),n=ws(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,o]of this._attributePriority)"low"==o&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(e);const i=[];for(const[s,o]of this.getAttributes())n.has(s)&&n.get(s)===o||i.push(s);for(const[s]of n)this.hasAttribute(s)||i.push(s);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(t,e,n=!0){const i=n?"normal":"low";return("low"!=i||"normal"!=this._attributePriority.get(t))&&super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,i),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return!("low"==n&&"normal"==this._attributePriority.get(t)||(this._attributePriority.set(t,n),!super.hasAttribute(t)||(this._attrs.delete(t),0)))}_setAttributesTo(t){const e=new Set;for(const[n,i]of this.getAttributes())t.get(n)!==i&&this._removeAttribute(n,!1);for(const[n,i]of t)this._setAttribute(n,i,!1)&&e.add(n);return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())e.startsWith(js)&&(yield[e.substr(js.length),t.getAttribute(e)])}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const e=t.textNode?t.textNode:t.nodeBefore,i=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=Hs(e)),n||(n=Hs(i)),!this.isGravityOverridden&&!n){let t=e;for(;t&&!n;)n=Hs(t=t.previousSibling)}if(!n){let t=i;for(;t&&!n;)n=Hs(t=t.nextSibling)}n||(n=this._getStoredAttributes())}else{const t=this.getFirstRange();for(const i of t){if(i.item.is("element")&&e.isObject(i.item))break;if("text"==i.type){n=i.item.getAttributes();break}}}return n}_fixGraveyardSelection(t,e){const n=e.clone(),i=this._model.schema.getNearestSelectionRange(n),s=this._ranges.indexOf(t);if(this._ranges.splice(s,1),t.detach(),i){const t=this._prepareRange(i);this._ranges.splice(s,0,t)}}}function Hs(t){return t instanceof _s||t instanceof vs?t.getAttributes():null}class Us{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}var $s=function(t){return ie(t,5)};class Ws extends Us{elementToElement(t){return this.add(function(t){return(t=$s(t)).view=Ks(t.view,"container"),e=>{e.on("insert:"+t.model,function(t){return(e,n,i)=>{const s=t(n.item,i.writer);if(!s)return;if(!i.consumable.consume(n.item,"insert"))return;const o=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,s),i.writer.insert(o,s)}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}attributeToElement(t){return this.add(function(t){let e="attribute:"+((t=$s(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const i of t.model.values)t.view[i]=Ks(t.view[i],"attribute");else t.view=Ks(t.view,"attribute");const n=Gs(t);return i=>{i.on(e,function(t){return(e,n,i)=>{const s=t(n.attributeOldValue,i.writer),o=t(n.attributeNewValue,i.writer);if(!s&&!o)return;if(!i.consumable.consume(n.item,e.name))return;const r=i.writer;if(n.item instanceof Ds||n.item instanceof zs)r.wrap(r.document.selection.getFirstRange(),o);else{let t=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&s&&(t=r.unwrap(t,s)),null!==n.attributeNewValue&&o&&r.wrap(t,o)}}}(n),{priority:t.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e="attribute:"+((t=$s(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const i of t.model.values)t.view[i]=Ys(t.view[i]);else t.view=Ys(t.view);const n=Gs(t);return i=>{i.on(e,function(t){return(e,n,i)=>{const s=t(n.attributeOldValue,n),o=t(n.attributeNewValue,n);if(!s&&!o)return;if(!i.consumable.consume(n.item,e.name))return;const r=i.mapper.toViewElement(n.item),a=i.writer;if(!r)throw new le.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[n,i]);if(null!==n.attributeOldValue&&s)if("class"==s.key){const t=Array.isArray(s.value)?s.value:[s.value];for(const e of t)a.removeClass(e,r)}else if("style"==s.key){const t=Object.keys(s.value);for(const e of t)a.removeStyle(e,r)}else a.removeAttribute(s.key,r);if(null!==n.attributeNewValue&&o)if("class"==o.key){const t=Array.isArray(o.value)?o.value:[o.value];for(const e of t)a.addClass(e,r)}else if("style"==o.key){const t=Object.keys(o.value);for(const e of t)a.setStyle(e,o.value[e],r)}else a.setAttribute(o.key,o.value,r)}}(n),{priority:t.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(t){return(t=$s(t)).view=Ks(t.view,"ui"),e=>{e.on("addMarker:"+t.model,function(t){return(e,n,i)=>{n.isOpening=!0;const s=t(n,i.writer);n.isOpening=!1;const o=t(n,i.writer);if(!s||!o)return;const r=n.markerRange;if(r.isCollapsed&&!i.consumable.consume(r,e.name))return;for(const t of r)if(!i.consumable.consume(t.item,e.name))return;const a=i.mapper,l=i.writer;l.insert(a.toViewPosition(r.start),s),i.mapper.bindElementToMarker(s,n.markerName),r.isCollapsed||(l.insert(a.toViewPosition(r.end),o),i.mapper.bindElementToMarker(o,n.markerName)),e.stop()}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(t,e,n)=>{const i=n.mapper.markerNameToElements(e.markerName);if(i){for(const t of i)n.mapper.unbindElementFromMarkerName(t,e.markerName),n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}},{priority:t.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(t){return e=>{e.on("addMarker:"+t.model,function(t){return(e,n,i)=>{if(!n.item)return;if(!(n.item instanceof Ds||n.item instanceof zs||n.item.is("textProxy")))return;const s=Qs(t,n,i);if(!s)return;if(!i.consumable.consume(n.item,e.name))return;const o=qs(s),r=i.writer,a=r.document.selection;if(n.item instanceof Ds||n.item instanceof zs)r.wrap(a.getFirstRange(),o,a);else{const t=i.mapper.toViewRange(n.range),e=r.wrap(t,o);for(const s of e.getItems())if(s.is("attributeElement")&&s.isSimilar(o)){i.mapper.bindElementToMarker(s,n.markerName);break}}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,function(t){return(e,n,i)=>{if(!n.item)return;if(!(n.item instanceof Cs))return;const s=Qs(t,n,i);if(!s)return;if(!i.consumable.test(n.item,e.name))return;const o=i.mapper.toViewElement(n.item);if(o&&o.getCustomProperty("addHighlight")){i.consumable.consume(n.item,e.name);for(const t of Es._createIn(n.item))i.consumable.consume(t.item,e.name);o.getCustomProperty("addHighlight")(o,s,i.writer),i.mapper.bindElementToMarker(o,n.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(t){return(e,n,i)=>{if(n.markerRange.isCollapsed)return;const s=Qs(t,n,i);if(!s)return;const o=qs(s),r=i.mapper.markerNameToElements(n.markerName);if(r){for(const t of r)i.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(t),o):t.getCustomProperty("removeHighlight")(t,s.id,i.writer);i.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}}function qs(t){const e=new pn("span",t.attributes);return t.classes&&e._addClass(t.classes),t.priority&&(e._priority=t.priority),e._id=t.id,e}function Ks(t,e){return"function"==typeof t?t:(n,i)=>function(t,e,n){let i;"string"==typeof t&&(t={name:t});const s=Object.assign({},t.attributes);if(i="container"==n?e.createContainerElement(t.name,s):"attribute"==n?e.createAttributeElement(t.name,s,{priority:t.priority||pn.DEFAULT_PRIORITY}):e.createUIElement(t.name,s),t.styles){const n=Object.keys(t.styles);for(const s of n)e.setStyle(s,t.styles[s],i)}if(t.classes){const n=t.classes;if("string"==typeof n)e.addClass(n,i);else for(const t of n)e.addClass(t,i)}return i}(t,i,e)}function Gs(t){return t.model.values?(e,n)=>{const i=t.view[e];return i?i(e,n):null}:t.view}function Ys(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function Qs(t,e,n){const i="function"==typeof t?t(e,n):t;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}class Zs extends Us{elementToElement(t){return this.add(Js(t))}elementToAttribute(t){return this.add(function(t){to(t=$s(t));const e=eo(t,!1),n=Xs(t.view),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e=null;("string"==typeof(t=$s(t)).view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let n;return n="class"==e||"style"==e?{["class"==e?"classes":"styles"]:t.view.value}:{attributes:{[e]:void 0===t.view.value?/[\s\S]*/:t.view.value}},t.view.name&&(n.name=t.view.name),t.view=n,e}(t)),to(t,e);const n=eo(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(t){return function(t){const e=t.model;t.model=(t,n)=>{const i="string"==typeof e?e:e(t);return n.createElement("$marker",{"data-name":i})}}(t=$s(t)),Js(t)}(t))}}function Js(t){const e=function(t){const e=t.view?new Oe(t.view):null;return(n,i,s)=>{let o={};if(e){const t=e.match(i.viewItem);if(!t)return;o=t.match}o.name=!0;const r=function(t,e,n){return t instanceof Function?t(e,n):n.createElement(t)}(t.model,i.viewItem,s.writer);if(!r)return;if(!s.consumable.test(i.viewItem,o))return;const a=s.splitToAllowedParent(r,i.modelCursor);if(!a)return;s.writer.insert(r,a.position),s.convertChildren(i.viewItem,s.writer.createPositionAt(r,0)),s.consumable.consume(i.viewItem,o);const l=s.getSplitParts(r);i.modelRange=new Es(s.writer.createPositionBefore(r),s.writer.createPositionAfter(l[l.length-1])),i.modelCursor=a.cursorParent?s.writer.createPositionAt(a.cursorParent,0):i.modelRange.end}}(t=$s(t)),n=Xs(t.view),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"normal"})}}function Xs(t){return"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null}function to(t,e=null){const n=null===e||(t=>t.getAttribute(e));t.model={key:"object"!=typeof t.model?t.model:t.model.key,value:"object"!=typeof t.model||void 0===t.model.value?n:t.model.value}}function eo(t,e){const n=new Oe(t.view);return(i,s,o)=>{const r=n.match(s.viewItem);if(!r)return;const a=t.model.key,l="function"==typeof t.model.value?t.model.value(s.viewItem):t.model.value;null!==l&&(function(t,e){const n="function"==typeof t?t(e):t;return!("object"==typeof n&&!Xs(n)||n.classes||n.attributes||n.styles)}(t.view,s.viewItem)?r.match.name=!0:delete r.match.name,o.consumable.test(s.viewItem,r.match)&&(s.modelRange||(s=Object.assign(s,o.convertChildren(s.viewItem,s.modelCursor))),function(t,e,n,i){let s=!1;for(const o of Array.from(t.getItems({shallow:n})))i.schema.checkAttribute(o,e.key)&&(i.writer.setAttribute(e.key,e.value,o),s=!0);return s}(s.modelRange,{key:a,value:l},e,o)&&o.consumable.consume(s.viewItem,r.match)))}}class no{constructor(t){this.model=t,this.view=new bs,this.mapper=new Is,this.downcastDispatcher=new Ps({mapper:this.mapper});const e=this.model.document,n=e.selection,i=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(e,"change",()=>{this.view.change(t=>{this.downcastDispatcher.convertChanges(e.differ,i,t),this.downcastDispatcher.convertSelection(n,i,t)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return(n,i)=>{const s=i.newSelection,o=new Ds,r=[];for(const t of s.getRanges())r.push(e.toModelRange(t));o.setTo(r,{backward:s.isBackward}),o.isEqual(t.document.selection)||t.change(t=>{t.setSelection(o)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const i=n.writer,s=n.mapper.toViewPosition(e.range.start),o=i.createText(e.item.data);i.insert(s,o)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(t,e,n)=>{const i=n.mapper.toViewPosition(e.position),s=e.position.getShiftedBy(e.length),o=n.mapper.toViewPosition(s,{isPhantom:!0}),r=n.writer.createRange(i,o),a=n.writer.remove(r.getTrimmed());for(const l of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(l)},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const i=n.writer,s=i.document.selection;for(const o of s.getRanges())o.isCollapsed&&o.end.parent.document&&n.writer.mergeAttributes(o.start);i.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const i=e.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const s=[];for(const o of i.getRanges()){const t=n.mapper.toViewRange(o);s.push(t)}n.writer.setSelection(s,{backward:i.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const i=e.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const s=n.writer,o=i.getFirstPosition(),r=n.mapper.toViewPosition(o),a=s.breakAttributes(r);s.setSelection(a)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(t=>{if("$graveyard"==t.rootName)return null;const e=new nn(t.name);return e.rootName=t.rootName,e._document=this.view.document,this.mapper.bindElements(t,e),e})}destroy(){this.view.destroy(),this.stopListening()}}_e(no,Ke);class io{constructor(t,e=[]){this._editor=t,this._availablePlugins=new Map,this._plugins=new Map;for(const n of e)this._availablePlugins.set(n,n),n.pluginName&&this._availablePlugins.set(n.pluginName,n)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let e=t;throw"function"==typeof t&&(e=t.pluginName||t.name),new le.b("plugincollection-plugin-not-loaded: The requested plugin is not loaded.",this._editor,{plugin:e})}return e}has(t){return this._plugins.has(t)}init(t,e=[]){const n=this,i=this._editor,s=new Set,o=[],r=h(t),a=h(e),l=function(t){const e=[];for(const n of t)u(n)||e.push(n);return e.length?e:null}(t);if(l){const t="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(le.a)(t),{plugins:l}),Promise.reject(new le.b(t,this._editor,{plugins:l}))}return Promise.all(r.map(function t(r){if(!a.includes(r)&&!n._plugins.has(r)&&!s.has(r))return function(r){return new Promise(a=>{s.add(r),r.requires&&r.requires.forEach(n=>{const s=u(n);if(e.includes(s))throw new le.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",i,{plugin:s,requiredBy:r});t(s)});const l=new r(i);n._add(r,l),o.push(l),a()})}(r).catch(t=>{throw console.error(Object(le.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:r}),t})})).then(()=>c(o,"init")).then(()=>c(o,"afterInit")).then(()=>o);function c(t,e){return t.reduce((t,n)=>n[e]?t.then(n[e].bind(n)):t,Promise.resolve())}function u(t){return"function"==typeof t?t:n._availablePlugins.get(t)}function h(t){return t.map(t=>u(t)).filter(t=>!!t)}}destroy(){const t=Array.from(this).map(([,t])=>t).filter(t=>"function"==typeof t.destroy).map(t=>t.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;if(n){if(this._plugins.has(n))throw new le.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}_e(io,fe);class so{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new le.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:t});n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const oo=["ar","fa","he","ku","ug"];class ro{constructor(t={}){this.uiLanguage=t.uiLanguage||"en",this.contentLanguage=t.contentLanguage||this.uiLanguage,this.uiLanguageDirection=ao(this.uiLanguage),this.contentLanguageDirection=ao(this.contentLanguage),this.t=(...t)=>this._t(...t)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e){let n=function(t,e){const n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;return 1===n&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0!==n&&function(t,e){return t in window.CKEDITOR_TRANSLATIONS&&e in window.CKEDITOR_TRANSLATIONS[t]}(t,e)?window.CKEDITOR_TRANSLATIONS[t][e].replace(/ \[context: [^\]]+\]$/,""):e.replace(/ \[context: [^\]]+\]$/,"")}(this.uiLanguage,t);return e&&(n=n.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)),n}}function ao(t){return oo.includes(t)?"rtl":"ltr"}class lo{constructor(){this._consumables=new Map}add(t,e){let n;t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new co,this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const o of n)"style"!=o&&"class"!=o&&e.attributes.push(o);const i=t.getClassNames();for(const o of i)e.classes.push(o);const s=t.getStyleNames();for(const o of s)e.styles.push(o);return e}static createFrom(t,e){if(e||(e=new lo),t.is("text"))return e.add(t),e;t.is("element")&&e.add(t,lo.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=lo.createFrom(n,e);return e}}class co{constructor(){this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e in this._consumables)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._revert(e,t[e])}_add(t,e){const n=tt(e)?e:[e],i=this._consumables[t];for(const s of n){if("attributes"===t&&("class"===s||"style"===s))throw new le.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);i.set(s,!0)}}_test(t,e){const n=tt(e)?e:[e],i=this._consumables[t];for(const s of n)if("attributes"!==t||"class"!==s&&"style"!==s){const t=i.get(s);if(void 0===t)return null;if(!t)return!1}else{const t="class"==s?"classes":"styles",e=this._test(t,[...this._consumables[t].keys()]);if(!0!==e)return e}return!0}_consume(t,e){const n=tt(e)?e:[e],i=this._consumables[t];for(const s of n)if("attributes"!==t||"class"!==s&&"style"!==s)i.set(s,!1);else{const t="class"==s?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=tt(e)?e:[e],i=this._consumables[t];for(const s of n)if("attributes"!==t||"class"!==s&&"style"!==s)!1===i.get(s)&&i.set(s,!0);else{const t="class"==s?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}class uo{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new ho(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new ho(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new le.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new le.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:t.is&&(t.is("text")||t.is("textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!(!e||!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!(!e||!e.isObject)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof Ts){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof Cs))throw new le.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(n instanceof Cs))throw new le.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",(e,[n,i])=>{if(!i)return;const s=t(n,i);"boolean"==typeof s&&(e.stop(),e.return=s)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[n,i])=>{const s=t(n,i);"boolean"==typeof s&&(e.stop(),e.return=s)},{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;for(e=t instanceof Ts?t.parent:(t instanceof Es?[t]:Array.from(t.getRanges())).reduce((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n},null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new vs("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new Es(t);let n,i;"both"!=e&&"backward"!=e||(n=new Ss({startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(i=new Ss({startPosition:t}));for(const s of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,i)){const t=s.value;if(t.type==(s.walker==n?"elementEnd":"elementStart")&&this.isObject(t.item))return Es._createOn(t.item);if(this.checkChild(t.nextPosition,"$text"))return new Es(t.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("text"))Co(this,n,e);else{const t=Es._createIn(n).getPositions();for(const n of t)Co(this,n.nodeBefore||n.parent,e)}}createContext(t){return new ho(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const i of n)t[i]=po(e[i],i);for(const i of n)fo(t,i);for(const i of n)go(t,i);for(const i of n)mo(t,i),bo(t,i);for(const i of n)wo(t,i),yo(t,i);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const i=e.getItem(n);if(t.allowIn.includes(i.name)){if(0==n)return!0;{const t=this.getDefinition(i);return this._checkContextMatch(t,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,i=t.start;for(const s of t.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(Es._createIn(s),e)),this.checkAttribute(s,e)||(n.isEqual(i)||(yield new Es(n,i)),n=Ts._createAfter(s)),i=Ts._createAfter(s);n.isEqual(i)||(yield new Es(n,i))}}_e(uo,Ke);class ho{constructor(t){if(t instanceof ho)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(ko)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new ho([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}}function po(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(t,e){for(const n of t){const t=Object.keys(n).filter(t=>t.startsWith("is"));for(const i of t)e[i]=n[i]}}(t,n),vo(t,n,"allowIn"),vo(t,n,"allowContentOf"),vo(t,n,"allowWhere"),vo(t,n,"allowAttributes"),vo(t,n,"allowAttributesOf"),vo(t,n,"inheritTypesFrom"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,n),n}function fo(t,e){for(const n of t[e].allowContentOf)t[n]&&_o(t,n).forEach(t=>{t.allowIn.push(e)});delete t[e].allowContentOf}function go(t,e){for(const n of t[e].allowWhere){const i=t[n];i&&t[e].allowIn.push(...i.allowIn)}delete t[e].allowWhere}function mo(t,e){for(const n of t[e].allowAttributesOf){const i=t[n];i&&t[e].allowAttributes.push(...i.allowAttributes)}delete t[e].allowAttributesOf}function bo(t,e){const n=t[e];for(const i of n.inheritTypesFrom){const e=t[i];if(e){const t=Object.keys(e).filter(t=>t.startsWith("is"));for(const i of t)i in n||(n[i]=e[i])}}delete n.inheritTypesFrom}function wo(t,e){const n=t[e],i=n.allowIn.filter(e=>t[e]);n.allowIn=Array.from(new Set(i))}function yo(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function vo(t,e,n){for(const i of t)"string"==typeof i[n]?e[n].push(i[n]):Array.isArray(i[n])&&e[n].push(...i[n])}function _o(t,e){const n=t[e];return function(t){return Object.keys(t).map(e=>t[e])}(t).filter(t=>t.allowIn.includes(n.name))}function ko(t){return"string"==typeof t?{name:t,*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}function Co(t,e,n){for(const i of e.getAttributeKeys())t.checkAttribute(e,i)||n.removeAttribute(i,e)}class So{constructor(t={}){this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let n;for(const i of new ho(t)){const t={};for(const e of i.getAttributeKeys())t[e]=i.getAttribute(e);const s=e.createElement(i.name,t);n&&e.append(s,n),n=Ts._createAt(s,0)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=lo.createFrom(t),this.conversionApi.store={};const{modelRange:i}=this._convertItem(t,this._modelCursor),s=e.createDocumentFragment();if(i){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,s);s.markers=function(t,e){const n=new Set,i=new Map,s=Es._createIn(t).getItems();for(const o of s)"$marker"==o.name&&n.add(o);for(const o of n){const t=o.getAttribute("data-name"),n=e.createPositionBefore(o);i.has(t)?i.get(t).end=n.clone():i.set(t,new Es(n.clone())),e.remove(o)}return i}(s,e)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(t,e){const n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Es))throw new le.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){const n=new Es(e);let i=e;for(const s of Array.from(t.getChildren())){const t=this._convertItem(s,i);t.modelRange instanceof Es&&(n.end=t.modelRange.end,i=t.modelCursor)}return{modelRange:n,modelCursor:i}}_splitToAllowedParent(t,e){const n=this.conversionApi.schema.findAllowedParent(e,t);if(!n)return null;if(n===e.parent)return{position:e};if(this._modelCursor.parent.getAncestors().includes(n))return null;const i=this.conversionApi.writer.split(e,n),s=[];for(const o of i.range.getWalker())if("elementEnd"==o.type)s.push(o.item);else{const t=s.pop();this._registerSplitPair(t,o.item)}return{position:i.position,cursorParent:i.range.end.parent}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){return this._splitParts.has(t)?this._splitParts.get(t):[t]}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}_e(So,fe);class xo{constructor(t,e){this.model=t,this.processor=e,this.mapper=new Is,this.downcastDispatcher=new Ps({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const i=n.writer,s=n.mapper.toViewPosition(e.range.start),o=i.createText(e.item.data);i.insert(s,o)},{priority:"lowest"}),this.upcastDispatcher=new So({schema:t.schema}),this.upcastDispatcher.on("text",(t,e,n)=>{if(n.schema.checkChild(e.modelCursor,"$text")&&n.consumable.consume(e.viewItem)){const t=n.writer.createText(e.viewItem.data);n.writer.insert(t,e.modelCursor),e.modelRange=Es._createFromPositionAndShift(e.modelCursor,t.offsetSize),e.modelCursor=e.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}},{priority:"lowest"}),this.decorate("init"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"})}get(t){const{rootName:e="main",trim:n="empty"}=t||{};if(!this._checkIfRootsExists([e]))throw new le.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);const i=this.model.document.getRoot(e);return"empty"!==n||this.model.hasContent(i,{ignoreWhitespaces:!0})?this.stringify(i):""}stringify(t){const e=this.toView(t);return this.processor.toData(e)}toView(t){this.mapper.clearBindings();const e=Es._createIn(t),n=new Mn,i=new Dn(new dn);if(this.mapper.bindElements(t,n),this.downcastDispatcher.convertInsert(e,i),!t.is("documentFragment")){const e=function(t){const e=[],n=t.root.document;if(!n)return[];const i=Es._createIn(t);for(const s of n.model.markers){const t=i.getIntersection(s.getRange());t&&e.push([s.name,t])}return e}(t);for(const[t,n]of e)this.downcastDispatcher.convertMarkerAdd(t,n,i)}return n}init(t){if(this.model.document.version)throw new le.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new le.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",t=>{for(const n of Object.keys(e)){const i=this.model.document.getRoot(n);t.insert(this.parse(e[n],i),i,0)}}),Promise.resolve()}set(t){let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new le.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",t=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const n of Object.keys(e)){const i=this.model.document.getRoot(n);t.remove(t.createRangeIn(i)),t.insert(this.parse(e[n],i),i,0)}})}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change(n=>this.upcastDispatcher.convert(t,n,e))}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRootNames().includes(e))return!1;return!0}}_e(xo,Ke);class To{constructor(t,e){this._helpers=new Map,this._downcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new le.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new le.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of Eo(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of Eo(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of Eo(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new le.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);const i=n?new Ws(e):new Zs(e);this._helpers.set(t,i)}}function*Eo(t){if(t.model.values)for(const e of t.model.values)yield*Io({key:t.model.key,value:e},t.view[e],t.upcastAlso?t.upcastAlso[e]:void 0);else yield*Io(t.model,t.view,t.upcastAlso)}function*Io(t,e,n){if(yield{model:t,view:e},n){n=Array.isArray(n)?n:[n];for(const e of n)yield{model:t,view:e}}}class Oo{constructor(t="default"){this.operations=[],this.type=t}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class Ao{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}class Po{constructor(t){this.markers=new Map,this._children=new ks,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t||"model:documentFragment"==t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)e.push(n.name?Cs.fromJSON(n):vs.fromJSON(n));return new Po(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new vs(t)]:(Ie(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new vs(t):t instanceof _s?new vs(t.data,t.getAttributes()):t))}(e);for(const i of n)null!==i.parent&&i._remove(),i.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const i of n)i.parent=null;return n}}function Mo(t,e){const n=(e=Ro(e)).reduce((t,e)=>t+e.offsetSize,0),i=t.parent;Fo(t);const s=t.index;return i._insertChild(s,e),No(i,s+e.length),No(i,s),new Es(t,t.getShiftedBy(n))}function Do(t){if(!t.isFlat)throw new le.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);const e=t.start.parent;Fo(t.start),Fo(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return No(e,t.start.index),n}function Lo(t,e){if(!t.isFlat)throw new le.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);const n=Do(t);return Mo(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function Ro(t){const e=[];t instanceof Array||(t=[t]);for(let n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new vs(t[n]));else if(t[n]instanceof _s)e.push(new vs(t[n].data,t[n].getAttributes()));else if(t[n]instanceof Po||t[n]instanceof ks)for(const i of t[n])e.push(i);else t[n]instanceof ys&&e.push(t[n]);for(let n=1;n<e.length;n++){const t=e[n],i=e[n-1];t instanceof vs&&i instanceof vs&&Vo(t,i)&&(e.splice(n-1,2,new vs(i.data+t.data,i.getAttributes())),n--)}return e}function No(t,e){const n=t.getChild(e-1),i=t.getChild(e);if(n&&i&&n.is("text")&&i.is("text")&&Vo(n,i)){const s=new vs(n.data+i.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,s)}}function Fo(t){const e=t.textNode,n=t.parent;if(e){const i=t.offset-e.startOffset,s=e.index;n._removeChildren(s,1);const o=new vs(e.data.substr(0,i),e.getAttributes()),r=new vs(e.data.substr(i),e.getAttributes());n._insertChild(s,[o,r])}}function Vo(t,e){const n=t.getAttributes(),i=e.getAttributes();for(const s of n){if(s[1]!==e.getAttribute(s[0]))return!1;i.next()}return i.next().done}var jo=function(t,e){return Di(t,e)};class zo extends Ao{constructor(t,e,n,i,s){super(s),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new zo(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new zo(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new le.b("attribute-operation-range-not-flat: The range to change is not flat.",this);for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!jo(t.getAttribute(this.key),this.oldValue))throw new le.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new le.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:t,key:this.key})}}_execute(){jo(this.oldValue,this.newValue)||function(t,e,n){Fo(t.start),Fo(t.end);for(const i of t.getItems({shallow:!0})){const t=i.is("textProxy")?i.textNode:i;null!==n?t._setAttribute(e,n):t._removeAttribute(e),No(t.parent,t.index)}No(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new zo(Es.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Bo extends Ao{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new le.b("detach-operation-on-document-node: Cannot detach document node.",this)}_execute(){Do(Es._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Ho extends Ao{constructor(t,e,n,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new le.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(t===e&&n<i&&i<n+this.howMany)throw new le.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==ke(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new le.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}_execute(){Lo(Es._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=Ts.fromJSON(t.sourcePosition,e),i=Ts.fromJSON(t.targetPosition,e);return new this(n,t.howMany,i,t.baseVersion)}}class Uo extends Ao{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new ks(Ro(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new ks([...this.nodes].map(t=>t._clone(!0))),e=new Uo(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=new Ts(this.position.root.document.graveyard,[0]);return new Ho(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new le.b("insert-operation-position-invalid: Insertion position is invalid.",this)}_execute(){const t=this.nodes;this.nodes=new ks([...t].map(t=>t._clone(!0))),Mo(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const s of t.nodes)n.push(s.name?Cs.fromJSON(s):vs.fromJSON(s));const i=new Uo(Ts.fromJSON(t.position,e),n,t.baseVersion);return i.shouldReceiveAttributes=t.shouldReceiveAttributes,i}}class $o extends Ao{constructor(t,e,n,i,s,o){super(o),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=s,this._markers=i}get type(){return"marker"}clone(){return new $o(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new $o(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this._markers[this.newRange?"_set":"_remove"](this.name,this.newRange,!0,this.affectsData)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new $o(t.name,t.oldRange?Es.fromJSON(t.oldRange,e):null,t.newRange?Es.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}class Wo extends Ao{constructor(t,e,n,i){super(i),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new Wo(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Wo(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof Cs))throw new le.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(t.name!==this.oldName)throw new le.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new Wo(Ts.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class qo extends Ao{constructor(t,e,n,i,s){super(s),this.root=t,this.key=e,this.oldValue=n,this.newValue=i}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new qo(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new qo(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new le.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new le.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new le.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new le.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:t.root});return new qo(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Ko extends Ao{constructor(t,e,n,i,s){super(s),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new Ts(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Es(this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new Ts(this.sourcePosition.root,e)._getTransformedByMergeOperation(this),i=new Go(t,this.howMany,this.graveyardPosition,this.baseVersion+1);return i.insertionPosition=n,i}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new le.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!e.parent)throw new le.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=t.maxOffset)throw new le.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}_execute(){const t=this.sourcePosition.parent;Lo(Es._createIn(t),this.targetPosition),Lo(Es._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=Ts.fromJSON(t.sourcePosition,e),i=Ts.fromJSON(t.targetPosition,e),s=Ts.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,i,s,t.baseVersion)}}class Go extends Ao{constructor(t,e,n,i){super(i),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=Go.getInsertionPosition(t),this.insertionPosition.stickiness="toNone",this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new Ts(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Es(this.splitPosition,t)}clone(){const t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}getReversed(){const t=new Ts(this.splitPosition.root.document.graveyard,[0]);return new Ko(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent;if(!t||t.maxOffset<this.splitPosition.offset)throw new le.b("split-operation-position-invalid: Split position is invalid.",this);if(!t.parent)throw new le.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new le.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new le.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)Lo(Es._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();Mo(this.insertionPosition,e)}Lo(new Es(Ts._createAt(t,this.splitPosition.offset),Ts._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new Ts(t.root,e)}static fromJSON(t,e){const n=Ts.fromJSON(t.splitPosition,e),i=Ts.fromJSON(t.insertionPosition,e),s=t.graveyardPosition?Ts.fromJSON(t.graveyardPosition,e):null,o=new this(n,t.howMany,s,t.baseVersion);return o.insertionPosition=i,o}}class Yo extends Cs{constructor(t,e,n="main"){super(e),this._doc=t,this.rootName=n}get document(){return this._doc}is(t,e){const n=t.replace("model:","");return e?"rootElement"==n&&e==this.name||super.is(t,e):"rootElement"==n||super.is(t)}toJSON(){return this.rootName}}class Qo{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new vs(t,e)}createElement(t,e){return new Cs(t,e)}createDocumentFragment(){return new Po}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof vs&&""==t.data)return;const i=Ts._createAt(e,n);if(t.parent){if(er(t.root,i.root))return void this.move(Es._createOn(t),i);if(t.root.document)throw new le.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(t)}const s=new Uo(i,t,i.root.document?i.root.document.version:null);if(t instanceof vs&&(s.shouldReceiveAttributes=!0),this.batch.addOperation(s),this.model.applyOperation(s),t instanceof Po)for(const[o,r]of t.markers){const t=Ts._createAt(r.root,0),e={range:new Es(r.start._getCombined(t,i),r.end._getCombined(t,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(o)?this.updateMarker(o,e):this.addMarker(o,e)}}insertText(t,e,n,i){e instanceof Po||e instanceof Cs||e instanceof Ts?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,i)}insertElement(t,e,n,i){e instanceof Po||e instanceof Cs||e instanceof Ts?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,i)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof Po||e instanceof Cs?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof Po||e instanceof Cs?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof Es){const i=n.getMinimalFlatRanges();for(const n of i)Zo(this,t,e,n)}else Jo(this,t,e,n)}setAttributes(t,e){for(const[n,i]of ws(t))this.setAttribute(n,i,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof Es){const n=e.getMinimalFlatRanges();for(const e of n)Zo(this,t,null,e)}else Jo(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof Es)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof Es))throw new le.b("writer-move-invalid-range: Invalid range to move.",this);if(!t.isFlat)throw new le.b("writer-move-range-not-flat: Range to move is not flat.",this);const i=Ts._createAt(e,n);if(i.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!er(t.root,i.root))throw new le.b("writer-move-different-document: Range is going to be moved between different documents.",this);const s=new Ho(t.start,t.end.offset-t.start.offset,i,t.root.document?t.root.document.version:null);this.batch.addOperation(s),this.model.applyOperation(s)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof Es?t:Es._createOn(t)).getMinimalFlatRanges().reverse();for(const n of e)this._addOperationForAffectedMarkers("move",n),tr(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof Cs))throw new le.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(n instanceof Cs))throw new le.b("writer-merge-no-element-after: Node after merge position must be an element.",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(t,e,n){return this.model.createSelection(t,e,n)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(Es._createIn(n),Ts._createAt(e,"end")),this.remove(n)}_merge(t){const e=Ts._createAt(t.nodeBefore,"end"),n=Ts._createAt(t.nodeAfter,0),i=new Ts(t.root.document.graveyard,[0]),s=new Ko(n,t.nodeAfter.maxOffset,e,i,t.root.document.version);this.batch.addOperation(s),this.model.applyOperation(s)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof Cs))throw new le.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);const n=t.root.document?t.root.document.version:null,i=new Wo(Ts._createBefore(t),t.name,e,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(t,e){this._assertWriterUsedCorrectly();let n,i,s=t.parent;if(!s.parent)throw new le.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(e||(e=s.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new le.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{const e=new Go(t,s.maxOffset-t.offset,null,s.root.document?s.root.document.version:null);this.batch.addOperation(e),this.model.applyOperation(e),n||i||(n=s,i=t.parent.nextSibling),s=(t=this.createPositionAfter(t.parent)).parent}while(s!==e);return{position:t,range:new Es(Ts._createAt(n,"end"),Ts._createAt(i,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new le.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);const n=e instanceof Cs?e:new Cs(e);if(n.childCount>0)throw new le.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(null!==n.parent)throw new le.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(n,t.start);const i=new Es(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(i,Ts._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new le.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(Es._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new le.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);const n=e.usingOperation,i=e.range,s=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new le.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!i)throw new le.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return n?(Xo(this,t,null,i,s),this.model.markers.get(t)):this.model.markers._set(t,i,n,s)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,i=this.model.markers.get(n);if(!i)throw new le.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(!e)return void this.model.markers._refresh(i);const s="boolean"==typeof e.usingOperation,o="boolean"==typeof e.affectsData,r=o?e.affectsData:i.affectsData;if(!s&&!e.range&&!o)throw new le.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);const a=i.getRange(),l=e.range?e.range:a;s&&e.usingOperation!==i.managedUsingOperations?e.usingOperation?Xo(this,n,null,l,r):(Xo(this,n,a,null,r),this.model.markers._set(n,l,void 0,r)):i.managedUsingOperations?Xo(this,n,a,l,r):this.model.markers._set(n,l,void 0,r)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new le.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);const n=this.model.markers.get(e);n.managedUsingOperations?Xo(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[n,i]of ws(t))this._setSelectionAttribute(n,i)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=zs._getStoreAttributeKey(t);this.setAttribute(i,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=zs._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new le.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let s=!1;if("move"==t)s=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end);else{const t=e.nodeAfter,n=i.end.parent==t&&0==i.end.offset,o=i.end.nodeAfter==t,r=i.start.nodeAfter==t;s=i.start.parent==e.nodeBefore&&i.start.isAtEnd||n||o||r}s&&this.updateMarker(n.name,{range:i})}}}function Zo(t,e,n,i){const s=t.model,o=s.document;let r,a,l,c=i.start;for(const h of i.getWalker({shallow:!0}))l=h.item.getAttribute(e),r&&a!=l&&(a!=n&&u(),c=r),r=h.nextPosition,a=l;function u(){const i=new Es(c,r),l=new zo(i,e,a,n,i.root.document?o.version:null);t.batch.addOperation(l),s.applyOperation(l)}r instanceof Ts&&r!=c&&a!=n&&u()}function Jo(t,e,n,i){const s=t.model,o=s.document,r=i.getAttribute(e);let a,l;if(r!=n){if(i.root===i)l=new qo(i,e,r,n,i.document?o.version:null);else{const s=(a=new Es(Ts._createBefore(i),t.createPositionAfter(i))).root.document?o.version:null;l=new zo(a,e,r,n,s)}t.batch.addOperation(l),s.applyOperation(l)}}function Xo(t,e,n,i,s){const o=t.model,r=new $o(e,n,i,o.markers,s,o.document.version);t.batch.addOperation(r),o.applyOperation(r)}function tr(t,e,n,i){let s;if(t.root.document){const n=i.document,o=new Ts(n.graveyard,[0]);s=new Ho(t,e,o,n.version)}else s=new Bo(t,e);n.addOperation(s),i.applyOperation(s)}function er(t,e){return t===e||t instanceof Yo&&e instanceof Yo}class nr{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize);const e=Es._createOn(t);for(const n of this._markerCollection.getMarkersIntersectingRange(e)){const t=n.getRange();this.bufferMarkerChange(n.name,t,t,n.affectsData)}this._cachedChanges=null}bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=Es._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1),this._markInsert(t.graveyardPosition.parent,t.graveyardPosition.offset,1);const n=t.targetPosition.parent;this._isInInsertedElement(n)||this._markInsert(n,t.targetPosition.offset,e.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n,i){const s=this._changedMarkers.get(t);s?(s.newRange=n,s.affectsData=i,null==s.oldRange&&null==s.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:i})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldRange&&t.push({name:e,range:n.oldRange});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newRange&&t.push({name:e,range:n.newRange});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(t=>({name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}))}hasDataChanges(){for(const[,t]of this._changedMarkers)if(t.affectsData)return!0;return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const e=[];for(const n of this._changesInElement.keys()){const t=this._changesInElement.get(n).sort((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1),i=this._elementSnapshots.get(n),s=ir(n.getChildren()),o=sr(i.length,t);let r=0,a=0;for(const l of o)if("i"===l)e.push(this._getInsertDiff(n,r,s[r].name)),r++;else if("r"===l)e.push(this._getRemoveDiff(n,r,i[a].name)),a++;else if("a"===l){const t=s[r].attributes,o=i[a].attributes;let l;if("$text"==s[r].name)l=new Es(Ts._createAt(n,r),Ts._createAt(n,r+1));else{const t=n.offsetToIndex(r);l=new Es(Ts._createAt(n,r),Ts._createAt(n.getChild(t),0))}e.push(...this._getAttributesDiff(l,o,t)),r++,a++}else r++,a++}e.sort((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1);for(let n=1;n<e.length;n++){const t=e[n-1],i=e[n],s="remove"==t.type&&"remove"==i.type&&"$text"==t.name&&"$text"==i.name&&t.position.isEqual(i.position),o="insert"==t.type&&"insert"==i.type&&"$text"==t.name&&"$text"==i.name&&t.position.parent==i.position.parent&&t.position.offset+t.length==i.position.offset,r="attribute"==t.type&&"attribute"==i.type&&t.position.parent==i.position.parent&&t.range.isFlat&&i.range.isFlat&&t.position.offset+t.length==i.position.offset&&t.attributeKey==i.attributeKey&&t.attributeOldValue==i.attributeOldValue&&t.attributeNewValue==i.attributeNewValue;(s||o||r)&&(e[n-1].length++,r&&(e[n-1].range.end=e[n-1].range.end.getShiftedBy(1)),e.splice(n,1),n--)}for(const n of e)delete n.changeCount,"attribute"==n.type&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.slice().filter(or),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(t,e,n){const i={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i)}_markRemove(t,e,n){const i={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let i=0;i<n.length;i++)n[i].howMany<1&&(n.splice(i,1),i--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,ir(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const i=t.offset+t.howMany,s=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<s&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<s){const s=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:i,howMany:s-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(i<=s)if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<s){const e=s-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(i<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<s)if(i<=s){const i=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:t.offset,howMany:i-n.howMany-t.nodesToHandle,count:this._changeCount++})}else n.howMany-=s-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&i>n.offset){if(i>s){const t={type:"attribute",offset:s,howMany:i-s,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<s&&(i>s?(t.nodesToHandle=i-s,t.offset=s):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&i>n.offset){const s={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(s,e),e.push(s),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&i<=s?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&i>=s&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:Ts._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:Ts._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const i=[];n=new Map(n);for(const[s,o]of e){const e=n.has(s)?n.get(s):null;e!==o&&i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:s,attributeOldValue:o,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(s)}for(const[s,o]of n)i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:s,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return i}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),i=t.startOffset;if(n)for(const s of n)if("insert"==s.type&&i>=s.offset&&i<s.offset+s.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const i=new Es(Ts._createAt(t,e),Ts._createAt(t,e+n));for(const s of i.getItems({shallow:!0}))s.is("element")&&(this._elementSnapshots.delete(s),this._changesInElement.delete(s),this._removeAllNestedChanges(s,0,s.maxOffset))}}function ir(t){const e=[];for(const n of t)if(n.is("text"))for(let t=0;t<n.data.length;t++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function sr(t,e){const n=[];let i=0,s=0;for(const o of e){if(o.offset>i){for(let t=0;t<o.offset-i;t++)n.push("e");s+=o.offset-i}if("insert"==o.type){for(let t=0;t<o.howMany;t++)n.push("i");i=o.offset+o.howMany}else if("remove"==o.type){for(let t=0;t<o.howMany;t++)n.push("r");i=o.offset,s+=o.howMany}else n.push(..."a".repeat(o.howMany).split("")),i=o.offset+o.howMany,s+=o.howMany}if(s<t)for(let o=0;o<t-s-i;o++)n.push("e");return n}function or(t){return!(t.position&&"$graveyard"==t.position.root.rootName||t.range&&"$graveyard"==t.range.root.rootName)}class rr{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(t){this._operations.includes(t)||this._operations.push(t)}getOperations(t=0,e=Number.POSITIVE_INFINITY){return t<0?[]:this._operations.slice(t,e)}getOperation(t){return this._operations[t]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}function ar(t,e){return function(t){return!!t&&1==t.length&&/[\ud800-\udbff]/.test(t)}(t.charAt(e-1))&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e))}function lr(t,e){return function(t){return!!t&&1==t.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t)}(t.charAt(e))}const cr="$graveyard";class ur{constructor(t){this.model=t,this.version=0,this.history=new rr(this),this.selection=new zs(this),this.roots=new hn({idProperty:"rootName"}),this.differ=new nr(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",cr),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new le.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",this,{operation:n})},{priority:"highest"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(t,e,n,i)=>{this.differ.bufferMarkerChange(e.name,n,i,e.affectsData),null===n&&e.on("change",(t,n)=>{this.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData)})})}get graveyard(){return this.getRoot(cr)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new le.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:e});const n=new Yo(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>t!=cr)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Ce(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,i=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(i)||e.createRange(i)}_validateSelectionRange(t){return hr(t.start)&&hr(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),e=n(t))break}while(e)}}function hr(t){const e=t.textNode;if(e){const n=e.data,i=t.offset-e.startOffset;return!ar(n,i)&&!lr(n,i)}return!0}_e(ur,fe);class dr{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,i=!1){const s=t instanceof pr?t.name:t,o=this._markers.get(s);if(o){const t=o.getRange();let r=!1;return t.isEqual(e)||(o._attachLiveRange(Vs.fromRange(e)),r=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,r=!0),"boolean"==typeof i&&i!=o.affectsData&&(o._affectsData=i,r=!0),r&&this.fire("update:"+s,o,t,e),o}const r=Vs.fromRange(e),a=new pr(s,r,n,i);return this._markers.set(s,a),this.fire("update:"+s,a,null,e),a}_remove(t){const e=t instanceof pr?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof pr?t.name:t,n=this._markers.get(e);if(!n)throw new le.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);const i=n.getRange();this.fire("update:"+e,n,i,i,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}_e(dr,fe);class pr{constructor(t,e,n,i){this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new le.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new le.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}getStart(){if(!this._liveRange)throw new le.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new le.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new le.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}is(t){return"marker"==t||"model:marker"==t}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}_e(pr,fe);class fr extends Ts{constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new le.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",t);(function(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&(function(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}).call(this,n)},{priority:"low"})}).call(this)}detach(){this.stopListening()}is(t){return"livePosition"==t||"model:livePosition"==t||super.is(t)}toPosition(){return new Ts(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}_e(fr,fe);class gr{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t,e){t=Array.from(t);for(let n=0;n<t.length;n++)this._handleNode(t[n],{isFirst:0===n&&e.isFirst,isLast:n===t.length-1&&e.isLast});this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?Es._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Es(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t,e){this.schema.isObject(t)?this._handleObject(t,e):this._checkAndSplitToAllowedPosition(t,e)?(this._insert(t),this._mergeSiblingsOf(t,e)):this._handleDisallowedNode(t,e)}_handleObject(t,e){this._checkAndSplitToAllowedPosition(t)?this._insert(t):this._tryAutoparagraphing(t,e)}_handleDisallowedNode(t,e){t.is("element")?this.handleNodes(t.getChildren(),e):this._tryAutoparagraphing(t,e)}_insert(t){if(!this.schema.checkChild(this.position,t))throw new le.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:t,position:this.position});const e=fr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(t,this.position),this.position=e.toPosition(),e.detach(),this.nodeToSelect=this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?t:null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=fr.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=fr.fromPosition(t,"toNext"))}_mergeSiblingsOf(t,e){if(!(t instanceof Cs))return;const n=this._canMergeLeft(t,e),i=this._canMergeRight(t,e),s=fr._createBefore(t);s.stickiness="toNext";const o=fr._createAfter(t);if(o.stickiness="toNext",n){const t=fr.fromPosition(this.position);t.stickiness="toNext",this._affectedStart.isEqual(s)&&(this._affectedStart.detach(),this._affectedStart=fr._createAt(s.nodeBefore,"end","toPrevious")),this.writer.merge(s),s.isEqual(this._affectedEnd)&&e.isLast&&(this._affectedEnd.detach(),this._affectedEnd=fr._createAt(s.nodeBefore,"end","toNext")),this.position=t.toPosition(),t.detach()}if(i){if(!this.position.isEqual(o))throw new le.b("insertcontent-invalid-insertion-position",this);this.position=Ts._createAt(o.nodeBefore,"end");const t=fr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=fr._createAt(o.nodeBefore,"end","toNext")),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&e.isFirst&&(this._affectedStart.detach(),this._affectedStart=fr._createAt(o.nodeBefore,0,"toPrevious")),this.position=t.toPosition(),t.detach()}(n||i)&&this._filterAttributesOf.push(this.position.parent),s.detach(),o.detach()}_canMergeLeft(t,e){const n=t.previousSibling;return e.isFirst&&n instanceof Cs&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,t)}_canMergeRight(t,e){const n=t.nextSibling;return e.isLast&&n instanceof Cs&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(t,n)}_tryAutoparagraphing(t,e){const n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,t)&&(n._appendChild(t),this._handleNode(n,e))}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(t,this.position.parent);if(!e)return!1;for(;e!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===e&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(t,e){return this.schema.checkChild(e,t)?e:e.parent?this._getAllowedIn(t,e.parent):null}}function mr(t,e,n){const i=t.createElement("paragraph");t.insert(i,e),br(t,n,t.createPositionAt(i,0))}function br(t,e,n){e instanceof zs?t.setSelection(n):e.setTo(n)}const wr=' ,.?!:;"-()';function yr(t,e){if("text"==e.type)return"word"===t.unit?function(t,e){let n=t.position.textNode;if(n){let i=t.position.offset-n.startOffset;for(;!vr(n.data,i,e)&&!_r(n,i,e);){t.next();const s=e?t.position.nodeAfter:t.position.nodeBefore;if(s&&s.is("text")){const i=s.data.charAt(e?0:s.data.length-1);wr.includes(i)||(t.next(),n=t.position.textNode)}i=t.position.offset-n.startOffset}}return t.position}(t.walker,t.isForward):function(t,e){const n=t.position.textNode;if(n){const i=n.data;let s=t.position.offset-n.startOffset;for(;ar(i,s)||"character"==e&&lr(i,s);)t.next(),s=t.position.offset-n.startOffset}return t.position}(t.walker,t.unit);if(e.type==(t.isForward?"elementStart":"elementEnd")){if(t.schema.isObject(e.item))return Ts._createAt(e.item,t.isForward?"after":"before");if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}else{if(t.schema.isLimit(e.item))return void t.walker.skip(()=>!0);if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}}function vr(t,e,n){return wr.includes(t.charAt(e+(n?0:-1)))}function _r(t,e,n){return e===(n?t.endOffset:0)}function kr(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map(t=>e.createRangeOn(t)).filter(e=>(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))).forEach(t=>{n.push(t.start.parent),e.remove(t)}),n.forEach(t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=e.createRangeOn(n);n=n.parent,e.remove(t)}})}function Cr(t,e){return t.isCollapsed?function(t,e){const n=t.start,i=e.getNearestSelectionRange(n);if(!i)return null;const s=i.start;return n.isEqual(s)?null:s.nodeAfter&&e.isLimit(s.nodeAfter)?new Es(s,Ts._createAfter(s.nodeAfter)):new Es(s)}(t,e):function(t,e){const n=t.start,i=t.end,s=e.checkChild(n,"$text"),o=e.checkChild(i,"$text"),r=e.getLimitElement(n),a=e.getLimitElement(i);if(r===a){if(s&&o)return null;if(function(t,e,n){const i=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),s=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return i||s}(n,i,e)){const t=n.nodeAfter&&e.isObject(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),s=i.nodeBefore&&e.isObject(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward");return new Es(t?t.start:n,s?s.start:i)}}const l=r&&!r.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const t=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,s=l&&(!t||!xr(n.nodeAfter,e)),o=c&&(!t||!xr(i.nodeBefore,e));let u=n,h=i;return s&&(u=Ts._createBefore(Sr(r,e))),o&&(h=Ts._createAfter(Sr(a,e))),new Es(u,h)}return null}(t,e)}function Sr(t,e){let n=t,i=n;for(;e.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function xr(t,e){return t&&e.isObject(t)}class Tr{constructor(){this.markers=new dr,this.document=new ur(this),this.schema=new uo,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,e)=>{e[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((t,e)=>{if("$marker"===e.name)return!0}),function(t){t.document.registerPostFixer(e=>function(t,e){const n=e.document.selection,i=e.schema,s=[];let o=!1;for(const r of n.getRanges()){const t=Cr(r,i);t?(s.push(t),o=!0):s.push(r)}if(o){let e=s;s.length>1&&(e=[new Es(s[0].start,s[s.length-1].end)]),t.setSelection(e,{backward:n.isBackward})}}(e,t))}(this)}change(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Oo,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){le.b.rethrowUnexpectedError(t,this)}}enqueueChange(t,e){try{"string"==typeof t?t=new Oo(t):"function"==typeof t&&(e=t,t=new Oo),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){le.b.rethrowUnexpectedError(t,this)}}applyOperation(t){t._execute()}insertContent(t,e,n){return function(t,e,n,i){return t.change(s=>{let o;const r=(o=n?n instanceof Ds||n instanceof zs?n:s.createSelection(n,i):t.document.selection).getFirstPosition();o.isCollapsed||t.deleteContent(o,{doNotAutoparagraph:!0});const a=new gr(t,s,r);let l;l=e.is("documentFragment")?e.getChildren():[e],a.handleNodes(l,{isFirst:!0,isLast:!0});const c=a.getSelectionRange();c&&(o instanceof zs?s.setSelection(c):o.setTo(c));const u=a.getAffectedRange()||t.createRange(r);return a.destroy(),u})}(this,t,e,n)}deleteContent(t,e){!function(t,e,n={}){if(e.isCollapsed)return;const i=e.getFirstRange();if("$graveyard"==i.root.rootName)return;const s=t.schema;t.change(t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const i=e.getFirstRange();return i.start.parent!=i.end.parent&&t.checkChild(n,"paragraph")}(s,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),mr(t,t.createPositionAt(n,0),e)}(t,e);const o=i.start,r=fr.fromPosition(i.end,"toNext");if(i.start.isTouching(i.end)||t.remove(i),n.leaveUnmerged||(function t(e,n,i){const s=n.parent,o=i.parent;if(s!=o&&!e.model.schema.isLimit(s)&&!e.model.schema.isLimit(o)&&function(t,e,n){const i=new Es(t,e);for(const s of i.getWalker())if(n.isLimit(s.item))return!1;return!0}(n,i,e.model.schema)){for(n=e.createPositionAfter(s),(i=e.createPositionBefore(o)).isEqual(n)||e.insert(o,n),e.merge(n);i.parent.isEmpty;){const t=i.parent;i=e.createPositionBefore(t),e.remove(t)}t(e,n,i)}}(t,o,r),s.removeDisallowedAttributes(o.parent.getChildren(),t)),br(t,e,o),function(t,e){const n=t.checkChild(e,"$text"),i=t.checkChild(e,"paragraph");return!n&&i}(s,o)){const i=s.getNearestSelectionRange(o);n.doNotAutoparagraph&&i?br(t,e,i):mr(t,o,e)}r.detach()})}(this,t,e)}modifySelection(t,e){!function(t,e,n={}){const i=t.schema,s="backward"!=n.direction,o=n.unit?n.unit:"character",r=new Ss({boundaries:function(t,e){const n=Ts._createAt(t.root,e?"end":0);return e?new Es(t,n):new Es(n,t)}(e.focus,s),singleCharacters:!0,direction:s?"forward":"backward"}),a={walker:r,schema:i,isForward:s,unit:o};let l;for(;l=r.next();){if(l.done)return;const n=yr(a,l.value);if(n)return void(e instanceof zs?t.change(t=>{t.setSelectionFocus(n)}):e.setFocus(n))}}(this,t,e)}getSelectedContent(t){return function(t,e){return t.change(t=>{const n=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return n;const s=i.start.root,o=i.start.getCommonPath(i.end),r=s.getNodeByPath(o);let a;const l=(a=i.start.parent==i.end.parent?i:t.createRange(t.createPositionAt(r,i.start.path[o.length]),t.createPositionAt(r,i.end.path[o.length]+1))).end.offset-a.start.offset;for(const e of a.getItems({shallow:!0}))e.is("textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(e._clone(!0),n);if(a!=i){const e=i._getTransformedByMove(a.start,t.createPositionAt(n,0),l)[0],s=t.createRange(t.createPositionAt(n,0),e.start);kr(t.createRange(e.end,t.createPositionAt(n,"end")),t),kr(s,t)}return n})}(this,t)}hasContent(t,e){const n=t instanceof Cs?Es._createIn(t):t;if(n.isCollapsed)return!1;for(const s of this.markers.getMarkersIntersectingRange(n))if(s.affectsData)return!0;const{ignoreWhitespaces:i=!1}=e||{};for(const s of n.getItems())if(s.is("textProxy")){if(!i)return!0;if(-1!==s.data.search(/\S/))return!0}else if(this.schema.isObject(s))return!0;return!1}createPositionFromPath(t,e,n){return new Ts(t,e,n)}createPositionAt(t,e){return Ts._createAt(t,e)}createPositionAfter(t){return Ts._createAfter(t)}createPositionBefore(t){return Ts._createBefore(t)}createRange(t,e){return new Es(t,e)}createRangeIn(t){return Es._createIn(t)}createRangeOn(t){return Es._createOn(t)}createSelection(t,e,n){return new Ds(t,e,n)}createBatch(t){return new Oo(t)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){this._currentWriter=new Qo(this,this._pendingChanges[0].batch);const e=this._pendingChanges[0].callback(this._currentWriter);t.push(e),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}_e(Tr,Ke);class Er{constructor(){this._listener=Object.create(gi)}listenTo(t){this._listener.listenTo(t,"keydown",(t,e)=>{this._listener.fire("_keydown:"+En(e),e)})}set(t,e,n={}){const i=In(t);this._listener.listenTo(this._listener,"_keydown:"+i,(t,n)=>{e(n,()=>{n.preventDefault(),n.stopPropagation(),t.stop()}),t.return=!0},{priority:n.priority})}press(t){return!!this._listener.fire("_keydown:"+En(t),t)}destroy(){this._listener.stopListening()}}class Ir extends Er{constructor(t){super(),this.editor=t}set(t,e,n={}){if("string"==typeof e){const t=e;e=(e,n)=>{this.editor.execute(t),n()}}super.set(t,e,n)}}class Or{constructor(t){const e=this.constructor.builtinPlugins;this.config=new re(t,this.constructor.defaultConfig),this.config.define("plugins",e),this.plugins=new io(this,e),this.commands=new so;const n=this.config.get("language")||{};this.locale=new ro({uiLanguage:"string"==typeof n?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new Tr,this.data=new xo(this.model),this.editing=new no(this.model),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new To([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Ir(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const t=this.config,e=t.get("plugins")||[],n=t.get("removePlugins")||[],i=t.get("extraPlugins")||[];return this.plugins.init(e.concat(i),n)}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise(t=>this.once("ready",t))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})}execute(...t){try{this.commands.execute(...t)}catch(t){le.b.rethrowUnexpectedError(t,this)}}}_e(Or,Ke);var Ar={setData(t){this.data.set(t)},getData(t){return this.data.get(t)}},Pr={updateSourceElement(){if(!this.sourceElement)throw new le.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);!function(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}(this.sourceElement,this.data.get())}};class Mr{getHtml(t){const e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class Dr{constructor(){this._domParser=new DOMParser,this._domConverter=new hi({blockFillerMode:"nbsp"}),this._htmlWriter=new Mr}toData(t){const e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this._domConverter.domToView(e)}_toDom(t){const e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),i=e.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return n}}class Lr{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){if(this.has(t))throw new le.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:t});this._components.set(Rr(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new le.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:t});return this._components.get(Rr(t)).callback(this.editor.locale)}has(t){return this._components.has(Rr(t))}}function Rr(t){return String(t).toLowerCase()}class Nr{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new le.b("focusTracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}_e(Nr,gi),_e(Nr,Ke);class Fr{constructor(t){this.editor=t,this.componentFactory=new Lr(t),this.focusTracker=new Nr,this._editableElementsMap=new Map,this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}_e(Fr,fe),n(14);const Vr=new WeakMap;function jr(t){const{view:e,element:n,text:i,isDirectHost:s=!0}=t,o=e.document;Vr.has(o)||(Vr.set(o,new Map),o.registerPostFixer(t=>zr(o,t))),Vr.get(o).set(n,{text:i,isDirectHost:s}),e.change(t=>zr(o,t))}function zr(t,e){const n=Vr.get(t);let i=!1;for(const[s,o]of n)Br(e,s,o)&&(i=!0);return i}function Br(t,e,n){const{text:i,isDirectHost:s}=n,o=s?e:function(t){if(1===t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null}(e);let r=!1;return!!o&&(n.hostElement=o,o.getAttribute("data-placeholder")!==i&&(t.setAttribute("data-placeholder",i,o),r=!0),function(t){const e=t.document;if(!e)return!1;const n=!Array.from(t.getChildren()).some(t=>!t.is("uiElement"));if(!e.isFocused&&n)return!0;const i=e.selection.anchor;return!(!n||!i||i.parent===t)}(o)?function(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}(t,o)&&(r=!0):function(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}(t,o)&&(r=!0),r)}class Hr{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}class Ur extends Fr{constructor(t,e){super(t),this.view=e,this._toolbarConfig=function(t){return Array.isArray(t)?{items:t}:t?Object.assign({items:[]},t):{items:[]}}(t.config.get("toolbar")),this._elementReplacer=new Hr}get element(){return this.view.element}init(t){const e=this.view,n=this.editor.editing.view,i=e.editable,s=n.document.getRoot();i.name=s.rootName,e.render();const o=i.element;this.setEditableElement(i.name,o),this.focusTracker.add(o),e.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(o),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy(),super.destroy()}_initToolbar(){const t=this.editor,e=this.view,n=t.editing.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,this._toolbarConfig.viewportTopOffset&&(e.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),e.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function({origin:t,originKeystrokeHandler:e,originFocusTracker:n,toolbar:i,beforeFocus:s,afterBlur:o}){n.add(i.element),e.set("Alt+F10",(t,e)=>{n.isFocused&&!i.focusTracker.isFocused&&(s&&s(),i.focus(),e())}),i.keystrokes.set("Esc",(e,n)=>{i.focusTracker.isFocused&&(t.focus(),o&&o(),n())})}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbar})}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),i=t.sourceElement,s=t.config.get("placeholder")||i&&"textarea"===i.tagName.toLowerCase()&&i.getAttribute("placeholder");s&&jr({view:e,element:n,text:s,isDirectHost:!1})}}class $r extends hn{constructor(t){super({idProperty:"viewUid"}),this.on("add",(t,e,n)=>{e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}),this.on("remove",(t,e)=>{e.element&&this._parentElement&&e.element.remove()}),this.locale=t,this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t}delegate(...t){if(!t.length||!function(t){return t.every(t=>"string"==typeof t)}(t))throw new le.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:e=>{for(const n of this)for(const i of t)n.delegate(i).to(e);this.on("add",(n,i)=>{for(const s of t)i.delegate(s).to(e)}),this.on("remove",(n,i)=>{for(const s of t)i.stopDelegating(s,e)})}}}}class Wr{constructor(t){Object.assign(this,ta(Xr(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new le.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)oa(n)?yield n:ra(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,i)=>new Kr({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:i}),if:(n,i,s)=>new Gr({observable:t,emitter:e,attribute:n,valueIfTrue:i,callback:s})}}static extend(t,e){if(t._isRendered)throw new le.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,t]);!function t(e,n){if(n.attributes&&(e.attributes||(e.attributes={}),ia(e.attributes,n.attributes)),n.eventListeners&&(e.eventListeners||(e.eventListeners={}),ia(e.eventListeners,n.eventListeners)),n.text&&e.text.push(...n.text),n.children&&n.children.length){if(e.children.length!=n.children.length)throw new le.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",e);let i=0;for(const s of n.children)t(e.children[i++],s)}}(t,ta(Xr(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new le.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Yr(this.text)?this._bindToObservable({schema:this.text,updater:function(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){let e,n,i,s;if(!this.attributes)return;const o=t.node,r=t.revertData;for(e in this.attributes)if(i=o.getAttribute(e),n=this.attributes[e],r&&(r.attributes[e]=i),s=S(n[0])&&n[0].ns?n[0].ns:null,Yr(n)){const a=s?n[0].value:n;r&&la(e)&&a.unshift(i),this._bindToObservable({schema:a,updater:Zr(o,e,s),data:t})}else"style"==e&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(r&&i&&la(e)&&n.unshift(i),sa(n=n.map(t=>t&&t.value||t).reduce((t,e)=>t.concat(e),[]).reduce(na,""))||o.setAttributeNS(s,e,n))}_renderStyleAttribute(t,e){const n=e.node;for(const i in t){const s=t[i];Yr(s)?this._bindToObservable({schema:[s],updater:Jr(n,i),data:e}):n.style[i]=s}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,i=t.isApplying;let s=0;for(const o of this.children)if(aa(o)){if(!i){o.setParent(e);for(const t of o)n.appendChild(t.element)}}else if(oa(o))i||(o.isRendered||o.render(),n.appendChild(o.element));else if(ii(o))n.appendChild(o);else if(i){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),o._renderNode({node:n.childNodes[s++],isApplying:!0,revertData:e})}else n.appendChild(o.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(n=>{const[i,s]=e.split("@");return n.activateDomEventListener(i,s,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const i=n.revertData;Qr(t,e,n);const s=t.filter(t=>!sa(t)).filter(t=>t.observable).map(i=>i.activateAttributeListener(t,e,n));i&&i.bindings.push(s)}_revertTemplateFromNode(t,e){for(const n of e.bindings)for(const t of n)t();if(e.text)t.textContent=e.text;else{for(const n in e.attributes){const i=e.attributes[n];null===i?t.removeAttribute(n):t.setAttribute(n,i)}for(let n=0;n<e.children.length;++n)this._revertTemplateFromNode(t.childNodes[n],e.children[n])}}}_e(Wr,fe);class qr{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const i=()=>Qr(t,e,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,i),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,i)}}}class Kr extends qr{activateDomEventListener(t,e,n){const i=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,i),()=>{this.emitter.stopListening(n.node,t,i)}}}class Gr extends qr{getValue(t){return!sa(super.getValue(t))&&(this.valueIfTrue||!0)}}function Yr(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(Yr):t instanceof qr)}function Qr(t,e,{node:n}){let i=function(t,e){return t.map(t=>t instanceof qr?t.getValue(e):t)}(t,n);sa(i=1==t.length&&t[0]instanceof Gr?i[0]:i.reduce(na,""))?e.remove():e.set(i)}function Zr(t,e,n){return{set(i){t.setAttributeNS(n,e,i)},remove(){t.removeAttributeNS(n,e)}}}function Jr(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function Xr(t){return se(t,t=>{if(t&&(t instanceof qr||ra(t)||oa(t)||aa(t)))return t})}function ta(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){Array.isArray(t.text)||(t.text=[t.text])}(t),t.on&&(t.eventListeners=function(t){for(const e in t)ea(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=[].concat(t[e].value)),ea(t,e)}(t.attributes);const e=[];if(t.children)if(aa(t.children))e.push(t.children);else for(const n of t.children)ra(n)||oa(n)||ii(n)?e.push(n):e.push(new Wr(n));t.children=e}return t}function ea(t,e){Array.isArray(t[e])||(t[e]=[t[e]])}function na(t,e){return sa(e)?t:sa(t)?e:`${t} ${e}`}function ia(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function sa(t){return!t&&0!==t}function oa(t){return t instanceof ca}function ra(t){return t instanceof Wr}function aa(t){return t instanceof $r}function la(t){return"class"==t||"style"==t}n(16);class ca{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new hn,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,n)=>{n.locale=t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Wr.bind(this,this)}createCollection(){const t=new $r;return this._viewCollections.add(t),t}registerChild(t){Ie(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){Ie(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new Wr(t)}extendTemplate(t){Wr.extend(this.template,t)}render(){if(this.isRendered)throw new le.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}_e(ca,gi),_e(ca,Ke),n(18);class ua extends ca{constructor(t){super(t),this.body=this.createCollection()}render(){super.render(),this._renderBodyCollection()}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const t=this._bodyCollectionContainer=new Wr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this.body}).render();document.body.appendChild(t)}}n(20);class ha extends ca{constructor(t){super(t),this.set("text"),this.set("for");const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],for:e.to("for")},children:[{text:e.to("text")}]})}}class da extends ua{constructor(t){super(t);const e=ue();this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":`ck-editor__aria-label_${e}`},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(t){const e=this.t,n=new ha;return n.text=e("br"),n.extendTemplate({attributes:{id:`ck-editor__aria-label_${t}`,class:"ck-voice-label"}}),n}}class pa extends ca{constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change(n=>{const i=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",i)})}t.isRenderingInProgress?function n(i){t.once("change:isRenderingInProgress",(t,s,o)=>{o?n(i):e(i)})}(this):e(this)}}class fa extends pa{constructor(t,e,n){super(t,e,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView,e=this.t;t.change(n=>{const i=t.document.getRoot(this.name);n.setAttribute("aria-label",e("bs",[this.name]),i)})}}function ga(t){return e=>e+t}n(22);const ma=ga("px");class ba extends ca{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Wr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",t=>t?"block":"none"),height:e.to("isSticky",t=>t?ma(this._panelRect.height):null)}}}).render(),this._contentPanel=new Wr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",t=>t?ma(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:e.to("_hasViewportTopOffset",t=>t?ma(this.viewportTopOffset):null),bottom:e.to("_isStickyToTheLimiter",t=>t?ma(this.limiterBottomOffset):null),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(ai.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:ma(-ai.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class wa{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const i of n)t.keystrokeHandler.set(i,(t,n)=>{this[e](),n()})}}get first(){return this.focusables.find(ya)||null}get last(){return this.focusables.filter(ya).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,n)=>{const i=e.element===this.focusTracker.focusedElement;return i&&(t=n),i}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];let i=(e+n+t)%n;do{const e=this.focusables.get(i);if(ya(e))return e;i=(i+n+t)%n}while(i!==e);return null}}function ya(t){return!(!t.focus||"none"==ai.window.getComputedStyle(t.element).display)}class va extends ca{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class _a{constructor(t){this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(t){this._elements.add(t),1===this._elements.size&&this._startPeriodicCheck()}unobserve(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}disconnect(){this._elements.forEach(t=>this.unobserve(t))}_startPeriodicCheck(){const t=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(t,100)};this.listenTo(ai.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),t()}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const t=[];for(const e of this._elements)this._hasRectChanged(e)&&t.push({target:e,contentRect:this._previousRects.get(e)});t.length&&this._callback(t)}_hasRectChanged(t){if(!t.ownerDocument.body.contains(t))return!1;const e=new ss(t),n=this._previousRects.get(t),i=!n||!n.isEqual(e);return this._previousRects.set(t,e),i}}_e(_a,gi);class ka extends ca{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",t=>`ck-dropdown__panel_${t}`),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(t=>t.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}function Ca({element:t,target:e,positions:n,limiter:i,fitInViewport:s}){x(e)&&(e=e()),x(i)&&(i=i());const o=function(t){for(;t&&"html"!=t.tagName.toLowerCase();){if("static"!=ai.window.getComputedStyle(t).position)return t;t=t.parentElement}return null}(t.parentElement),r=new ss(t),a=new ss(e);let l,c;if(i||s){const t=i&&new ss(i).getVisible(),e=s&&new ss(ai.window);[c,l]=function(t,e,n,i,s){let o,r,a=0,l=0;const c=n.getArea();return t.some(t=>{const[u,h]=Sa(t,e,n);let d,p;if(i)if(s){const t=i.getIntersection(s);d=t?t.getIntersectionArea(h):0}else d=i.getIntersectionArea(h);function f(){l=p,a=d,o=h,r=u}return s&&(p=s.getIntersectionArea(h)),s&&!i?p>l&&f():!s&&i?d>a&&f():(p>l&&d>=a||p>=l&&d>a)&&f(),d===c}),o?[r,o]:null}(n,a,r,t,e)||Sa(n[0],a,r)}else[c,l]=Sa(n[0],a,r);let{left:u,top:h}=xa(l);if(o){const t=xa(new ss(o)),e=ns(o);u-=t.left,h-=t.top,u+=o.scrollLeft,h+=o.scrollTop,u-=e.left,h-=e.top}return{left:u,top:h,name:c}}function Sa(t,e,n){const{left:i,top:s,name:o}=t(e,n);return[o,n.clone().moveTo(i,s)]}function xa({left:t,top:e}){const{scrollX:n,scrollY:i}=ai.window;return{left:t+n,top:e+i}}n(24);class Ta extends ca{constructor(t,e,n){super(t);const i=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("panelPosition","auto"),this.focusTracker=new Nr,this.keystrokes=new Er,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",t=>!t)]},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&(this.panelView.position="auto"===this.panelPosition?Ta._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const t=(t,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set("arrowdown",(t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())}),this.keystrokes.set("arrowright",(t,e)=>{this.isOpen&&e()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:t,southWest:e,northEast:n,northWest:i}=Ta.defaultPanelPositions;return"ltr"===this.locale.uiLanguageDirection?[t,e,n,i]:[e,t,i,n]}}Ta.defaultPanelPositions={southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.bottom-e.height,left:t.left-e.width+t.width,name:"nw"})},Ta._getOptimalPosition=Ca,n(26);class Ea extends ca{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");for(e&&(this.viewBox=e),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}n(28);class Ia extends ca{constructor(t){super(t),this.set("text",""),this.set("position","s");const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",t=>"ck-tooltip_"+t),e.if("text","ck-hidden",t=>!t.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]})}}n(30);class Oa extends ca{constructor(t){super(t);const e=this.bindTemplate,n=ue();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new Ea,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("isVisible","ck-hidden",t=>!t),e.to("isOn",t=>t?"ck-on":"ck-off"),e.if("withText","ck-button_with-text")],type:e.to("type",t=>t||"button"),tabindex:e.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":e.if("isEnabled",!0,t=>!t),"aria-pressed":e.to("isOn",t=>!!this.isToggleable&&String(t))},children:this.children,on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(t=>{this.isEnabled?this.fire("execute"):t.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView)}focus(){this.element.focus()}_createTooltipView(){const t=new Ia;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}_createLabelView(t){const e=new ca;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:`ck-editor__aria-label_${t}`},children:[{text:this.bindTemplate.to("label")}]}),e}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=function(t){return yn?On(t).map(t=>xn[t.toLowerCase()]||t).reduce((t,e)=>t.slice(-1)in Sn?t+e:t+"+"+e):t}(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}class Aa extends Oa{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Ea;return t.content='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}n(32);class Pa extends ca{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new Nr,this.keystrokes=new Er,this._focusCycler=new wa({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Ma extends ca{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class Da extends ca{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}n(34);class La extends Oa{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new ca;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}function Ra({emitter:t,activator:e,callback:n,contextElements:i}){t.listenTo(document,"mousedown",(t,{target:s})=>{if(e()){for(const t of i)if(t.contains(s))return;n()}})}function Na(t,e=Aa){const n=new e(t),i=new ka(t),s=new Ta(t,n,i);return n.bind("isEnabled").to(s),n instanceof Aa?n.bind("isOn").to(s,"isOpen"):n.arrowView.bind("isOn").to(s,"isOpen"),function(t){(function(t){t.on("render",()=>{Ra({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})})})(t),function(t){t.on("execute",e=>{e.source instanceof La||(t.isOpen=!1)})}(t),function(t){t.keystrokes.set("arrowdown",(e,n)=>{t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set("arrowup",(e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())})}(t)}(s),s}function Fa(t,e){const n=t.locale,i=n.t,s=t.toolbarView=new ja(n);s.set("ariaLabel",i("bt")),t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map(t=>s.items.add(t)),t.panelView.children.add(s),s.items.delegate("execute").to(t)}function Va(t,e){const n=t.locale,i=t.listView=new Pa(n);i.items.bindTo(e).using(({type:t,model:e})=>{if("separator"===t)return new Da(n);if("button"===t||"switchbutton"===t){const i=new Ma(n);let s;return(s="button"===t?new Oa(n):new La(n)).bind(...Object.keys(e)).to(e),s.delegate("execute").to(i),i.children.add(s),i}}),t.panelView.children.add(i),i.items.delegate("execute").to(t)}n(36),n(38),n(40);class ja extends ca{constructor(t,e){super(t);const n=this.bindTemplate,i=this.t;this.options=e||{},this.set("ariaLabel",i("bp")),this.items=this.createCollection(),this.focusTracker=new Nr,this.keystrokes=new Er,this.set("class"),this.itemsView=new za(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection(),this._focusCycler=new wa({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",n.to("class")],role:"toolbar","aria-label":n.to("ariaLabel")},children:this.children,on:{mousedown:function(t){return t.bindTemplate.to(e=>{e.target===t.element&&e.preventDefault()})}(this)}}),this._behavior=this.options.shouldGroupWhenFull?new Ha(this):new Ba(this)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){t.map(t=>{"|"==t?this.items.add(new va):e.has(t)?this.items.add(e.create(t)):console.warn(Object(le.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:t})})}}class za extends ca{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Ba{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(t=>t),t.focusables.bindTo(t.items).using(t=>t),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Ha{constructor(t){this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,t.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("add",(t,e,n)=>{n>this.ungroupedItems.length?this.groupedItems.add(e,n-this.ungroupedItems.length):this.ungroupedItems.add(e,n),this._updateGrouping()}),t.items.on("remove",(t,e,n)=>{n>this.ungroupedItems.length?this.groupedItems.remove(e):this.ungroupedItems.remove(e),this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize()}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.disconnect()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new ss(t.lastChild),i=new ss(t);if(!this.cachedPadding){const n=ai.window.getComputedStyle(t);this.cachedPadding=Number.parseInt(n["ltr"===e?"paddingRight":"paddingLeft"])}return"ltr"===e?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=function(t){return"function"==typeof ai.window.ResizeObserver?new ai.window.ResizeObserver(t):new _a(t)}(([e])=>{t&&t===e.contentRect.width||(this._updateGrouping(),t=e.contentRect.width)}),this.resizeObserver.observe(this.viewElement),this._updateGrouping()}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new va),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=Na(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",Fa(n,[]),n.buttonView.set({label:e("bq"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>\n'}),n.toolbarView.items.bindTo(this.groupedItems).using(t=>t),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}n(42);class Ua extends da{constructor(t,e){super(t),this.stickyPanel=new ba(t),this.toolbar=new ja(t,{shouldGroupWhenFull:!0}),this.editable=new fa(t,e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class $a extends Or{constructor(t,e){super(e),oe(t)&&(this.sourceElement=t),this.data.processor=new Dr,this.model.document.createRoot(),this.ui=new Ur(this,new Ua(this.locale,this.editing.view)),function(t){if(!x(t.updateSourceElement))throw new le.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",t);const e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){let n;const i=e.form,s=()=>t.updateSourceElement();x(i.submit)&&(n=i.submit,i.submit=()=>{s(),n.apply(i)}),i.addEventListener("submit",s),t.on("destroy",()=>{i.removeEventListener("submit",s),n&&(i.submit=n)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise(n=>{const i=new this(t,e);n(i.initPlugins().then(()=>i.ui.init(oe(t)?t:null)).then(()=>{if(!oe(t)&&e.initialData)throw new le.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);const n=e.initialData||function(t){return oe(t)?function(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}(t):t}(t);return i.data.init(n)}).then(()=>i.fire("ready")).then(()=>i))})}}_e($a,Ar),_e($a,Pr);class Wa{constructor(t){this.editor=t}destroy(){this.stopListening()}}_e(Wa,Ke);class qa{constructor(t){this.files=function(t){const e=t.files?Array.from(t.files):[],n=t.items?Array.from(t.items):[];return e.length?e:n.filter(t=>"file"===t.kind).map(t=>t.getAsFile())}(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}}class Ka extends Fi{constructor(t){super(t);const e=this.document;function n(t,n){n.preventDefault();const i=n.dropRange?[n.dropRange]:Array.from(e.selection.getRanges()),s=new ce(e,"clipboardInput");e.fire(s,{dataTransfer:n.dataTransfer,targetRanges:i}),s.stop.called&&n.stopPropagation()}this.domEventType=["paste","copy","cut","drop","dragover"],this.listenTo(e,"paste",n,{priority:"low"}),this.listenTo(e,"drop",n,{priority:"low"})}onDomEvent(t){const e={dataTransfer:new qa(t.clipboardData?t.clipboardData:t.dataTransfer)};"drop"==t.type&&(e.dropRange=function(t,e){const n=e.target.ownerDocument,i=e.clientX,s=e.clientY;let o;return n.caretRangeFromPoint&&n.caretRangeFromPoint(i,s)?o=n.caretRangeFromPoint(i,s):e.rangeParent&&((o=n.createRange()).setStart(e.rangeParent,e.rangeOffset),o.collapse(!0)),o?t.domConverter.domRangeToView(o):t.document.selection.getFirstRange()}(this.view,t)),this.fire(t.type,t,e)}}const Ga=["figcaption","li"];class Ya extends Wa{static get pluginName(){return"Clipboard"}init(){const t=this.editor,e=t.model.document,n=t.editing.view,i=n.document;function s(n,s){const o=s.dataTransfer;s.preventDefault();const r=t.data.toView(t.model.getSelectedContent(e.selection));i.fire("clipboardOutput",{dataTransfer:o,content:r,method:n.name})}this._htmlDataProcessor=new Dr,n.addObserver(Ka),this.listenTo(i,"clipboardInput",e=>{t.isReadOnly&&e.stop()},{priority:"highest"}),this.listenTo(i,"clipboardInput",(t,e)=>{const i=e.dataTransfer;let s="";i.getData("text/html")?s=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1==e.length?" ":e)}(i.getData("text/html")):i.getData("text/plain")&&(s=function(t){return(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(t=`<p>${t}</p>`),t}(i.getData("text/plain"))),s=this._htmlDataProcessor.toView(s),this.fire("inputTransformation",{content:s,dataTransfer:i}),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(t,e)=>{if(!e.content.isEmpty){const t=this.editor.model,n=this.editor.data.toModel(e.content,"$clipboardHolder");if(0==n.childCount)return;t.insertContent(n)}},{priority:"low"}),this.listenTo(i,"copy",s,{priority:"low"}),this.listenTo(i,"cut",(e,n)=>{t.isReadOnly?n.preventDefault():s(e,n)},{priority:"low"}),this.listenTo(i,"clipboardOutput",(n,i)=>{i.content.isEmpty||(i.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(i.content)),i.dataTransfer.setData("text/plain",function t(e){let n="";if(e.is("text")||e.is("textProxy"))n=e.data;else if(e.is("img")&&e.hasAttribute("alt"))n=e.getAttribute("alt");else{let i=null;for(const s of e.getChildren()){const e=t(s);i&&(i.is("containerElement")||s.is("containerElement"))&&(Ga.includes(i.name)||Ga.includes(s.name)?n+="\n":n+="\n\n"),n+=e,i=s}}return n}(i.content))),"cut"==i.method&&t.model.deleteContent(e.selection)},{priority:"low"})}}class Qa{constructor(t){this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(t,"change:isReadOnly",(t,e,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",Za,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",Za),this.refresh())}execute(){}destroy(){this.stopListening()}}function Za(t){t.return=!1,t.stop()}function*Ja(t,e){for(const n of e)n&&t.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}_e(Qa,Ke);class Xa extends Qa{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n,i){const s=n.isCollapsed,o=n.getFirstRange(),r=o.start.parent,a=o.end.parent;if(i.isLimit(r)||i.isLimit(a))s||r!=a||t.deleteContent(n);else if(s){const t=Ja(e.model.schema,n.getAttributes());tl(e,o.start),e.setSelectionAttribute(t)}else{const i=!(o.start.isAtStart&&o.end.isAtEnd),s=r==a;t.deleteContent(n,{leaveUnmerged:i}),i&&(s?tl(e,n.focus):e.setSelection(a,0))}}(this.editor.model,n,e.selection,t.schema),this.fire("afterExecute",{writer:n})})}}function tl(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}class el extends wi{constructor(t){super(t);const e=this.document;e.on("keydown",(t,n)=>{if(this.isEnabled&&n.keyCode==Tn.enter){let i;e.once("enter",t=>i=t,{priority:"highest"}),e.fire("enter",new Ni(e,n.domEvent,{isSoft:n.shiftKey})),i&&i.stop.called&&t.stop()}})}observe(){}}class nl extends Wa{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(el),t.commands.add("enter",new Xa(t)),this.listenTo(n,"enter",(n,i)=>{i.preventDefault(),i.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}class il extends Qa{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n){const i=n.isCollapsed,s=n.getFirstRange(),o=s.end.parent,r=s.start.parent==o;if(i){const i=Ja(t.schema,n.getAttributes());sl(e,s.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(i)}else{const i=!(s.start.isAtStart&&s.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:i}),r?sl(e,n.focus):i&&e.setSelection(o,0)}}(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const i=e.getFirstRange(),s=i.start.parent,o=i.end.parent;return!ol(s,t)&&!ol(o,t)||s===o}(t.schema,t.document.selection)}}function sl(t,e){const n=t.createElement("softBreak");t.insert(n,e),t.setSelection(n,"after")}function ol(t,e){return!t.is("rootElement")&&(e.isLimit(t)||ol(t.parent,e))}class rl extends Wa{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.conversion,n=t.editing.view,i=n.document;t.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),e.for("upcast").elementToElement({model:"softBreak",view:"br"}),e.for("downcast").elementToElement({model:"softBreak",view:(t,e)=>e.createEmptyElement("br")}),n.addObserver(el),t.commands.add("shiftEnter",new il(t)),this.listenTo(i,"enter",(e,i)=>{i.preventDefault(),i.isSoft&&(t.execute("shiftEnter"),n.scrollToTheSelection())},{priority:"low"})}}class al{constructor(t,e=20){this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=(t,e)=>{"transparent"!=e.type&&e!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}class ll extends Qa{constructor(t,e){super(t),this._buffer=new al(t.model,e),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,i=t.text||"",s=i.length,o=t.range||n.selection.getFirstRange(),r=t.resultRange;e.enqueueChange(this._buffer.batch,t=>{const a=o.isCollapsed;this._buffer.lock(),e.deleteContent(e.createSelection(o)),i&&e.insertContent(t.createText(i,n.selection.getAttributes()),o.start),r?t.setSelection(r):a&&t.setSelection(o.start.getShiftedBy(s)),this._buffer.unlock(),this._buffer.input(s),this._batches.add(this._buffer.batch)})}}const cl=[En("arrowUp"),En("arrowRight"),En("arrowDown"),En("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let Kf=112;Kf<=135;Kf++)cl.push(Kf);function ul(t){if(t.newChildren.length-t.oldChildren.length!=1)return;const e=function(t,e){const n=[];let i,s=0;return t.forEach(t=>{"equal"==t?(o(),s++):"insert"==t?(r("insert")?i.values.push(e[s]):(o(),i={type:"insert",index:s,values:[e[s]]}),s++):r("delete")?i.howMany++:(o(),i={type:"delete",index:s,howMany:1})}),o(),n;function o(){i&&(n.push(i),i=null)}function r(t){return i&&i.type==t}}(ti(t.oldChildren,t.newChildren,hl),t.newChildren);if(e.length>1)return;const n=e[0];return n.values[0]&&n.values[0].is("text")?n:void 0}function hl(t,e){return t&&t.is("text")&&e&&e.is("text")?t.data===e.data:t===e}class dl{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,e){if(function(t){if(0==t.length)return!1;for(const e of t)if("children"===e.type&&!ul(e))return!0;return!1}(t))this._handleContainerChildrenMutations(t,e);else for(const n of t)this._handleTextMutation(n,e),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,e){const n=function(t){const e=t.map(t=>t.node).reduce((t,e)=>t.getCommonAncestor(e,{includeSelf:!0}));if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(t=>t.is("containerElement")||t.is("rootElement"))}(t);if(!n)return;const i=this.editor.editing.view.domConverter.mapViewToDom(n),s=new hi,o=this.editor.data.toModel(s.domToView(i)).getChild(0),r=this.editor.editing.mapper.toModelElement(n);if(!r)return;const a=Array.from(o.getChildren()),l=Array.from(r.getChildren()),c=a[a.length-1],u=l[l.length-1];c&&c.is("softBreak")&&u&&!u.is("softBreak")&&a.pop();const h=this.editor.model.schema;if(!pl(a,h)||!pl(l,h))return;const d=a.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," "),p=l.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," ");if(p===d)return;const f=ti(p,d),{firstChangeAt:g,insertions:m,deletions:b}=fl(f);let w=null;e&&(w=this.editing.mapper.toModelRange(e.getFirstRange()));const y=d.substr(g,m),v=this.editor.model.createRange(this.editor.model.createPositionAt(r,g),this.editor.model.createPositionAt(r,g+b));this.editor.execute("input",{text:y,range:v,resultRange:w})}_handleTextMutation(t,e){if("text"!=t.type)return;const n=t.newText.replace(/\u00A0/g," "),i=t.oldText.replace(/\u00A0/g," ");if(i===n)return;const s=ti(i,n),{firstChangeAt:o,insertions:r,deletions:a}=fl(s);let l=null;e&&(l=this.editing.mapper.toModelRange(e.getFirstRange()));const c=this.editing.view.createPositionAt(t.node,o),u=this.editing.mapper.toModelPosition(c),h=this.editor.model.createRange(u,u.getShiftedBy(a)),d=n.substr(o,r);this.editor.execute("input",{text:d,range:h,resultRange:l})}_handleTextNodeInsertion(t){if("children"!=t.type)return;const e=ul(t),n=this.editing.view.createPositionAt(t.node,e.index),i=this.editing.mapper.toModelPosition(n);this.editor.execute("input",{text:e.values[0].data.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}function pl(t,e){return t.every(t=>e.isInline(t))}function fl(t){let e=null,n=null;for(let o=0;o<t.length;o++)"equal"!=t[o]&&(e=null===e?o:e,n=o);let i=0,s=0;for(let o=e;o<=n;o++)"insert"!=t[o]&&i++,"delete"!=t[o]&&s++;return{insertions:s,deletions:i,firstChangeAt:e}}class gl extends Wa{static get pluginName(){return"Input"}init(){const t=this.editor,e=new ll(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),function(t){let e=null;const n=t.model,i=t.editing.view,s=t.commands.get("input");function o(t){const o=n.document,a=i.document.isComposing,l=e&&e.isEqual(o.selection);e=null,s.isEnabled&&(function(t){return!!t.ctrlKey||cl.includes(t.keyCode)}(t)||o.selection.isCollapsed||a&&229===t.keyCode||!a&&229===t.keyCode&&l||r())}function r(){const t=s.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}i.document.on(Cn?"beforeinput":"keydown",(t,e)=>o(e),{priority:"lowest"}),i.document.on("compositionstart",function(){const t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;t.selection.isCollapsed||e||r()},{priority:"lowest"}),i.document.on("compositionend",()=>{e=n.createSelection(n.document.selection)},{priority:"lowest"})}(t),function(t){t.editing.view.document.on("mutations",(e,n,i)=>{new dl(t).handle(n,i)})}(t)}isInput(t){return this.editor.commands.get("input")._batches.has(t)}}class ml extends Qa{constructor(t,e){super(t),this.direction=e,this._buffer=new al(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const s=i.createSelection(t.selection||n.selection),o=s.isCollapsed;if(s.isCollapsed&&e.modifySelection(s,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))return void this._replaceEntireContentWithParagraph(i);if(s.isCollapsed)return;let r=0;s.getFirstRange().getMinimalFlatRanges().forEach(t=>{r+=ln(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(s,{doNotResetEntireContent:o}),this._buffer.input(r),i.setSelection(s),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(i))return!1;if(!e.schema.checkChild(i,"paragraph"))return!1;const s=i.getChild(0);return!s||"paragraph"!==s.name}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.schema.getLimitElement(e.document.selection),i=t.createElement("paragraph");t.remove(t.createRangeIn(n)),t.insert(i,n),t.setSelection(i,0)}}class bl extends wi{constructor(t){super(t);const e=t.document;let n=0;function i(t,n,i){let s;e.once("delete",t=>s=t,{priority:Number.POSITIVE_INFINITY}),e.fire("delete",new Ni(e,n,i)),s&&s.stop.called&&t.stop()}e.on("keyup",(t,e)=>{e.keyCode!=Tn.delete&&e.keyCode!=Tn.backspace||(n=0)}),e.on("keydown",(t,e)=>{const s={};if(e.keyCode==Tn.delete)s.direction="forward",s.unit="character";else{if(e.keyCode!=Tn.backspace)return;s.direction="backward",s.unit="codePoint"}s.unit=(yn?e.altKey:e.ctrlKey)?"word":s.unit,s.sequence=++n,i(t,e.domEvent,s)}),Cn&&e.on("beforeinput",(e,n)=>{if("deleteContentBackward"!=n.domEvent.inputType)return;const s={unit:"codepoint",direction:"backward",sequence:1},o=n.domTarget.ownerDocument.defaultView.getSelection();o.anchorNode==o.focusNode&&o.anchorOffset+1!=o.focusOffset&&(s.selectionToRemove=t.domConverter.domSelectionToView(o)),i(e,n.domEvent,s)})}observe(){}}class wl extends Wa{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document;if(e.addObserver(bl),t.commands.add("forwardDelete",new ml(t,"forward")),t.commands.add("delete",new ml(t,"backward")),this.listenTo(n,"delete",(n,i)=>{const s={unit:i.unit,sequence:i.sequence};if(i.selectionToRemove){const e=t.model.createSelection(),n=[];for(const s of i.selectionToRemove.getRanges())n.push(t.editing.mapper.toModelRange(s));e.setTo(n),s.selection=e}t.execute("forward"==i.direction?"forwardDelete":"delete",s),i.preventDefault(),e.scrollToTheSelection()}),Cn){let t=null;this.listenTo(n,"delete",(e,n)=>{const i=n.domTarget.ownerDocument.defaultView.getSelection();t={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}},{priority:"lowest"}),this.listenTo(n,"keyup",(e,n)=>{if(t){const e=n.domTarget.ownerDocument.defaultView.getSelection();e.collapse(t.anchorNode,t.anchorOffset),e.extend(t.focusNode,t.focusOffset),t=null}})}}}class yl extends Wa{static get requires(){return[gl,wl]}static get pluginName(){return"Typing"}}class vl extends Ao{get type(){return"noop"}clone(){return new vl(this.baseVersion)}getReversed(){return new vl(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const _l=new Map;function kl(t,e,n){let i=_l.get(t);i||(i=new Map,_l.set(t,i)),i.set(e,n)}function Cl(t){return[t]}function Sl(t,e,n={}){const i=function(t,e){const n=_l.get(t);return n&&n.has(e)?n.get(e):Cl}(t.constructor,e.constructor);try{return i(t=t.clone(),e,n)}catch(t){throw t}}function xl(t,e,n){t=t.slice(),e=e.slice();const i=new Tl(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(t),i.setOriginalOperations(e);const s=i.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:s};const o=new WeakMap;for(const l of t)o.set(l,0);const r={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let a=0;for(;a<t.length;){const n=t[a],s=o.get(n);if(s==e.length){a++;continue}const r=e[s],l=Sl(n,r,i.getContext(n,r,!0)),c=Sl(r,n,i.getContext(r,n,!1));i.updateRelation(n,r),i.setOriginalOperations(l,n),i.setOriginalOperations(c,r);for(const t of l)o.set(t,s+c.length);t.splice(a,1,...l),e.splice(s,1,...c)}if(n.padWithNoOps){const n=t.length-r.originalOperationsACount,i=e.length-r.originalOperationsBCount;Il(t,i-n),Il(e,n-i)}return El(t,r.nextBaseVersionB),El(e,r.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:s}}class Tl{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const i of t)this.originalOperations.set(i,n||i)}updateRelation(t,e){switch(t.constructor){case Ho:switch(e.constructor){case Ko:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case Ho:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter")}break;case Go:switch(e.constructor){case Ko:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case Ho:(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))&&this._setRelation(t,e,"splitBefore")}break;case Ko:switch(e.constructor){case Ko:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case Go:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case $o:{const n=t.newRange;if(!n)return;switch(e.constructor){case Ho:{const i=Es._createFromPositionAndShift(e.sourcePosition,e.howMany),s=i.containsPosition(n.start)||i.start.isEqual(n.start),o=i.containsPosition(n.end)||i.end.isEqual(n.end);!s&&!o||i.containsRange(n)||this._setRelation(t,e,{side:s?"left":"right",path:s?n.start.path.slice():n.end.path.slice()});break}case Ko:{const i=n.start.isEqual(e.targetPosition),s=n.start.isEqual(e.deletionPosition),o=n.end.isEqual(e.deletionPosition),r=n.end.isEqual(e.sourcePosition);(i||s||o||r)&&this._setRelation(t,e,{wasInLeftElement:i,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:o,wasInRightElement:r});break}}break}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),i=this._history.getUndoneOperation(n);if(!i)return null;const s=this.originalOperations.get(t),o=this._relations.get(s);return o&&o.get(i)||null}_setRelation(t,e,n){const i=this.originalOperations.get(t),s=this.originalOperations.get(e);let o=this._relations.get(i);o||(o=new Map,this._relations.set(i,o)),o.set(s,n)}}function El(t,e){for(const n of t)n.baseVersion=e++}function Il(t,e){for(let n=0;n<e;n++)t.push(new vl(0))}function Ol(t,e,n){const i=t.nodes.getNode(0).getAttribute(e);if(i==n)return null;const s=new Es(t.position,t.position.getShiftedBy(t.howMany));return new zo(s,e,i,n,0)}function Al(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function Pl(t,e){const n=[];for(let i=0;i<t.length;i++){const s=t[i],o=new Ho(s.start,s.end.offset-s.start.offset,e,0);n.push(o);for(let e=i+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];e=e._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}kl(zo,zo,(t,e,n)=>{if(t.key===e.key){const i=t.range.getDifference(e.range).map(e=>new zo(e,t.key,t.oldValue,t.newValue,0)),s=t.range.getIntersection(e.range);return s&&n.aIsStrong&&i.push(new zo(s,e.key,e.newValue,t.newValue,0)),0==i.length?[new vl(0)]:i}return[t]}),kl(zo,Uo,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(e=>new zo(e,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const i=Ol(e,t.key,t.oldValue);i&&n.unshift(i)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]}),kl(zo,Ko,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(Es._createFromPositionAndShift(e.graveyardPosition,1));const i=t.range._getTransformedByMergeOperation(e);return i.isCollapsed||n.push(i),n.map(e=>new zo(e,t.key,t.oldValue,t.newValue,t.baseVersion))}),kl(zo,Ho,(t,e)=>function(t,e){const n=Es._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,s=[];n.containsRange(t,!0)?i=t:t.start.hasSameParentAs(n.start)?(s=t.getDifference(n),i=t.getIntersection(n)):s=[t];const o=[];for(let r of s){r=r._getTransformedByDeletion(e.sourcePosition,e.howMany);const t=e.getMovedRangeStart(),n=r.start.hasSameParentAs(t);r=r._getTransformedByInsertion(t,e.howMany,n),o.push(...r)}return i&&o.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),o}(t.range,e).map(e=>new zo(e,t.key,t.oldValue,t.newValue,t.baseVersion))),kl(zo,Go,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new Es(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]}),kl(Uo,zo,(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const i=Ol(t,e.key,e.newValue);i&&n.push(i)}return n}),kl(Uo,Uo,(t,e,n)=>(t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t])),kl(Uo,Ho,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),kl(Uo,Go,(t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t])),kl(Uo,Ko,(t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t])),kl($o,Uo,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t])),kl($o,$o,(t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new vl(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]}),kl($o,Ko,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t])),kl($o,Ho,(t,e,n)=>{if(t.oldRange&&(t.oldRange=Es._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const i=Es._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=i.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=i.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=Es._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]}),kl($o,Go,(t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const i=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=Ts._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=Ts._createAt(e.moveTargetPosition)),t.newRange.end=t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?Ts._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?Ts._createAt(e.insertionPosition):i.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]}),kl(Ko,Uo,(t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t])),kl(Ko,Ko,(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new Ts(e.graveyardPosition.root,n),t.howMany=0,[t]}return[new vl(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const i="$graveyard"==t.targetPosition.root.rootName,s="$graveyard"==e.targetPosition.root.rootName;if(s&&!i||(!i||s)&&n.aIsStrong){const n=e.targetPosition._getTransformedByMergeOperation(e),i=t.targetPosition._getTransformedByMergeOperation(e);return[new Ho(n,t.howMany,i,0)]}return[new vl(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),kl(Ko,Ho,(t,e,n)=>{const i=Es._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition)?[new vl(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])}),kl(Ko,Go,(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const i=0!=e.howMany,s=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(i||s||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}),kl(Ho,Uo,(t,e)=>{const n=Es._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]}),kl(Ho,Ho,(t,e,n)=>{const i=Es._createFromPositionAndShift(t.sourcePosition,t.howMany),s=Es._createFromPositionAndShift(e.sourcePosition,e.howMany);let o,r=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),o=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Al(t,e)&&Al(e,t))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(s,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Pl([i],o);if(s.containsPosition(t.targetPosition)&&s.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Pl([i],o);const l=ke(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==l||"extension"==l)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Pl([i],o);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(r=!1):r=!0;const c=[],u=i.getDifference(s);for(const d of u){d.start=d.start._getTransformedByDeletion(e.sourcePosition,e.howMany),d.end=d.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const t="same"==ke(d.start.getParentPath(),e.getMovedRangeStart().getParentPath()),n=d._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,t);c.push(...n)}const h=i.getIntersection(s);return null!==h&&r&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===c.length?c.push(h):1==c.length?s.start.isBefore(i.start)||s.start.isEqual(i.start)?c.unshift(h):c.push(h):c.splice(1,0,h)),0===c.length?[new vl(t.baseVersion)]:Pl(c,o)}),kl(Ho,Go,(t,e,n)=>{let i=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=t.targetPosition._getTransformedBySplitOperation(e));const s=Es._createFromPositionAndShift(t.sourcePosition,t.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=i,[t];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let t=new Es(e.splitPosition,s.end);return t=t._getTransformedBySplitOperation(e),Pl([new Es(s.start,e.splitPosition),t],i)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(i=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(i=t.targetPosition);const o=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const i=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);t.howMany>1&&i&&!n.aWasUndone&&o.push(Es._createFromPositionAndShift(e.insertionPosition,1))}return Pl(o,i)}),kl(Ho,Ko,(t,e,n)=>{const i=Es._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new vl(0)]}else if(!n.aWasUndone){const n=[];let i=e.graveyardPosition.clone(),s=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(n.push(new Ho(t.sourcePosition,t.howMany-1,t.targetPosition,0)),i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),s=s._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const o=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),r=new Ho(i,1,o,0),a=r.getMovedRangeStart().path.slice();a.push(0);const l=new Ts(r.targetPosition.root,a);s=s._getTransformedByMove(i,o,1);const c=new Ho(s,e.howMany,l,0);return n.push(r),n.push(c),n}const s=Es._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=s.start,t.howMany=s.end.offset-s.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]}),kl(Wo,Uo,(t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t])),kl(Wo,Ko,(t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])),kl(Wo,Ho,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),kl(Wo,Wo,(t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new vl(0)];t.oldName=e.newName}return[t]}),kl(Wo,Go,(t,e)=>"same"!=ke(t.position.path,e.splitPosition.getParentPath())||e.graveyardPosition?(t.position=t.position._getTransformedBySplitOperation(e),[t]):[t,new Wo(t.position.getShiftedBy(1),t.oldName,t.newName,0)]),kl(qo,qo,(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new vl(0)];t.oldValue=e.newValue}return[t]}),kl(Go,Uo,(t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=Go.getInsertionPosition(t.splitPosition),[t])),kl(Go,Ko,(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const i=new Ts(e.graveyardPosition.root,n),s=Go.getInsertionPosition(new Ts(e.graveyardPosition.root,n)),o=new Go(i,0,null,0);return o.insertionPosition=s,t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Go.getInsertionPosition(t.splitPosition),t.graveyardPosition=o.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[o,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Go.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),kl(Go,Ho,(t,e,n)=>{const i=Es._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const s=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&s){const n=t.splitPosition._getTransformedByMoveOperation(e),i=t.graveyardPosition._getTransformedByMoveOperation(e),s=i.path.slice();s.push(0);const o=new Ts(i.root,s);return[new Ho(n,t.howMany,o,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}return t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)?(t.howMany-=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=Go.getInsertionPosition(t.splitPosition),[t]):!t.splitPosition.isEqual(e.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.insertionPosition=t.graveyardPosition?t.insertionPosition._getTransformedByMoveOperation(e):Go.getInsertionPosition(t.splitPosition),[t]):(t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=Go.getInsertionPosition(t.splitPosition),[t])}),kl(Go,Go,(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new vl(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new vl(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const i="$graveyard"==t.splitPosition.root.rootName,s="$graveyard"==e.splitPosition.root.rootName;if(s&&!i||(!i||s)&&n.aIsStrong){const n=[];return e.howMany&&n.push(new Ho(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new Ho(t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new vl(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const i=new Ts(e.insertionPosition.root,n);return[t,new Ho(t.insertionPosition,1,i,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=Go.getInsertionPosition(t.splitPosition),[t]});class Ml extends Qa{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const i=this.editor.model,s=i.document,o=[];for(const r of t){const t=Dl(r,n).find(t=>t.start.root!=s.graveyard);t&&o.push(t)}o.length&&i.change(t=>{t.setSelection(o,{backward:e})})}_undo(t,e){const n=this.editor.model,i=n.document;this._createdBatches.add(e);const s=t.operations.slice().filter(t=>t.isDocumentOperation);s.reverse();for(const o of s){const t=Array.from(i.history.getOperations(o.baseVersion+1)),s=xl([o.getReversed()],t,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const r of s)e.addOperation(r),n.applyOperation(r),i.history.setOperationAsUndone(o,r)}}}function Dl(t,e){const n=t.getTransformedByOperations(e);n.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let i=1;i<n.length;i++){const t=n[i-1],e=n[i];t.end.isTouching(e.start)&&(t.end=e.end,n.splice(i,1),i--)}return n}class Ll extends Ml{execute(t=null){const e=t?this._stack.findIndex(e=>e.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],i=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(i,()=>{this._undo(n.batch,i);const t=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,t),this.fire("revert",n.batch,i)}),this.refresh()}}class Rl extends Ml{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(e,()=>{const n=this.editor.model.document.history.getOperations(t.batch.operations[t.batch.operations.length-1].baseVersion+1);this._restoreSelection(t.selection.ranges,t.selection.isBackward,n),this._undo(t.batch,e)}),this.refresh()}}class Nl extends Wa{static get pluginName(){return"UndoEditing"}constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new Ll(t),this._redoCommand=new Rl(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(t,e)=>{const n=e[0];if(!n.isDocumentOperation)return;const i=n.batch,s=this._redoCommand._createdBatches.has(i),o=this._undoCommand._createdBatches.has(i);this._batchRegistry.has(i)||"transparent"==i.type&&!s&&!o||(s?this._undoCommand.addBatch(i):o||(this._undoCommand.addBatch(i),this._redoCommand.clearStack()),this._batchRegistry.add(i))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,e,n)=>{this._redoCommand.addBatch(n)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}var Fl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Vl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class jl extends Wa{init(){const t=this.editor,e=t.locale,n=t.t,i="ltr"==e.uiLanguageDirection?Fl:Vl,s="ltr"==e.uiLanguageDirection?Vl:Fl;this._addButton("undo",n("cr"),"CTRL+Z",i),this._addButton("redo",n("cs"),"CTRL+Y",s)}_addButton(t,e,n,i){const s=this.editor;s.ui.componentFactory.add(t,o=>{const r=s.commands.get(t),a=new Oa(o);return a.set({label:e,icon:i,keystroke:n,tooltip:!0}),a.bind("isEnabled").to(r,"isEnabled"),this.listenTo(a,"execute",()=>s.execute(t)),a})}}class zl extends Wa{static get requires(){return[Nl,jl]}static get pluginName(){return"Undo"}}class Bl extends Wa{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new hn({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!=typeof t)throw new le.b("pendingactions-add-invalid-message: The message must be a string.",this);const e=Object.create(Ke);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class Hl{constructor(){const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise((n,i)=>{e.onload=()=>{const t=e.result;this._data=t,n(t)},e.onerror=()=>{i("error")},e.onabort=()=>{i("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}_e(Hl,Ke);class Ul extends Wa{static get pluginName(){return"FileRepository"}static get requires(){return[Bl]}init(){this.loaders=new hn,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return console.warn(Object(le.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;const e=new $l(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then(t=>{this._loadersMap.set(t,e)}).catch(()=>{}),e.on("change:uploaded",()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t}),e.on("change:uploadTotal",()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t}),e}destroyLoader(t){const e=t instanceof $l?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((t,n)=>{t===e&&this._loadersMap.delete(n)})}_updatePendingAction(){const t=this.editor.plugins.get(Bl);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=t=>`${e("az")} ${parseInt(t)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}_e(Ul,Ke);class $l{constructor(t,e){this.id=ue(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new Hl,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new le.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if("reading"!==this.status)throw this.status;return this.status="idle",t}).catch(t=>{if("aborted"===t)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:t})}upload(){if("idle"!=this.status)throw new le.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{if("aborted"===this.status)throw"aborted";throw this.status="error",t})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise((n,i)=>{e.rejecter=i,e.isFulfilled=!1,t.then(t=>{e.isFulfilled=!0,n(t)}).catch(t=>{e.isFulfilled=!0,i(t)})}),e}}_e($l,Ke);const Wl="abcdefghijklmnopqrstuvwxyz0123456789";class ql extends Wa{static get requires(){return[Ul]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Ul).createUploadAdapter=e=>new Kl(e,t,this.editor.t))}}class Kl{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then(t=>new Promise((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const i=this.xhr,s=this.loader,o=(0,this.t)("b")+` ${n.name}.`;i.addEventListener("error",()=>e(o)),i.addEventListener("abort",()=>e()),i.addEventListener("load",()=>{const n=i.response;if(!n||!n.uploaded)return e(n&&n.error&&n.error.message?n.error.message:o);t({default:n.url})}),i.upload&&i.upload.addEventListener("progress",t=>{t.lengthComputable&&(s.uploadTotal=t.total,s.uploaded=t.loaded)})}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",function(){let t=function(t){t=t.toLowerCase();const e=document.cookie.split(";");for(const n of e){const e=n.split("=");if(decodeURIComponent(e[0].trim().toLowerCase())===t)return decodeURIComponent(e[1])}return null}("ckCsrfToken");return t&&40==t.length||(t=function(t){let e="";const n=new Uint8Array(40);window.crypto.getRandomValues(n);for(let i=0;i<n.length;i++){const t=Wl.charAt(n[i]%Wl.length);e+=Math.random()>.5?t.toUpperCase():t}return e}(),function(t,e){document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(e)+";path=/"}(0,t)),t}()),this.xhr.send(e)}}class Gl{static get pluginName(){return"BlockAutoformatEditing"}constructor(t,e,n){let i,s=null;"function"==typeof n?i=n:(s=t.commands.get(n),i=()=>{t.execute(n)}),t.model.document.on("change",(n,o)=>{if(s&&!s.isEnabled)return;if("transparent"==o.type)return;const r=Array.from(t.model.document.differ.getChanges()),a=r[0];if(1!=r.length||"insert"!==a.type||"$text"!=a.name||1!=a.length)return;const l=a.position.textNode||a.position.nodeAfter;if(!l.parent.is("paragraph"))return;const c=e.exec(l.data);c&&t.model.enqueueChange(t=>{const e=t.createPositionAt(l.parent,0),n=t.createPositionAt(l.parent,c[0].length),s=new Vs(e,n);!1!==i({match:c})&&t.remove(s),s.detach()})})}}class Yl{static get pluginName(){return"InlineAutoformatEditing"}constructor(t,e,n){let i,s,o,r;e instanceof RegExp?i=e:o=e,"string"==typeof n?s=n:r=n,o=o||(t=>{let e;const n=[],s=[];for(;null!==(e=i.exec(t))&&!(e&&e.length<4);){let{index:t,1:i,2:o,3:r}=e;const a=[t+=e[0].length-(i+o+r).length,t+i.length],l=[t+i.length+o.length,t+i.length+o.length+r.length];n.push(a),n.push(l),s.push([t+i.length,t+i.length+o.length])}return{remove:n,format:s}}),r=r||((e,n)=>{const i=t.model.schema.getValidRanges(n,s);for(const t of i)e.setAttribute(s,!0,t);e.removeSelectionAttribute(s)}),t.model.document.on("change",(e,n)=>{if("transparent"==n.type)return;const i=t.model,s=i.document.selection;if(!s.isCollapsed)return;const a=Array.from(i.document.differ.getChanges()),l=a[0];if(1!=a.length||"insert"!==l.type||"$text"!=l.name||1!=l.length)return;const c=s.focus,u=c.parent,{text:h,range:d}=function(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce((t,i)=>i.is("text")||i.is("textProxy")?t+i.data:(n=e.createPositionAfter(i),""),""),range:e.createRange(n,t.end)}}(i.createRange(i.createPositionAt(u,0),c),i),p=o(h),f=Ql(d.start,p.format,i),g=Ql(d.start,p.remove,i);f.length&&g.length&&i.enqueueChange(t=>{if(!1!==r(t,f))for(const e of g.reverse())t.remove(e)})})}}function Ql(t,e,n){return e.filter(t=>void 0!==t[0]&&void 0!==t[1]).map(e=>n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1])))}function Zl(t,e){return(n,i)=>{if(!t.commands.get(e).isEnabled)return!1;const s=t.model.schema.getValidRanges(i,e);for(const t of s)n.setAttribute(e,!0,t);n.removeSelectionAttribute(e)}}class Jl extends Qa{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(n.isCollapsed)i?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const s=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of s)i?t.setAttribute(this.attributeKey,i,e):t.removeAttribute(this.attributeKey,e)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const i of n.getRanges())for(const t of i.getItems())if(e.checkAttribute(t,this.attributeKey))return t.hasAttribute(this.attributeKey);return!1}}const Xl="bold";class tc extends Wa{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Xl}),t.model.schema.setAttributeProperties(Xl,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Xl,view:"strong",upcastAlso:["b",t=>{const e=t.getStyle("font-weight");return e?"bold"==e||Number(e)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add(Xl,new Jl(t,Xl)),t.keystrokes.set("CTRL+B",Xl)}}const ec="bold";class nc extends Wa{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(ec,n=>{const i=t.commands.get(ec),s=new Oa(n);return s.set({label:e("e"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(s,"execute",()=>t.execute(ec)),s})}}const ic="italic";class sc extends Wa{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:ic}),t.model.schema.setAttributeProperties(ic,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:ic,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(ic,new Jl(t,ic)),t.keystrokes.set("CTRL+I",ic)}}const oc="italic";class rc extends Wa{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(oc,n=>{const i=t.commands.get(oc),s=new Oa(n);return s.set({label:e("f"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(s,"execute",()=>t.execute(oc)),s})}}function ac(t){const e=t.next();return e.done?null:e.value}class lc extends Qa{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,i=Array.from(e.document.selection.getSelectedBlocks()),s=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(s){const e=i.filter(t=>cc(t)||hc(n,t));this._applyQuote(t,e)}else this._removeQuote(t,i.filter(cc))})}_getValue(){const t=ac(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!cc(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,e=ac(this.editor.model.document.selection.getSelectedBlocks());return!!e&&hc(t,e)}_removeQuote(t,e){uc(t,e).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const n=t.createPositionBefore(e.start.parent);return void t.move(e,n)}e.end.isAtEnd||t.split(e.end);const n=t.createPositionAfter(e.end.parent);t.move(e,n)})}_applyQuote(t,e){const n=[];uc(t,e).reverse().forEach(e=>{let i=cc(e.start);i||(i=t.createElement("blockQuote"),t.wrap(e,i)),n.push(i)}),n.reverse().reduce((e,n)=>e.nextSibling==n?(t.merge(t.createPositionAfter(e)),e):n)}}function cc(t){return"blockQuote"==t.parent.name?t.parent:null}function uc(t,e){let n,i=0;const s=[];for(;i<e.length;){const o=e[i],r=e[i+1];n||(n=t.createPositionBefore(o)),r&&o.nextSibling==r||(s.push(t.createRange(n,t.createPositionAfter(o))),n=null),i++}return s}function hc(t,e){const n=t.checkChild(e.parent,"blockQuote"),i=t.checkChild(["$root","blockQuote"],e);return n&&i}class dc extends Wa{static get pluginName(){return"BlockQuoteEditing"}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new lc(t)),e.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),e.addChildCheck((t,e)=>{if(t.endsWith("blockQuote")&&"blockQuote"==e.name)return!1}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(n=>{const i=t.model.document.differ.getChanges();for(const t of i)if("insert"==t.type){const i=t.position.nodeAfter;if(!i)continue;if(i.is("blockQuote")&&i.isEmpty)return n.remove(i),!0;if(i.is("blockQuote")&&!e.checkChild(t.position,i))return n.unwrap(i),!0;if(i.is("element")){const t=n.createRangeIn(i);for(const i of t.getItems())if(i.is("blockQuote")&&!e.checkChild(n.createPositionBefore(i),i))return n.unwrap(i),!0}}else if("remove"==t.type){const e=t.position.parent;if(e.is("blockQuote")&&e.isEmpty)return n.remove(e),!0}return!1})}afterInit(){const t=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(e,n)=>{const i=this.editor.model.document,s=i.selection.getLastPosition().parent;i.selection.isCollapsed&&s.isEmpty&&t.value&&(this.editor.execute("blockQuote"),this.editor.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())})}}n(44);class pc extends Wa{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",n=>{const i=t.commands.get("blockQuote"),s=new Oa(n);return s.set({label:e("g"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(s,"execute",()=>t.execute("blockQuote")),s})}}class fc extends Wa{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("ckfinder",n=>{const i=t.commands.get("ckfinder"),s=new Oa(n);return s.set({label:e("d"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),s.bind("isEnabled").to(i),s.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),s})}}class gc extends wi{constructor(t){super(t),this._observedElements=new Set}observe(t,e){this.document.getRoot(e).on("change:children",(e,n)=>{this.view.once("render",()=>this._updateObservedElements(t,n))})}_updateObservedElements(t,e){if(!e.is("element")||e.is("attributeElement"))return;const n=this.view.domConverter.mapViewToDom(e);if(n){for(const t of n.querySelectorAll("img"))this._observedElements.has(t)||(this.listenTo(t,"load",(t,e)=>this._fireEvents(e)),this._observedElements.add(t));for(const e of this._observedElements)t.contains(e)||(this.stopListening(e),this._observedElements.delete(e))}}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}destroy(){this._observedElements.clear(),super.destroy()}}function mc(t){return n=>{n.on(`attribute:${t}:image`,e)};function e(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,s=n.mapper.toViewElement(e.item).getChild(0);null!==e.attributeNewValue?i.setAttribute(e.attributeKey,e.attributeNewValue,s):i.removeAttribute(e.attributeKey,s)}}class bc{constructor(){this._stack=[]}add(t,e){const n=this._stack,i=n[0];this._insertDescriptor(t);const s=n[0];i===s||wc(i,s)||this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:e})}remove(t,e){const n=this._stack,i=n[0];this._removeDescriptor(t);const s=n[0];i===s||wc(i,s)||this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t.id);if(wc(t,e[n]))return;n>-1&&e.splice(n,1);let i=0;for(;e[i]&&yc(e[i],t);)i++;e.splice(i,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t);n>-1&&e.splice(n,1)}}function wc(t,e){return t&&e&&t.priority==e.priority&&vc(t.classes)==vc(e.classes)}function yc(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&vc(t.classes)>vc(e.classes)}function vc(t){return Array.isArray(t)?t.sort().join(","):t}_e(bc,fe);const _c="ck-widget_selected";function kc(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function Cc(t,e,n={}){return vn||e.setAttribute("contenteditable","false",t),e.addClass("ck-widget",t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=Ec,n.label&&function(t,e,n){n.setCustomProperty("widgetLabel",e,t)}(t,n.label,e),n.hasSelectionHandle&&function(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(t){const e=this.toDomElement(t),n=new Ea;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),e.appendChild(n.element),e});e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}(t,e),function(t,e,n,i){const s=new bc;s.on("change:top",(e,s)=>{s.oldDescriptor&&i(t,s.oldDescriptor,s.writer),s.newDescriptor&&n(t,s.newDescriptor,s.writer)}),e.setCustomProperty("addHighlight",(t,e,n)=>s.add(e,n),t),e.setCustomProperty("removeHighlight",(t,e,n)=>s.remove(e,n),t)}(t,e,(t,e,n)=>n.addClass(i(e.classes),t),(t,e,n)=>n.removeClass(i(e.classes),t)),t;function i(t){return Array.isArray(t)?t:[t]}}function Sc(t){const e=t.getCustomProperty("widgetLabel");return e?"function"==typeof e?e():e:""}function xc(t,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),vn||(e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",(n,i,s)=>{e.setAttribute("contenteditable",s?"false":"true",t)})),t.on("change:isFocused",(n,i,s)=>{s?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)}),t}function Tc(t,e){const n=t.getSelectedElement();if(n&&e.schema.isBlock(n))return e.createPositionAfter(n);const i=t.getSelectedBlocks().next().value;if(i){if(i.isEmpty)return e.createPositionAt(i,0);const n=e.createPositionAfter(i);return t.focus.isTouching(n)?n:e.createPositionBefore(i)}return t.focus}function Ec(){return null}function Ic(t){const e=t.getSelectedElement();return e&&function(t){return!!t.getCustomProperty("image")&&kc(t)}(e)?e:null}function Oc(t){return!!t&&t.is("image")}function Ac(t,e,n={}){const i=t.createElement("image",n),s=Tc(e.document.selection,e);e.insertContent(i,s),i.parent&&t.setSelection(i,"on")}function Pc(t){const e=t.schema,n=t.document.selection;return function(t,e,n){const i=function(t,e){const n=Tc(t,e).parent;return n.isEmpty&&!n.is("$root")?n.parent:n}(t,n);return e.checkChild(i,"image")}(n,e,t)&&!function(t,e){const n=t.getSelectedElement();return n&&e.isObject(n)}(n,e)&&function(t){return[...t.focus.getAncestors()].every(t=>!t.is("image"))}(n)}class Mc extends Qa{refresh(){this.isEnabled=Pc(this.editor.model)}execute(t){const e=this.editor.model;e.change(n=>{const i=Array.isArray(t.source)?t.source:[t.source];for(const t of i)Ac(n,e,{src:t})})}}class Dc extends Wa{static get pluginName(){return"ImageEditing"}init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion;t.editing.view.addObserver(gc),e.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),i.for("dataDowncast").elementToElement({model:"image",view:(t,e)=>Lc(e)}),i.for("editingDowncast").elementToElement({model:"image",view:(t,e)=>function(t,e,n){return e.setCustomProperty("image",!0,t),Cc(t,e,{label:function(){const e=t.getChild(0).getAttribute("alt");return e?`${e} ${n}`:n}})}(Lc(e),e,n("j"))}),i.for("downcast").add(mc("src")).add(mc("alt")).add(function(){return e=>{e.on("attribute:srcset:image",t)};function t(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,s=n.mapper.toViewElement(e.item).getChild(0);if(null===e.attributeNewValue){const t=e.attributeOldValue;t.data&&(i.removeAttribute("srcset",s),i.removeAttribute("sizes",s),t.width&&i.removeAttribute("width",s))}else{const t=e.attributeNewValue;t.data&&(i.setAttribute("srcset",t.data,s),i.setAttribute("sizes","100vw",s),t.width&&i.setAttribute("width",t.width,s))}}}()),i.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:(t,e)=>e.createElement("image",{src:t.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:t=>{const e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e}}}).add(function(){return e=>{e.on("element:figure",t)};function t(t,e,n){if(!n.consumable.test(e.viewItem,{name:!0,classes:"image"}))return;const i=Array.from(e.viewItem.getChildren()).find(t=>t.is("img"));if(!i||!i.hasAttribute("src")||!n.consumable.test(i,{name:!0}))return;const s=n.convertItem(i,e.modelCursor),o=ac(s.modelRange.getItems());o&&(n.convertChildren(e.viewItem,n.writer.createPositionAt(o,0)),e.modelRange=s.modelRange,e.modelCursor=s.modelCursor)}}()),t.commands.add("imageInsert",new Mc(t))}}function Lc(t){const e=t.createEmptyElement("img"),n=t.createContainerElement("figure",{class:"image"});return t.insert(t.createPositionAt(n,0),e),n}function Rc(t,e,n){return n.createRange(Nc(t,e,!0,n),Nc(t,e,!1,n))}function Nc(t,e,n,i){let s=t.textNode||(n?t.nodeBefore:t.nodeAfter),o=null;for(;s&&s.getAttribute("linkHref")==e;)o=s,s=n?s.previousSibling:s.nextSibling;return o?i.createPositionAt(o,n?"before":"after"):t}class Fc extends Qa{constructor(t){super(t),this.manualDecorators=new hn}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("linkHref");for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id);this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"linkHref")}execute(t,e={}){const n=this.editor.model,i=n.document.selection,s=[],o=[];for(const r in e)e[r]?s.push(r):o.push(r);n.change(e=>{if(i.isCollapsed){const r=i.getFirstPosition();if(i.hasAttribute("linkHref")){const a=Rc(r,i.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,a),s.forEach(t=>{e.setAttribute(t,!0,a)}),o.forEach(t=>{e.removeAttribute(t,a)}),e.setSelection(a)}else if(""!==t){const o=ws(i.getAttributes());o.set("linkHref",t),s.forEach(t=>{o.set(t,!0)});const a=e.createText(t,o);n.insertContent(a,r),e.setSelection(e.createRangeOn(a))}}else{const r=n.schema.getValidRanges(i.getRanges(),"linkHref");for(const n of r)e.setAttribute("linkHref",t,n),s.forEach(t=>{e.setAttribute(t,!0,n)}),o.forEach(t=>{e.removeAttribute(t,n)})}})}_getDecoratorStateFromModel(t){return this.editor.model.document.selection.getAttribute(t)||!1}}class Vc extends Qa{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}execute(){const t=this.editor.model,e=t.document.selection,n=this.editor.commands.get("link");t.change(i=>{const s=e.isCollapsed?[Rc(e.getFirstPosition(),e.getAttribute("linkHref"),t)]:e.getRanges();for(const t of s)if(i.removeAttribute("linkHref",t),n)for(const e of n.manualDecorators)i.removeAttribute(e.id,t)})}}var jc=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),zc=function(t){return jc.test(t)},Bc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Hc="\\ud83c[\\udffb-\\udfff]",Uc="[^\\ud800-\\udfff]",$c="(?:\\ud83c[\\udde6-\\uddff]){2}",Wc="[\\ud800-\\udbff][\\udc00-\\udfff]",qc="(?:"+Bc+"|"+Hc+")?",Kc="[\\ufe0e\\ufe0f]?"+qc+"(?:\\u200d(?:"+[Uc,$c,Wc].join("|")+")[\\ufe0e\\ufe0f]?"+qc+")*",Gc="(?:"+[Uc+Bc+"?",Bc,$c,Wc,"[\\ud800-\\udfff]"].join("|")+")",Yc=RegExp(Hc+"(?="+Hc+")|"+Gc+Kc,"g"),Qc=s?s.prototype:void 0,Zc=Qc?Qc.toString:void 0,Jc=function t(e){if("string"==typeof e)return e;if(tt(e))return function(t,e){for(var n=-1,i=null==t?0:t.length,s=Array(i);++n<i;)s[n]=e(t[n],n,t);return s}(e,t)+"";if(zi(e))return Zc?Zc.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},Xc=function(t){t=function(t){return null==t?"":Jc(t)}(t);var e=zc(t)?function(t){return zc(t)?function(t){return t.match(Yc)||[]}(t):function(t){return t.split("")}(t)}(t):void 0,n=e?e[0]:t.charAt(0),i=e?function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:function(t,e,n){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(s);++i<s;)o[i]=t[i+e];return o}(t,e,n)}(e,1).join(""):t.slice(1);return n.toUpperCase()+i};const tu=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,eu=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function nu(t,e){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function iu(t){return function(t){return t.replace(tu,"").match(eu)}(t=String(t))?t:"#"}class su{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(t=>this._definitions.add(t)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(t,e,n)=>{if(!n.consumable.test(e.item,"attribute:linkHref"))return;const i=n.writer,s=i.document.selection;for(const o of this._definitions){const t=i.createAttributeElement("a",o.attributes,{priority:5});i.setCustomProperty("link",!0,t),o.callback(e.attributeNewValue)?e.item.is("selection")?i.wrap(s.getFirstRange(),t):i.wrap(n.mapper.toViewRange(e.range),t):i.unwrap(n.mapper.toViewRange(e.range),t)}},{priority:"high"})}}}class ou{constructor({id:t,label:e,attributes:n}){this.id=t,this.set("value"),this.label=e,this.attributes=n}}_e(ou,Ke);class ru{constructor(t,e,n){this.model=t,this.attribute=n,this._modelSelection=t.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,e.listenTo(this._modelSelection,"change:range",(t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&au(this._modelSelection.getFirstPosition(),n)||this._restoreGravity())})}handleForwardMovement(t,e){const n=this.attribute;if(!(this._isGravityOverridden||t.isAtStart&&this._hasSelectionAttribute))return uu(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._removeSelectionAttribute(),!0):lu(t,n)||cu(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._overrideGravity(),!0):void 0}handleBackwardMovement(t,e){const n=this.attribute;return this._isGravityOverridden?uu(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(e),this._restoreGravity(),t.isAtStart&&this._removeSelectionAttribute(),!0):uu(t,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtEnd&&cu(t,n)?this._hasSelectionAttribute?void(hu(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(e),!0):void 0:void(hu(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}_preventCaretMovement(t){t.preventDefault()}_removeSelectionAttribute(){this.model.change(t=>{t.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(t){const e=this.attribute;this.model.change(n=>{n.setSelectionAttribute(this.attribute,t.nodeBefore.getAttribute(e))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}function au(t,e){return lu(t,e)||cu(t,e)}function lu(t,e){const{nodeBefore:n,nodeAfter:i}=t,s=!!n&&n.hasAttribute(e);return!!i&&i.hasAttribute(e)&&(!s||n.getAttribute(e)!==i.getAttribute(e))}function cu(t,e){const{nodeBefore:n,nodeAfter:i}=t,s=!!n&&n.hasAttribute(e),o=!!i&&i.hasAttribute(e);return s&&(!o||n.getAttribute(e)!==i.getAttribute(e))}function uu(t,e){const{nodeBefore:n,nodeAfter:i}=t,s=!!n&&n.hasAttribute(e);if(i&&i.hasAttribute(e)&&s)return i.getAttribute(e)!==n.getAttribute(e)}function hu(t,e){return au(t.getShiftedBy(-1),e)}n(46);const du="ck-link_selected",pu="automatic",fu=/^(https?:)?\/\//;class gu extends Wa{static get pluginName(){return"LinkEditing"}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor,e=t.locale;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:nu}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,e)=>nu(iu(t),e)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}}),t.commands.add("link",new Fc(t)),t.commands.add("unlink",new Vc(t));const n=function(t,e){const n={"Open in a new tab":t("ct"),Downloadable:t("cu")};return e.forEach(t=>(t.label&&n[t.label]&&(t.label=n[t.label]),t)),e}(t.t,function(t){const e=[];if(t)for(const[n,i]of Object.entries(t)){const t=Object.assign({},i,{id:`link${Xc(n)}`});e.push(t)}return e}(t.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter(t=>t.mode===pu)),this._enableManualDecorators(n.filter(t=>"manual"===t.mode)),function({view:t,model:e,emitter:n,attribute:i,locale:s}){const o=new ru(e,n,i),r=e.document.selection;n.listenTo(t.document,"keydown",(t,e)=>{if(!r.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const n=e.keyCode==Tn.arrowright,i=e.keyCode==Tn.arrowleft;if(!n&&!i)return;const a=r.getFirstPosition(),l=s.contentLanguageDirection;let c;(c="ltr"===l&&n||"rtl"===l&&i?o.handleForwardMovement(a,e):o.handleBackwardMovement(a,e))&&t.stop()},{priority:he.get("high")+1})}({view:t.editing.view,model:t.model,emitter:this,attribute:"linkHref",locale:e}),this._setupLinkHighlight()}_enableAutomaticDecorators(t){const e=this.editor,n=new su;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:pu,callback:t=>fu.test(t),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach(t=>{e.model.schema.extend("$text",{allowAttributes:t.id}),n.add(new ou(t)),e.conversion.for("downcast").attributeToElement({model:t.id,view:(e,i)=>{if(e){const e=n.get(t.id).attributes,s=i.createAttributeElement("a",e,{priority:5});return i.setCustomProperty("link",!0,s),s}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(t.id).attributes},model:{key:t.id}})})}_setupLinkHighlight(){const t=this.editor,e=t.editing.view,n=new Set;e.document.registerPostFixer(e=>{const i=t.model.document.selection;let s=!1;if(i.hasAttribute("linkHref")){const o=Rc(i.getFirstPosition(),i.getAttribute("linkHref"),t.model),r=t.editing.mapper.toViewRange(o);for(const t of r.getItems())t.is("a")&&!t.hasClass(du)&&(e.addClass(du,t),n.add(t),s=!0)}return s}),t.conversion.for("editingDowncast").add(t=>{function i(){e.change(t=>{for(const e of n.values())t.removeClass(du,e),n.delete(e)})}t.on("insert",i,{priority:"highest"}),t.on("remove",i,{priority:"highest"}),t.on("attribute",i,{priority:"highest"}),t.on("selection",i,{priority:"highest"})})}}class mu extends Wa{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){this.fire(`show:${t.type}`+(t.namespace?`:${t.namespace}`:""),{message:t.message,type:t.type,title:t.title||""})}}class bu extends Qa{constructor(t){super(t),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const t=this.editor.commands.get("imageInsert"),e=this.editor.commands.get("link");this.isEnabled=t.isEnabled||e.isEnabled}execute(){const t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new le.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',t);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const i=n.onInit;n.language||(n.language=t.locale.uiLanguage),n.onInit=e=>{i&&i(e),e.on("files:choose",n=>{const i=n.data.files.toArray(),s=i.filter(t=>!t.isImage()),o=i.filter(t=>t.isImage());for(const e of s)t.execute("link",e.getUrl());const r=[];for(const t of o){const n=t.getUrl();r.push(n||e.request("file:getProxyUrl",{file:t}))}r.length&&wu(t,r)}),e.on("file:choose:resizedImage",e=>{const n=e.data.resizedUrl;if(n)wu(t,[n]);else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("bb"),{title:n("bc"),namespace:"ckfinder"})}})},window.CKFinder[e](n)}}function wu(t,e){if(t.commands.get("imageInsert").isEnabled)t.execute("imageInsert",{source:e});else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("bd"),{title:n("be"),namespace:"ckfinder"})}}class yu extends Wa{static get pluginName(){return"CKFinderEditing"}static get requires(){return[mu,Dc,gu]}init(){const t=this.editor;t.commands.add("ckfinder",new bu(t))}}const vu=/^data:(\S*?);base64,/;class _u{constructor(t,e,n){if(!t)throw new le.b("fileuploader-missing-file: File must be provided as the first argument",null);if(!e)throw new le.b("fileuploader-missing-token: Token must be provided as the second argument.",null);if(!n)throw new le.b("fileuploader-missing-api-address: Api address must be provided as the third argument.",null);this.file=function(t){if("string"!=typeof t)return!1;const e=t.match(vu);return!(!e||!e.length)}(t)?function(t,e=512){try{const n=t.match(vu)[1],i=atob(t.replace(vu,"")),s=[];for(let t=0;t<i.length;t+=e){const n=i.slice(t,t+e),o=new Array(n.length);for(let t=0;t<n.length;t++)o[t]=n.charCodeAt(t);s.push(new Uint8Array(o))}return new Blob(s,{type:n})}catch(t){throw new le.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.",null)}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",(e,n)=>t(n)),this}onError(t){return this.once("error",(e,n)=>t(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this,e=this.xhr;function n(e){return()=>t.fire("error",e)}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",t=>{t.lengthComputable&&this.fire("progress",{total:t.total,uploaded:t.loaded})}),e.addEventListener("load",()=>{const t=e.status,n=e.response;if(t<200||t>299)return this.fire("error",n.message||n.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((n,i)=>{e.addEventListener("load",()=>{const t=e.status,s=e.response;return t<200||t>299?i(s.message?new le.b("fileuploader-uploading-data-failed: Uploading file failed.",this,{message:s.message}):s.error):n(s)}),e.addEventListener("error",()=>i(new Error("Network Error"))),e.addEventListener("abort",()=>i(new Error("Abort"))),e.send(t)})}}_e(_u,fe);const ku={refreshInterval:36e5,autoRefresh:!0};class Cu{constructor(t,e=ku){if(!t)throw new le.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.",this);this.set("value",e.initValue),this._refresh="function"==typeof t?t:()=>function(t){return new Promise((e,n)=>{const i=new XMLHttpRequest;i.open("GET",t),i.addEventListener("load",()=>{const t=i.status,s=i.response;return t<200||t>299?n(new le.b("token-cannot-download-new-token: Cannot download new token from the provided url.",null)):e(s)}),i.addEventListener("error",()=>n(new Error("Network Error"))),i.addEventListener("abort",()=>n(new Error("Abort"))),i.send()})}(t),this._options=Object.assign({},ku,e)}init(){return new Promise((t,e)=>{this._options.autoRefresh&&this._startRefreshing(),this.value?t(this):this._refreshToken().then(t).catch(e)})}_refreshToken(){return this._refresh().then(t=>this.set("value",t)).then(()=>this)}destroy(){this._stopRefreshing()}_startRefreshing(){this._refreshInterval=setInterval(()=>this._refreshToken(),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(t,e=ku){return new Cu(t,e).init()}}_e(Cu,Ke);var Su=Cu;let xu=(()=>{class t extends Wa{static get pluginName(){return"CloudServices"}init(){const e=this.editor.config.get("cloudServices")||{};for(const t in e)this[t]=e[t];if(this.tokenUrl)return this.token=new t.Token(this.tokenUrl),this.token.init();this.token=null}}return t.Token=Su,t})();class Tu extends Wa{static get requires(){return[Ul,xu]}init(){const t=this.editor,e=t.plugins.get(xu),n=e.token;n&&(this._uploadGateway=new Tu._UploadGateway(n,e.uploadUrl),t.plugins.get(Ul).createUploadAdapter=t=>new Eu(this._uploadGateway,t))}}class Eu{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then(t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",(t,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}Tu._UploadGateway=class{constructor(t,e){if(!t)throw new le.b("uploadgateway-missing-token: Token must be provided.",null);if(!e)throw new le.b("uploadgateway-missing-api-address: Api address must be provided.",null);this._token=t,this._apiAddress=e}upload(t){return new _u(t,this._token,this._apiAddress)}};class Iu extends Fi{constructor(t){super(t),this.domEventType="mousedown"}onDomEvent(t){this.fire(t.type,t)}}n(48);const Ou=In("Ctrl+A");class Au extends Wa{static get pluginName(){return"Widget"}init(){const t=this.editor.editing.view,e=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(t,e,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const i=n.writer,s=i.document.selection,o=s.getSelectedElement();let r=null;for(const a of s.getRanges())for(const t of a){const e=t.item;kc(e)&&!Pu(e,r)&&(i.addClass(_c,e),this._previouslySelected.add(e),r=e,e==o&&i.setSelection(s.getRanges(),{fake:!0,label:Sc(o)}))}},{priority:"low"}),t.addObserver(Iu),this.listenTo(e,"mousedown",(...t)=>this._onMousedown(...t)),this.listenTo(e,"keydown",(...t)=>this._onKeydown(...t),{priority:"high"}),this.listenTo(e,"delete",(t,e)=>{this._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())},{priority:"high"})}_onMousedown(t,e){const n=this.editor,i=n.editing.view,s=i.document;let o=e.target;if(function(t){for(;t;){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(kc(t))return!1;t=t.parent}return!1}(o)){if(kn&&e.domEvent.detail>=3){const t=n.editing.mapper.toModelElement(o);this.editor.model.change(n=>{e.preventDefault(),n.setSelection(t,"in")})}return}if(!kc(o)&&!(o=o.findAncestor(kc)))return;e.preventDefault(),s.isFocused||i.focus();const r=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(r)}_onKeydown(t,e){const n=e.keyCode,i=n==Tn.arrowdown||n==Tn["ltr"===this.editor.locale.contentLanguageDirection?"arrowright":"arrowleft"];let s=!1;!function(t){return t==Tn.arrowright||t==Tn.arrowleft||t==Tn.arrowup||t==Tn.arrowdown}(n)?function(t){return En(t)==Ou}(e)?s=this._selectAllNestedEditableContent()||this._selectAllContent():n===Tn.enter&&(s=this._handleEnterKey(e.shiftKey)):s=this._handleArrowKeys(i),s&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const e=this.editor.model.document.selection;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change(t=>{let i=e.anchor.parent;for(;i.isEmpty;){const e=i;i=e.parent,t.remove(e)}this._setSelectionOverElement(n)}),!0):void 0}_handleArrowKeys(t){const e=this.editor.model,n=e.schema,i=e.document.selection,s=i.getSelectedElement();if(s&&n.isObject(s)){const s=t?i.getLastPosition():i.getFirstPosition(),o=n.getNearestSelectionRange(s,t?"forward":"backward");return o&&e.change(t=>{t.setSelection(o)}),!0}if(!i.isCollapsed)return;const o=this._getObjectElementNextToSelection(t);return o&&n.isObject(o)?(this._setSelectionOverElement(o),!0):void 0}_handleEnterKey(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();if(function(t,e){return t&&e.isObject(t)&&!e.isInline(t)}(n,e.schema))return e.change(i=>{let s=i.createPositionAt(n,t?"before":"after");const o=i.createElement("paragraph");if(e.schema.isBlock(n.parent)){const t=e.schema.findAllowedParent(s,o);s=i.split(s,t).position}i.insert(o,s),i.setSelection(o,"in")}),!0}_selectAllNestedEditableContent(){const t=this.editor.model,e=t.document.selection,n=t.schema.getLimitElement(e);return e.getFirstRange().root!=n&&(t.change(t=>{t.setSelection(t.createRangeIn(n))}),!0)}_selectAllContent(){const t=this.editor.model,e=this.editor.editing,n=e.view.document.selection.getSelectedElement();if(n&&kc(n)){const i=e.mapper.toModelElement(n.parent);return t.change(t=>{t.setSelection(t.createRangeIn(i))}),!0}return!1}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,i=e.createSelection(e.document.selection);e.modifySelection(i,{direction:t?"forward":"backward"});const s=t?i.focus.nodeBefore:i.focus.nodeAfter;return s&&n.isObject(s)?s:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(_c,e);this._previouslySelected.clear()}}function Pu(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}class Mu extends Qa{refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Oc(t),this.value=!(!Oc(t)||!t.hasAttribute("alt"))&&t.getAttribute("alt")}execute(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(e=>{e.setAttribute("alt",t.newValue,n)})}}class Du extends Wa{static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Mu(this.editor))}}n(50);class Lu extends ca{constructor(t,e){super(t);const n=`ck-input-${ue()}`,i=`ck-status-${ue()}`;this.set("label"),this.set("value"),this.set("isReadOnly",!1),this.set("errorText",null),this.set("infoText",null),this.labelView=this._createLabelView(n),this.inputView=this._createInputView(e,n,i),this.statusView=this._createStatusView(i),this.bind("_statusText").to(this,"errorText",this,"infoText",(t,e)=>t||e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",this.bindTemplate.if("isReadOnly","ck-disabled")]},children:[this.labelView,this.inputView,this.statusView]})}_createLabelView(t){const e=new ha(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createInputView(t,e,n){const i=new t(this.locale,n);return i.id=e,i.ariaDescribedById=n,i.bind("value").to(this),i.bind("isReadOnly").to(this),i.bind("hasError").to(this,"errorText",t=>!!t),i.on("input",()=>{this.errorText=null}),i}_createStatusView(t){const e=new ca(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__status",n.if("errorText","ck-labeled-input__status_error"),n.if("_statusText","ck-hidden",t=>!t)],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}select(){this.inputView.select()}focus(){this.inputView.focus()}}n(52);class Ru extends ca{constructor(t){super(t),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to("input")}})}render(){super.render();const t=t=>{this.element.value=t||0===t?t:""};t(this.value),this.on("change:value",(e,n,i)=>{t(i)})}select(){this.element.select()}focus(){this.element.focus()}}function Nu({view:t}){t.listenTo(t.element,"submit",(e,n)=>{n.preventDefault(),t.fire("submit")},{useCapture:!0})}var Fu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',Vu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';n(54);class ju extends ca{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new Nr,this.keystrokes=new Er,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("bx"),Fu,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("by"),Vu,"ck-button-cancel","cancel"),this._focusables=new $r,this._focusCycler=new wa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Nu({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}_createButton(t,e,n,i){const s=new Oa(this.locale);return s.set({label:t,icon:e,tooltip:!0}),s.extendTemplate({attributes:{class:n}}),i&&s.delegate("execute").to(this,i),s}_createLabeledInputView(){const t=this.locale.t,e=new Lu(this.locale,Ru);return e.label=t("bz"),e.inputView.placeholder=t("bz"),e}}n(56);const zu=ga("px"),Bu=ai.document.body;class Hu extends ca{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",zu),left:e.to("left",zu)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=Hu.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast],limiter:Bu,fitInViewport:!0},t),i=Hu._getOptimalPosition(n),s=parseInt(i.left),o=parseInt(i.top);Object.assign(this,{top:o,left:s,position:i.name})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=Uu(t.target),n=t.limiter?Uu(t.limiter):Bu;this.listenTo(ai.document,"scroll",(i,s)=>{const o=s.target,r=e&&o.contains(e),a=n&&o.contains(n);!r&&!a&&e&&n||this.attachTo(t)},{useCapture:!0}),this.listenTo(ai.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(ai.document,"scroll"),this.stopListening(ai.window,"resize")}}function Uu(t){return oe(t)?t:es(t)?t.commonAncestorContainer:"function"==typeof t?Uu(t()):null}function $u(t,e){return t.top-e.height-Hu.arrowVerticalOffset}function Wu(t){return t.bottom+Hu.arrowVerticalOffset}Hu.arrowHorizontalOffset=25,Hu.arrowVerticalOffset=10,Hu._getOptimalPosition=Ca,Hu.defaultPositions={northArrowSouth:(t,e)=>({top:$u(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}),northArrowSouthEast:(t,e)=>({top:$u(t,e),left:t.left+t.width/2-e.width+Hu.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(t,e)=>({top:$u(t,e),left:t.left+t.width/2-Hu.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouth:(t,e)=>({top:$u(t,e),left:t.left-e.width/2,name:"arrow_s"}),northWestArrowSouthWest:(t,e)=>({top:$u(t,e),left:t.left-Hu.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthEast:(t,e)=>({top:$u(t,e),left:t.left-e.width+Hu.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouth:(t,e)=>({top:$u(t,e),left:t.right-e.width/2,name:"arrow_s"}),northEastArrowSouthEast:(t,e)=>({top:$u(t,e),left:t.right-e.width+Hu.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(t,e)=>({top:$u(t,e),left:t.right-Hu.arrowHorizontalOffset,name:"arrow_sw"}),southArrowNorth:(t,e)=>({top:Wu(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"}),southArrowNorthEast:(t,e)=>({top:Wu(t),left:t.left+t.width/2-e.width+Hu.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(t,e)=>({top:Wu(t),left:t.left+t.width/2-Hu.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorth:(t,e)=>({top:Wu(t),left:t.left-e.width/2,name:"arrow_n"}),southWestArrowNorthWest:(t,e)=>({top:Wu(t),left:t.left-Hu.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthEast:(t,e)=>({top:Wu(t),left:t.left-e.width+Hu.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorth:(t,e)=>({top:Wu(t),left:t.right-e.width/2,name:"arrow_n"}),southEastArrowNorthEast:(t,e)=>({top:Wu(t),left:t.right-e.width+Hu.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(t,e)=>({top:Wu(t),left:t.right-Hu.arrowHorizontalOffset,name:"arrow_nw"})},n(58),n(60);const qu=ga("px");class Ku extends Wa{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this.positionLimiter=()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},this.set("visibleView",null),this.view=new Hu(t.locale),t.ui.view.body.add(this.view),t.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this.hasView(t.view))throw new le.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new le.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new le.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(e=>e[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new Gu(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>!e&&t>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(t,n)=>{if(n<2)return"";const i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("bu",[i,n])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new Yu(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>!e&&t>=2?Math.min(t-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:i=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}class Gu extends ca{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Nr,this.buttonPrevView=this._createButtonView(e("bv"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z" /></svg>\n'),this.buttonNextView=this._createButtonView(e("bw"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>\n'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",t=>t?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new Oa(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class Yu extends ca{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",t=>t?"":"ck-hidden")],style:{top:n.to("top",qu),left:n.to("left",qu),width:n.to("width",qu),height:n.to("height",qu)}},children:this.content}),this.on("change:numberOfPanels",(t,e,n,i)=>{n>i?this._addPanels(n-i):this._removePanels(i-n),this.updatePosition()})}_addPanels(t){for(;t--;){const t=new ca;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(t){for(;t--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:i}=new ss(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:i})}}}function Qu(t){const e=t.editing.view,n=Hu.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class Zu extends Wa{static get requires(){return[Ku]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",n=>{const i=t.commands.get("imageTextAlternative"),s=new Oa(n);return s.set({label:e("bf"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",()=>this._showForm()),s})}_createForm(){const t=this.editor,e=t.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new ju(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(t,e)=>{this._hideForm(!0),e()}),this.listenTo(t.ui,"update",()=>{Ic(e.selection)?this._isVisible&&function(t){const e=t.plugins.get("ContextualBalloon");if(Ic(t.editing.view.document.selection)){const n=Qu(t);e.updatePosition(n)}}(t):this._hideForm(!0)}),Ra({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:Qu(t)}),n.value=n.inputView.element.value=e.value||"",this._form.labeledInput.select()}_hideForm(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class Ju extends Wa{static get requires(){return[Du,Zu]}static get pluginName(){return"ImageTextAlternative"}}n(62);class Xu extends Wa{static get requires(){return[Dc,Au,Ju]}static get pluginName(){return"Image"}}class th extends ca{constructor(t){super(t),this.buttonView=new Oa(t),this._fileInputView=new eh(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class eh extends ca{constructor(t){super(t),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}function nh(t){const e=t.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function ih(t){return new Promise((e,n)=>{const i=t.getAttribute("src");fetch(i).then(t=>t.blob()).then(t=>{const s=function(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(t,i),o=function(t,e,n){try{return new File([t],e,{type:n})}catch(t){return null}}(t,`image.${s.replace("image/","")}`,s);o?e(o):n()}).catch(n)})}class sh extends Wa{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageUpload",n=>{const i=new th(n),s=t.commands.get("imageUpload"),o=t.config.get("image.upload.types"),r=nh(o);return i.set({acceptedType:o.map(t=>`image/${t}`).join(","),allowMultipleFiles:!0}),i.buttonView.set({label:e("q"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),i.buttonView.bind("isEnabled").to(s),i.on("done",(e,n)=>{const i=Array.from(n).filter(t=>r.test(t.type));i.length&&t.execute("imageUpload",{file:i})}),i})}}n(64),n(66),n(68);class oh extends Wa{constructor(t){super(t),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>')}init(){this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(t,e,n){const i=this.editor,s=e.item,o=s.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const r=i.plugins.get(Ul),a=o?e.attributeNewValue:null,l=this.placeholder,c=i.editing.mapper.toViewElement(s),u=n.writer;if("reading"==a)return rh(c,u),void ah(l,c,u);if("uploading"==a){const t=r.loaders.get(o);return rh(c,u),void(t?(lh(c,u),function(t,e,n,i){const s=function(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}(e);e.insert(e.createPositionAt(t,"end"),s),n.on("change:uploadedPercent",(t,e,n)=>{i.change(t=>{t.setStyle("width",n+"%",s)})})}(c,u,t,i.editing.view),function(t,e,n){if(n.data){const i=t.getChild(0);e.setAttribute("src",n.data,i)}}(c,u,t)):ah(l,c,u))}"complete"==a&&r.loaders.get(o)&&!vn&&function(t,e,n){const i=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),i),setTimeout(()=>{n.change(t=>t.remove(t.createRangeOn(i)))},3e3)}(c,u,i.editing.view),function(t,e){uh(t,e,"progressBar")}(c,u),lh(c,u),function(t,e){e.removeClass("ck-appear",t)}(c,u)}}function rh(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function ah(t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);const i=e.getChild(0);i.getAttribute("src")!==t&&n.setAttribute("src",t,i),ch(e,"placeholder")||n.insert(n.createPositionAfter(i),function(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}(n))}function lh(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),uh(t,e,"placeholder")}function ch(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function uh(t,e,n){const i=ch(t,n);i&&e.remove(e.createRangeOn(i))}class hh{createDocumentFragment(t){return new Mn(t)}createElement(t,e,n){return new Pe(t,e,n)}createText(t){return new xe(t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const i=n.getChildIndex(t);return this.removeChildren(i,1,n),this.insertChild(i,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new Pe(t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){w(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return on._createAt(t,e)}createPositionAfter(t){return on._createAfter(t)}createPositionBefore(t){return on._createBefore(t)}createRange(t,e){return new rn(t,e)}createRangeOn(t){return rn._createOn(t)}createRangeIn(t){return rn._createIn(t)}createSelection(t,e,n){return new cn(t,e,n)}}class dh extends Qa{refresh(){this.isEnabled=Pc(this.editor.model)}execute(t){const e=this.editor,n=e.model,i=e.plugins.get(Ul);n.change(e=>{const s=Array.isArray(t.file)?t.file:[t.file];for(const t of s)ph(e,n,i,t)})}}function ph(t,e,n,i){const s=n.createLoader(i);s&&Ac(t,e,{uploadId:s.id})}class fh extends Wa{static get requires(){return[Ul,mu,Ya]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}})}init(){const t=this.editor,e=t.model.document,n=t.model.schema,i=t.conversion,s=t.plugins.get(Ul),o=nh(t.config.get("image.upload.types"));n.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new dh(t)),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(e,n)=>{if(function(t){return Array.from(t.types).includes("text/html")&&""!==t.getData("text/html")}(n.dataTransfer))return;const i=Array.from(n.dataTransfer.files).filter(t=>!!t&&o.test(t.type)),s=n.targetRanges.map(e=>t.editing.mapper.toModelRange(e));t.model.change(n=>{n.setSelection(s),i.length&&(e.stop(),t.model.enqueueChange("default",()=>{t.execute("imageUpload",{file:i})}))})}),this.listenTo(t.plugins.get(Ya),"inputTransformation",(e,n)=>{const i=Array.from(t.editing.view.createRangeIn(n.content)).filter(t=>function(t){return!(!t.is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))}(t.item)&&!t.item.getAttribute("uploadProcessed")).map(t=>({promise:ih(t.item),imageElement:t.item}));if(!i.length)return;const o=new hh;for(const t of i){o.setAttribute("uploadProcessed",!0,t.imageElement);const e=s.createLoader(t.promise);e&&(o.setAttribute("src","",t.imageElement),o.setAttribute("uploadId",e.id,t.imageElement))}}),t.editing.view.document.on("dragover",(t,e)=>{e.preventDefault()}),e.on("change",()=>{const n=e.differ.getChanges({includeChangesInGraveyard:!0});for(const e of n)if("insert"==e.type&&"$text"!=e.name){const n=e.position.nodeAfter,i="$graveyard"==e.position.root.rootName;for(const e of gh(t,n)){const t=e.getAttribute("uploadId");if(!t)continue;const n=s.loaders.get(t);n&&(i?n.abort():"idle"==n.status&&this._readAndUpload(n,e))}}})}_readAndUpload(t,e){const n=this.editor,i=n.model,s=n.locale.t,o=n.plugins.get(Ul),r=n.plugins.get(mu);return i.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","reading",e)}),t.read().then(()=>{const s=t.upload();if(kn){const t=n.editing.mapper.toViewElement(e).getChild(0);n.editing.view.once("render",()=>{if(!t.parent)return;const e=n.editing.view.domConverter.mapViewToDom(t.parent);if(!e)return;const i=e.style.display;e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=i})}return i.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","uploading",e)}),s}).then(t=>{i.enqueueChange("transparent",n=>{n.setAttributes({uploadStatus:"complete",src:t.default},e),this._parseAndSetSrcsetAttributeOnImage(t,e,n)}),a()}).catch(n=>{if("error"!==t.status&&"aborted"!==t.status)throw n;"error"==t.status&&n&&r.showWarning(n,{title:s("r"),namespace:"upload"}),a(),i.enqueueChange("transparent",t=>{t.remove(e)})});function a(){i.enqueueChange("transparent",t=>{t.removeAttribute("uploadId",e),t.removeAttribute("uploadStatus",e)}),o.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let i=0;const s=Object.keys(t).filter(t=>{const e=parseInt(t,10);if(!isNaN(e))return i=Math.max(i,e),!0}).map(e=>`${t[e]} ${e}w`).join(", ");""!=s&&n.setAttribute("srcset",{data:s,width:i},e)}}function gh(t,e){return Array.from(t.model.createRangeOn(e)).filter(t=>t.item.is("image")).map(t=>t.item)}class mh extends Wa{static get pluginName(){return"ImageUpload"}static get requires(){return[fh,sh,oh]}}class bh extends Qa{refresh(){const t=this.editor.model,e=ac(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("paragraph"),this.isEnabled=!!e&&wh(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change(i=>{const s=(t.selection||n.selection).getSelectedBlocks();for(const t of s)!t.is("paragraph")&&wh(t,e.schema)&&i.rename(t,"paragraph")})}}function wh(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}class yh extends Wa{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model,n=t.data;t.commands.add("paragraph",new bh(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(t,e)=>yh.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null,converterPriority:"low"}),n.upcastDispatcher.on("element",(t,e,n)=>{n.consumable.test(e.viewItem,{name:e.viewItem.name})&&_h(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,vh(e.viewItem,e.modelCursor,n))},{priority:"low"}),n.upcastDispatcher.on("text",(t,e,n)=>{e.modelRange||_h(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,vh(e.viewItem,e.modelCursor,n))},{priority:"lowest"}),e.document.registerPostFixer(t=>this._autoparagraphEmptyRoots(t)),t.data.on("ready",()=>{e.enqueueChange("transparent",t=>this._autoparagraphEmptyRoots(t))},{priority:"lowest"})}_autoparagraphEmptyRoots(t){const e=this.editor.model;for(const n of e.document.getRootNames()){const i=e.document.getRoot(n);if(i.isEmpty&&"$graveyard"!=i.rootName&&e.schema.checkChild(i,"paragraph"))return t.insertElement("paragraph",i),!0}}}function vh(t,e,n){const i=n.writer.createElement("paragraph");return n.writer.insert(i,e),n.convertItem(t,n.writer.createPositionAt(i,0))}function _h(t,e,n){const i=n.createContext(e);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),t)}yh.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);class kh extends Qa{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=ac(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>Ch(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,n=e.document,i=t.value;e.change(t=>{const s=Array.from(n.selection.getSelectedBlocks()).filter(t=>Ch(t,i,e.schema));for(const e of s)e.is(i)||t.rename(e,i)})}}function Ch(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}const Sh="paragraph";class xh extends Wa{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[yh]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const i of e)i.model!==Sh&&(t.model.schema.register(i.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(i),n.push(i.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new kh(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(e,i)=>{const s=t.model.document.selection.getFirstPosition().parent;n.some(t=>s.is(t.model))&&!s.is(Sh)&&0===s.childCount&&i.writer.rename(s,Sh)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:he.get("low")+1})}}class Th{constructor(t,e){e&&He(this,e),t&&this.set(t)}}_e(Th,Ke),n(10);class Eh extends Wa{init(){const t=this.editor,e=t.t,n=function(t){const e=t.t,n={Paragraph:e("dd"),"Heading 1":e("de"),"Heading 2":e("df"),"Heading 3":e("dg"),"Heading 4":e("dh"),"Heading 5":e("di"),"Heading 6":e("dj")};return t.config.get("heading.options").map(t=>{const e=n[t.title];return e&&e!=t.title&&(t.title=e),t})}(t),i=e("h"),s=e("i");t.ui.componentFactory.add("heading",e=>{const o={},r=new hn,a=t.commands.get("heading"),l=t.commands.get("paragraph"),c=[a];for(const t of n){const e={type:"button",model:new Th({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(l,"value"),e.model.set("commandName","paragraph"),c.push(l)):(e.model.bind("isOn").to(a,"value",e=>e===t.model),e.model.set({commandName:"heading",commandValue:t.model})),r.add(e),o[t.model]=t.title}const u=Na(e);return Va(u,r),u.buttonView.set({isOn:!1,withText:!0,tooltip:s}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(c,"isEnabled",(...t)=>t.some(t=>t)),u.buttonView.bind("label").to(a,"value",l,"value",(t,e)=>{const n=t||e&&"paragraph";return o[n]?o[n]:i}),this.listenTo(u,"execute",e=>{t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()}),u})}}function Ih(t){for(const e of t.getChildren())if(e&&e.is("caption"))return e;return null}function Oh(t){const e=t.parent;return"figcaption"==t.name&&e&&"figure"==e.name&&e.hasClass("image")?{name:!0}:null}class Ah extends Wa{static get pluginName(){return"ImageCaptionEditing"}init(){const t=this.editor,e=t.editing.view,n=t.data,i=t.editing,s=t.t;t.model.schema.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer(t=>this._insertMissingModelCaptionElement(t)),t.conversion.for("upcast").elementToElement({view:Oh,model:"caption"}),n.downcastDispatcher.on("insert:caption",Ph(t=>t.createContainerElement("figcaption"),!1));const o=function(t,e){return n=>{const i=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,i),jr({view:t,element:i,text:e}),xc(i,n)}}(e,s("p"));i.downcastDispatcher.on("insert:caption",Ph(o)),i.downcastDispatcher.on("insert",this._fixCaptionVisibility(t=>t.item),{priority:"high"}),i.downcastDispatcher.on("remove",this._fixCaptionVisibility(t=>t.position.parent),{priority:"high"}),e.document.registerPostFixer(t=>this._updateCaptionVisibility(t))}_updateCaptionVisibility(t){const e=this.editor.editing.mapper,n=this._lastSelectedCaption;let i;const s=this.editor.model.document.selection,o=s.getSelectedElement();if(o&&o.is("image")){const t=Ih(o);i=e.toViewElement(t)}const r=Mh(s.getFirstPosition().parent);if(r&&(i=e.toViewElement(r)),i)return n?(n===i||(Dh(n,t),this._lastSelectedCaption=i),Lh(i,t)):(this._lastSelectedCaption=i,Lh(i,t));if(n){const e=Dh(n,t);return this._lastSelectedCaption=null,e}return!1}_fixCaptionVisibility(t){return(e,n,i)=>{const s=Mh(t(n)),o=i.writer;if(s){const t=this.editor.editing.mapper.toViewElement(s);t&&(s.childCount?o.removeClass("ck-hidden",t):o.addClass("ck-hidden",t))}}}_insertMissingModelCaptionElement(t){const e=this.editor.model,n=e.document.differ.getChanges(),i=[];for(const s of n)if("insert"==s.type&&"$text"!=s.name){const t=s.position.nodeAfter;if(t.is("image")&&!Ih(t)&&i.push(t),!t.is("image")&&t.childCount)for(const n of e.createRangeIn(t).getItems())n.is("image")&&!Ih(n)&&i.push(n)}for(const s of i)t.appendElement("caption",s);return!!i.length}}function Ph(t,e=!0){return(n,i,s)=>{const o=i.item;if((o.childCount||e)&&Oc(o.parent)){if(!s.consumable.consume(i.item,"insert"))return;const e=s.mapper.toViewElement(i.range.start.parent),n=t(s.writer),r=s.writer;o.childCount||r.addClass("ck-hidden",n),function(t,e,n,i){const s=i.writer.createPositionAt(n,"end");i.writer.insert(s,t),i.mapper.bindElements(e,t)}(n,i.item,e,s)}}}function Mh(t){const e=t.getAncestors({includeSelf:!0}).find(t=>"caption"==t.name);return e&&e.parent&&"image"==e.parent.name?e:null}function Dh(t,e){return!t.childCount&&!t.hasClass("ck-hidden")&&(e.addClass("ck-hidden",t),!0)}function Lh(t,e){return!!t.hasClass("ck-hidden")&&(e.removeClass("ck-hidden",t),!0)}n(71);class Rh extends Qa{constructor(t,e){super(t),this.defaultStyle=!1,this.styles=e.reduce((t,e)=>(t[e.name]=e,e.isDefault&&(this.defaultStyle=e.name),t),{})}refresh(){const t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Oc(t),t)if(t.hasAttribute("imageStyle")){const e=t.getAttribute("imageStyle");this.value=!!this.styles[e]&&e}else this.value=this.defaultStyle;else this.value=!1}execute(t){const e=t.value,n=this.editor.model,i=n.document.selection.getSelectedElement();n.change(t=>{this.styles[e].isDefault?t.removeAttribute("imageStyle",i):t.setAttribute("imageStyle",e,i)})}}function Nh(t,e){for(const n of e)if(n.name===t)return n}var Fh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',Vh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',jh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',zh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';const Bh={full:{name:"full",title:"Full size image",icon:Fh,isDefault:!0},side:{name:"side",title:"Side image",icon:zh,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Vh,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:jh,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:zh,className:"image-style-align-right"}},Hh={full:Fh,left:Vh,right:zh,center:jh};function Uh(t=[]){return t.map($h)}function $h(t){if("string"==typeof t){const e=t;Bh[e]?t=Object.assign({},Bh[e]):(console.warn(Object(le.a)("image-style-not-found: There is no such image style of given name."),{name:e}),t={name:e})}else if(Bh[t.name]){const e=Bh[t.name],n=Object.assign({},t);for(const i in e)t.hasOwnProperty(i)||(n[i]=e[i]);t=n}return"string"==typeof t.icon&&Hh[t.icon]&&(t.icon=Hh[t.icon]),t}class Wh extends Wa{static get pluginName(){return"ImageStyleEditing"}init(){const t=this.editor,e=t.model.schema,n=t.data,i=t.editing;t.config.define("image.styles",["full","side"]);const s=Uh(t.config.get("image.styles"));e.extend("image",{allowAttributes:"imageStyle"});const o=function(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,e.name))return;const s=Nh(n.attributeNewValue,t),o=Nh(n.attributeOldValue,t),r=i.mapper.toViewElement(n.item),a=i.writer;o&&a.removeClass(o.className,r),s&&a.addClass(s.className,r)}}(s);i.downcastDispatcher.on("attribute:imageStyle:image",o),n.downcastDispatcher.on("attribute:imageStyle:image",o),n.upcastDispatcher.on("element:figure",function(t){const e=t.filter(t=>!t.isDefault);return(t,n,i)=>{if(!n.modelRange)return;const s=n.viewItem,o=ac(n.modelRange.getItems());if(i.schema.checkAttribute(o,"imageStyle"))for(const r of e)i.consumable.consume(s,{classes:r.className})&&i.writer.setAttribute("imageStyle",r.name,o)}}(s),{priority:"low"}),t.commands.add("imageStyle",new Rh(t,s))}}n(73);class qh extends Wa{static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Full size image":t("k"),"Side image":t("l"),"Left aligned image":t("m"),"Centered image":t("n"),"Right aligned image":t("o")}}init(){const t=function(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}(Uh(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles);for(const e of t)this._createButton(e)}_createButton(t){const e=this.editor;e.ui.componentFactory.add(`imageStyle:${t.name}`,n=>{const i=e.commands.get("imageStyle"),s=new Oa(n);return s.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",e=>e===t.name),this.listenTo(s,"execute",()=>e.execute("imageStyle",{value:t.name})),s})}}class Kh extends Wa{static get requires(){return[Ku]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",e=>{(function(t){const e=t.getSelectedElement();return!(!e||!kc(e))})(t.editing.view.document.selection)&&e.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:n,getRelatedElement:i,balloonClassName:s="ck-toolbar-container"}){const o=this.editor,r=o.t,a=new ja(o.locale);if(a.ariaLabel=e||r("ba"),this._toolbarDefinitions.has(t))throw new le.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:t});a.fillFromConfig(n,o.ui.componentFactory),this._toolbarDefinitions.set(t,{view:a,getRelatedElement:i,balloonClassName:s})}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const i of this._toolbarDefinitions.values()){const s=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.editor.ui.focusTracker.isFocused)if(s){const o=s.getAncestors().length;o>t&&(t=o,e=s,n=i)}else this._isToolbarInBalloon(i)&&this._hideToolbar(i);else this._isToolbarVisible(i)&&this._hideToolbar(i)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?Gh(this.editor,e):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:Yh(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const t of this._toolbarDefinitions.values())if(this._isToolbarVisible(t)){const e=t.getRelatedElement(this.editor.editing.view.document.selection);Gh(this.editor,e)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function Gh(t,e){const n=t.plugins.get("ContextualBalloon"),i=Yh(t,e);n.updatePosition(i)}function Yh(t,e){const n=Hu.defaultPositions;return{target:t.editing.view.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class Qh extends Qa{constructor(t){super(t),this._childCommands=[]}refresh(){}execute(...t){this._getFirstEnabledCommand().execute(t)}registerChildCommand(t){this._childCommands.push(t),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(t=>t.isEnabled)}}class Zh extends Wa{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new Qh(t)),t.commands.add("outdent",new Qh(t))}}var Jh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5z"/><path d="M1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>\n',Xh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5z"/><path d="M4.368 6.95L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>\n';class td extends Wa{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,n=t.t,i="ltr"==e.uiLanguageDirection?Jh:Xh,s="ltr"==e.uiLanguageDirection?Xh:Jh;this._defineButton("indent",n("z"),i),this._defineButton("outdent",n("aa"),s)}_defineButton(t,e,n){const i=this.editor;i.ui.componentFactory.add(t,s=>{const o=i.commands.get(t),r=new Oa(s);return r.set({label:e,icon:n,tooltip:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(r,"execute",()=>i.execute(t)),r})}}class ed extends Fi{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}n(75);class nd extends ca{constructor(t,e=[]){super(t);const n=t.t;this.focusTracker=new Nr,this.keystrokes=new Er,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("bx"),Fu,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("by"),Vu,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e),this._focusables=new $r,this._focusCycler=new wa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const i=["ck","ck-link-form"];e.length&&i.push("ck-link-form_layout-vertical"),this.setTemplate({tag:"form",attributes:{class:i,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,e)=>(t[e.name]=e.isOn,t),{})}render(){super.render(),Nu({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new Lu(this.locale,Ru);return e.label=t("cy"),e.inputView.placeholder="https://example.com",e}_createButton(t,e,n,i){const s=new Oa(this.locale);return s.set({label:t,icon:e,tooltip:!0}),s.extendTemplate({attributes:{class:n}}),i&&s.delegate("execute").to(this,i),s}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t){const t=new La(this.locale);t.set({name:n.id,label:n.label,withText:!0}),t.bind("isOn").to(n,"value"),t.on("execute",()=>{n.set("value",!t.isOn)}),e.add(t)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const t=new ca;t.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(t=>({tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(t)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}n(77);class id extends ca{constructor(t){super(t);const e=t.t;this.focusTracker=new Nr,this.keystrokes=new Er,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("cz"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(e("da"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),this.set("href"),this._focusables=new $r,this._focusCycler=new wa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const i=new Oa(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.delegate("execute").to(this,n),i}_createPreviewButton(){const t=new Oa(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("db")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",t=>t&&iu(t)),target:"_blank"}}),t.bind("label").to(this,"href",t=>t||n("dc")),t.bind("isEnabled").to(this,"href",t=>!!t),t.template.tag="a",t.template.eventListeners={},t}}const sd="Ctrl+K";class od extends Wa{static get requires(){return[Ku]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(ed),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(Ku),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const t=this.editor,e=new id(t.locale),n=t.commands.get("link"),i=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(e,"edit",()=>{this._addFormView()}),this.listenTo(e,"unlink",()=>{t.execute("unlink"),this._hideUI()}),e.keystrokes.set("Esc",(t,e)=>{this._hideUI(),e()}),e.keystrokes.set(sd,(t,e)=>{this._addFormView(),e()}),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=new nd(t.locale,e.manualDecorators);return n.urlInputView.bind("value").to(e,"value"),n.urlInputView.bind("isReadOnly").to(e,"isEnabled",t=>!t),n.saveButtonView.bind("isEnabled").to(e),this.listenTo(n,"submit",()=>{t.execute("link",n.urlInputView.inputView.element.value,n.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(n,"cancel",()=>{this._closeFormView()}),n.keystrokes.set("Esc",(t,e)=>{this._closeFormView(),e()}),n}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set(sd,(t,n)=>{n(),e.isEnabled&&this._showUI(!0)}),t.ui.componentFactory.add("link",t=>{const i=new Oa(t);return i.isEnabled=!0,i.label=n("v"),i.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',i.keystroke=sd,i.tooltip=!0,i.isToggleable=!0,i.bind("isEnabled").to(e,"isEnabled"),i.bind("isOn").to(e,"value",t=>!!t),this.listenTo(i,"execute",()=>this._showUI(!0)),i})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,e)=>{this._isUIVisible&&(this._hideUI(),e())}),Ra({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const t=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(t=!1){this.editor.commands.get("link").isEnabled&&(this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI())}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),i=o();const s=()=>{const t=this._getSelectedLinkElement(),e=o();n&&!t||!n&&e!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=t,i=e};function o(){return e.selection.focus.getAncestors().reverse().find(t=>t.is("element"))}this.listenTo(t.ui,"update",s),this.listenTo(this._balloon,"change:visibleView",s)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document,n=this._getSelectedLinkElement();return{target:n?t.domConverter.mapViewToDom(n):t.domConverter.viewRangeToDom(e.selection.getFirstRange())}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection;if(e.isCollapsed)return rd(e.getFirstPosition());{const n=e.getFirstRange().getTrimmed(),i=rd(n.start),s=rd(n.end);return i&&i==s&&t.createRangeIn(i).getTrimmed().isEqual(n)?i:null}}}function rd(t){return t.getAncestors().find(t=>function(t){return t.is("attributeElement")&&!!t.getCustomProperty("link")}(t))}class ad extends Qa{constructor(t,e){super(t),this.type=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=Array.from(t.document.selection.getSelectedBlocks()).filter(e=>cd(e,t.schema)),n=!0===this.value;t.change(t=>{if(n){let n=e[e.length-1].nextSibling,i=Number.POSITIVE_INFINITY,s=[];for(;n&&"listItem"==n.name&&0!==n.getAttribute("listIndent");){const t=n.getAttribute("listIndent");t<i&&(i=t),s.push({element:n,listIndent:t-i}),n=n.nextSibling}s=s.reverse();for(const e of s)t.setAttribute("listIndent",e.listIndent,e.element)}if(!n){let t=Number.POSITIVE_INFINITY;for(const n of e)n.is("listItem")&&n.getAttribute("listIndent")<t&&(t=n.getAttribute("listIndent"));ld(e,!0,t=0===t?1:t),ld(e,!1,t)}for(const i of e.reverse())n&&"listItem"==i.name?t.rename(i,"paragraph"):n||"listItem"==i.name?n||"listItem"!=i.name||i.getAttribute("listType")==this.type||t.setAttribute("listType",this.type,i):(t.setAttributes({listType:this.type,listIndent:0},i),t.rename(i,"listItem"))})}_getValue(){const t=ac(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,e=ac(this.editor.model.document.selection.getSelectedBlocks());return!!e&&cd(e,t)}}function ld(t,e,n){const i=e?t[0]:t[t.length-1];if(i.is("listItem")){let s=i[e?"previousSibling":"nextSibling"],o=i.getAttribute("listIndent");for(;s&&s.is("listItem")&&s.getAttribute("listIndent")>=n;)o>s.getAttribute("listIndent")&&(o=s.getAttribute("listIndent")),s.getAttribute("listIndent")==o&&t[e?"unshift":"push"](s),s=s[e?"previousSibling":"nextSibling"]}}function cd(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}class ud extends Qa{constructor(t,e){super(t),this._indentBy="forward"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;let e=Array.from(t.document.selection.getSelectedBlocks());t.change(t=>{const n=e[e.length-1];let i=n.nextSibling;for(;i&&"listItem"==i.name&&i.getAttribute("listIndent")>n.getAttribute("listIndent");)e.push(i),i=i.nextSibling;this._indentBy<0&&(e=e.reverse());for(const s of e){const e=s.getAttribute("listIndent")+this._indentBy;e<0?t.rename(s,"paragraph"):t.setAttribute("listIndent",e,s)}})}_checkEnabled(){const t=ac(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let i=t.previousSibling;for(;i&&i.is("listItem")&&i.getAttribute("listIndent")>=e;){if(i.getAttribute("listIndent")==e)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}function hd(t,e,n,i){const s=e.parent,o=n.mapper,r=n.writer;let a=o.toViewPosition(i.createPositionBefore(t));const l=fd(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),c=t.previousSibling;if(l&&l.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=o.toViewElement(l);a=r.breakContainer(r.createPositionAfter(t))}else a=o.toViewPosition(c&&"listItem"==c.name?i.createPositionAt(c,"end"):i.createPositionBefore(t));if(a=pd(a),r.insert(a,s),c&&"listItem"==c.name){const t=o.toViewElement(c),n=r.createRange(r.createPositionAt(t,0),a).getWalker({ignoreElementEnd:!0});for(const i of n)if(i.item.is("li")){const t=r.breakContainer(r.createPositionBefore(i.item)),s=i.item.parent,o=r.createPositionAt(e,"end");dd(r,o.nodeBefore,o.nodeAfter),r.move(r.createRangeOn(s),o),n.position=t}}else{const n=s.nextSibling;if(n&&(n.is("ul")||n.is("ol"))){let i=null;for(const e of n.getChildren()){const n=o.toModelElement(e);if(!(n&&n.getAttribute("listIndent")>t.getAttribute("listIndent")))break;i=e}i&&(r.breakContainer(r.createPositionAfter(i)),r.move(r.createRangeOn(i.parent),r.createPositionAt(e,"end")))}}dd(r,s,s.nextSibling),dd(r,s.previousSibling,s)}function dd(t,e,n){return!e||!n||"ul"!=e.name&&"ol"!=e.name||e.name!=n.name||e.getAttribute("class")!==n.getAttribute("class")?null:t.mergeContainers(t.createPositionAfter(e))}function pd(t){return t.getLastMatchingPosition(t=>t.item.is("uiElement"))}function fd(t,e){const n=!!e.sameIndent,i=!!e.smallerIndent,s=e.listIndent;let o=t;for(;o&&"listItem"==o.name;){const t=o.getAttribute("listIndent");if(n&&s==t||i&&s>t)return o;o=o.previousSibling}return null}function gd(t,e,n,i){t.ui.componentFactory.add(e,s=>{const o=t.commands.get(e),r=new Oa(s);return r.set({label:n,icon:i,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(o,"value","isEnabled"),r.on("execute",()=>t.execute(e)),r})}function md(){const t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:Re.call(this)}function bd(t){return(e,n,i)=>{const s=i.consumable;if(!s.test(n.item,"insert")||!s.test(n.item,"attribute:listType")||!s.test(n.item,"attribute:listIndent"))return;s.consume(n.item,"insert"),s.consume(n.item,"attribute:listType"),s.consume(n.item,"attribute:listIndent");const o=n.item;hd(o,function(t,e){const n=e.mapper,i=e.writer,s="numbered"==t.getAttribute("listType")?"ol":"ul",o=function(t){const e=t.createContainerElement("li");return e.getFillerOffset=md,e}(i),r=i.createContainerElement(s,null);return i.insert(i.createPositionAt(r,0),o),n.bindElements(t,o),o}(o,i),i,t)}}function wd(t,e,n){if(!n.consumable.consume(e.item,"attribute:listType"))return;const i=n.mapper.toViewElement(e.item),s=n.writer;s.breakContainer(s.createPositionBefore(i)),s.breakContainer(s.createPositionAfter(i)),s.rename("numbered"==e.attributeNewValue?"ol":"ul",i.parent)}function yd(t,e,n){const i=n.mapper.toViewElement(e.item).parent,s=n.writer;dd(s,i,i.nextSibling),dd(s,i.previousSibling,i);for(const o of e.item.getChildren())n.consumable.consume(o,"insert")}function vd(t,e,n){if("listItem"!=e.item.name){let t=n.mapper.toViewPosition(e.range.start);const i=n.writer,s=[];for(;("ul"==t.parent.name||"ol"==t.parent.name)&&"li"==(t=i.breakContainer(t)).parent.name;){const e=t,n=i.createPositionAt(t.parent,"end");if(!e.isEqual(n)){const t=i.remove(i.createRange(e,n));s.push(t)}t=i.createPositionAfter(t.parent)}if(s.length>0){for(let e=0;e<s.length;e++){const n=t.nodeBefore;if(t=i.insert(t,s[e]).end,e>0){const e=dd(i,n,n.nextSibling);e&&e.parent==n&&t.offset--}}dd(i,t.nodeBefore,t.nodeAfter)}}}function _d(t,e,n){const i=n.mapper.toViewPosition(e.position);dd(n.writer,i.nodeBefore,i.nodeAfter)}function kd(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){const t=n.writer,i=t.createElement("listItem"),s=function(t){let e=0,n=t.parent;for(;n;){if(n.is("li"))e++;else{const t=n.previousSibling;t&&t.is("li")&&e++}n=n.parent}return e}(e.viewItem);t.setAttribute("listIndent",s,i),t.setAttribute("listType",e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted",i);const o=n.splitToAllowedParent(i,e.modelCursor);if(!o)return;t.insert(i,o.position);const r=function(t,e,n){const{writer:i,schema:s}=n;let o=i.createPositionAfter(t);for(const r of e)if("ul"==r.name||"ol"==r.name)o=n.convertItem(r,o).modelCursor;else{const e=n.convertItem(r,i.createPositionAt(t,"end")),a=e.modelRange.start.nodeAfter;a&&a.is("element")&&!s.checkChild(t,a.name)&&(t=e.modelCursor.parent.is("listItem")?e.modelCursor.parent:Ed(e.modelCursor),o=i.createPositionAfter(t))}return o}(i,e.viewItem.getChildren(),n);e.modelRange=t.createRange(e.modelCursor,r),e.modelCursor=o.cursorParent?t.createPositionAt(o.cursorParent,0):e.modelRange.end}}function Cd(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){const t=Array.from(e.viewItem.getChildren());for(const e of t)!e.is("li")&&!Od(e)&&e._remove()}}function Sd(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const t=[...e.viewItem.getChildren()];let n=!1,i=!0;for(const e of t)n&&!Od(e)&&e._remove(),e.is("text")?(i&&(e._data=e.data.replace(/^\s+/,"")),e.nextSibling&&!Od(e.nextSibling)||(e._data=e.data.replace(/\s+$/,""))):Od(e)&&(n=!0),i=!1}}function xd(t){return(e,n)=>{if(n.isPhantom)return;const i=n.modelPosition.nodeBefore;if(i&&i.is("listItem")){const e=n.mapper.toViewElement(i),s=e.getAncestors().find(Od),o=t.createPositionAt(e,0).getWalker();for(const t of o){if("elementStart"==t.type&&t.item.is("li")){n.viewPosition=t.previousPosition;break}if("elementEnd"==t.type&&t.item==s){n.viewPosition=t.nextPosition;break}}}}}function Td(t,[e,n]){let i,s=e.is("documentFragment")?e.getChild(0):e;if(i=n?this.createSelection(n):this.document.selection,s&&s.is("listItem")){const t=i.getFirstPosition();let e=null;if(t.parent.is("listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(t>0)for(;s&&s.is("listItem");)s._setAttribute("listIndent",s.getAttribute("listIndent")+t),s=s.nextSibling}}}function Ed(t){const e=new Ss({startPosition:t});let n;do{n=e.next()}while(!n.value.item.is("listItem"));return n.value.item}function Id(t,e,n,i,s,o){const r=fd(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),a=s.mapper,l=s.writer,c=r?r.getAttribute("listIndent"):null;let u;if(r)if(c==t){const t=a.toViewElement(r).parent;u=l.createPositionAfter(t)}else{const t=o.createPositionAt(r,"end");u=a.toViewPosition(t)}else u=n;u=pd(u);for(const h of[...i.getChildren()])Od(h)&&(u=l.move(l.createRangeOn(h),u).end,dd(l,h,h.nextSibling),dd(l,h.previousSibling,h))}function Od(t){return t.is("ol")||t.is("ul")}class Ad extends Wa{static get pluginName(){return"ListEditing"}static get requires(){return[yh]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,n=t.editing;t.model.document.registerPostFixer(e=>function(t,e){const n=t.document.differ.getChanges(),i=new Map;let s=!1;for(const l of n)if("insert"==l.type&&"listItem"==l.name)o(l.position);else if("insert"==l.type&&"listItem"!=l.name){if("$text"!=l.name){const n=l.position.nodeAfter;n.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",n),s=!0),n.hasAttribute("listType")&&(e.removeAttribute("listType",n),s=!0);for(const e of Array.from(t.createRangeIn(n)).filter(t=>t.item.is("listItem")))o(e.previousPosition)}o(l.position.getShiftedBy(l.length))}else"remove"==l.type&&"listItem"==l.name?o(l.position):("attribute"==l.type&&"listIndent"==l.attributeKey||"attribute"==l.type&&"listType"==l.attributeKey)&&o(l.range.start);for(const l of i.values())r(l),a(l);return s;function o(t){const e=t.nodeBefore;if(e&&e.is("listItem")){let n=e;if(i.has(n))return;for(;n.previousSibling&&n.previousSibling.is("listItem");)if(n=n.previousSibling,i.has(n))return;i.set(t.nodeBefore,n)}else{const e=t.nodeAfter;e&&e.is("listItem")&&i.set(e,e)}}function r(t){let n=0,i=null;for(;t&&t.is("listItem");){const o=t.getAttribute("listIndent");if(o>n){let r;null===i?(i=o-n,r=n):(i>o&&(i=o),r=o-i),e.setAttribute("listIndent",r,t),s=!0}else i=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function a(t){let n=[],i=null;for(;t&&t.is("listItem");){const o=t.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>o&&(n=n.slice(0,o+1)),0!=o)if(n[o]){const i=n[o];t.getAttribute("listType")!=i&&(e.setAttribute("listType",i,t),s=!0)}else n[o]=t.getAttribute("listType");i=t,t=t.nextSibling}}}(t.model,e)),n.mapper.registerViewToModelLength("li",Pd),e.mapper.registerViewToModelLength("li",Pd),n.mapper.on("modelToViewPosition",xd(n.view)),n.mapper.on("viewToModelPosition",function(t){return(e,n)=>{const i=n.viewPosition,s=i.parent,o=n.mapper;if("ul"==s.name||"ol"==s.name){if(i.isAtEnd){const e=o.toModelElement(i.nodeBefore),s=o.getModelLength(i.nodeBefore);n.modelPosition=t.createPositionBefore(e).getShiftedBy(s)}else{const e=o.toModelElement(i.nodeAfter);n.modelPosition=t.createPositionBefore(e)}e.stop()}else if("li"==s.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){const r=o.toModelElement(s);let a=1,l=i.nodeBefore;for(;l&&Od(l);)a+=o.getModelLength(l),l=l.previousSibling;n.modelPosition=t.createPositionBefore(r).getShiftedBy(a),e.stop()}}}(t.model)),e.mapper.on("modelToViewPosition",xd(n.view)),n.downcastDispatcher.on("insert",vd,{priority:"high"}),n.downcastDispatcher.on("insert:listItem",bd(t.model)),e.downcastDispatcher.on("insert",vd,{priority:"high"}),e.downcastDispatcher.on("insert:listItem",bd(t.model)),n.downcastDispatcher.on("attribute:listType:listItem",wd,{priority:"high"}),n.downcastDispatcher.on("attribute:listType:listItem",yd,{priority:"low"}),n.downcastDispatcher.on("attribute:listIndent:listItem",function(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,"attribute:listIndent"))return;const s=i.mapper.toViewElement(n.item),o=i.writer;o.breakContainer(o.createPositionBefore(s)),o.breakContainer(o.createPositionAfter(s));const r=s.parent,a=r.previousSibling,l=o.createRangeOn(r);o.remove(l),a&&a.nextSibling&&dd(o,a,a.nextSibling),Id(n.attributeOldValue+1,n.range.start,l.start,s,i,t),hd(n.item,s,i,t);for(const t of n.item.getChildren())i.consumable.consume(t,"insert")}}(t.model)),n.downcastDispatcher.on("remove:listItem",function(t){return(e,n,i)=>{const s=i.mapper.toViewPosition(n.position).getLastMatchingPosition(t=>!t.item.is("li")).nodeAfter,o=i.writer;o.breakContainer(o.createPositionBefore(s)),o.breakContainer(o.createPositionAfter(s));const r=s.parent,a=r.previousSibling,l=o.createRangeOn(r),c=o.remove(l);a&&a.nextSibling&&dd(o,a,a.nextSibling),Id(i.mapper.toModelElement(s).getAttribute("listIndent")+1,n.position,l.start,s,i,t);for(const t of o.createRangeIn(c).getItems())i.mapper.unbindViewElement(t);e.stop()}}(t.model)),n.downcastDispatcher.on("remove",_d,{priority:"low"}),e.upcastDispatcher.on("element:ul",Cd,{priority:"high"}),e.upcastDispatcher.on("element:ol",Cd,{priority:"high"}),e.upcastDispatcher.on("element:li",Sd,{priority:"high"}),e.upcastDispatcher.on("element:li",kd),t.model.on("insertContent",Td,{priority:"high"}),t.commands.add("numberedList",new ad(t,"numbered")),t.commands.add("bulletedList",new ad(t,"bulleted")),t.commands.add("indentList",new ud(t,"forward")),t.commands.add("outdentList",new ud(t,"backward"));const i=n.view.document;this.listenTo(i,"enter",(t,e)=>{const n=this.editor.model.document,i=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==i.name&&i.isEmpty&&(this.editor.execute("outdentList"),e.preventDefault(),t.stop())}),this.listenTo(i,"delete",(t,e)=>{if("backward"!==e.direction)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const i=n.getFirstPosition();if(!i.isAtStart)return;const s=i.parent;"listItem"===s.name&&(s.previousSibling&&"listItem"===s.previousSibling.name||(this.editor.execute("outdentList"),e.preventDefault(),t.stop()))},{priority:"high"});const s=t=>(e,n)=>{this.editor.commands.get(t).isEnabled&&(this.editor.execute(t),n())};t.keystrokes.set("Tab",s("indentList")),t.keystrokes.set("Shift+Tab",s("outdentList"))}afterInit(){const t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}function Pd(t){let e=1;for(const n of t.getChildren())if("ul"==n.name||"ol"==n.name)for(const t of n.getChildren())e+=Pd(t);return e}class Md extends Wa{init(){const t=this.editor.t;gd(this.editor,"numberedList",t("s"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),gd(this.editor,"bulletedList",t("t"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function Dd(t,e){return t=>{t.on("attribute:url:media",n)};function n(n,i,s){if(!s.consumable.consume(i.item,n.name))return;const o=i.attributeNewValue,r=s.writer,a=s.mapper.toViewElement(i.item);r.remove(r.createRangeIn(a));const l=t.getMediaViewElement(r,o,e);r.insert(r.createPositionAt(a,0),l)}}function Ld(t,e,n,i){const s=t.createContainerElement("figure",{class:"media"});return s.getFillerOffset=Fd,t.insert(t.createPositionAt(s,0),e.getMediaViewElement(t,n,i)),s}function Rd(t){const e=t.getSelectedElement();return e&&e.is("media")?e:null}function Nd(t,e,n){t.change(i=>{const s=i.createElement("media",{url:e});t.insertContent(s,n),i.setSelection(s,"on")})}function Fd(){return null}class Vd extends Qa{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema,i=e.getFirstPosition(),s=Rd(e);let o=i.parent;o!=o.root&&(o=o.parent),this.value=s?s.getAttribute("url"):null,this.isEnabled=n.checkChild(o,"media")}execute(t){const e=this.editor.model,n=e.document.selection,i=Rd(n);if(i)e.change(e=>{e.setAttribute("url",t,i)});else{const i=Tc(n,e);Nd(e,t,i)}}}class jd{constructor(t,e){const n=e.providers,i=e.extraProviders||[],s=new Set(e.removeProviders),o=n.concat(i).filter(t=>{const e=t.name;return e?!s.has(e):(console.warn(Object(le.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:t}),!1)});this.locale=t,this.providerDefinitions=o}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new zd(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html;let i=e.url;Array.isArray(i)||(i=[i]);for(const e of i){const i=this._getUrlMatches(t,e);if(i)return new zd(this.locale,t,i,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let i=t.replace(/^https?:\/\//,"");return(n=i.match(e))?n:(n=(i=i.replace(/^www\./,"")).match(e))||null}}class zd{constructor(t,e,n,i){this.url=this._getValidUrl(e),this._t=t.t,this._match=n,this._previewRenderer=i}getViewElement(t,e){const n={};if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const i=this._getPreviewHtml(e);return t.createUIElement("div",n,function(t){const e=this.toDomElement(t);return e.innerHTML=i,e})}return this.url&&(n.url=this.url),t.createEmptyElement("oembed",n)}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new Ia,e=new Ea;return t.text=this._t("Open media in new tab"),e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Wr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}n(79);class Bd extends Wa{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new jd(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion,s=t.config.get("mediaEmbed.previewsInData"),o=this.registry;t.commands.add("mediaEmbed",new Vd(t)),e.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),i.for("dataDowncast").elementToElement({model:"media",view:(t,e)=>{const n=t.getAttribute("url");return Ld(e,o,n,{renderMediaPreview:n&&s})}}),i.for("dataDowncast").add(Dd(o,{renderMediaPreview:s})),i.for("editingDowncast").elementToElement({model:"media",view:(t,e)=>{const i=t.getAttribute("url");return function(t,e,n){return e.setCustomProperty("media",!0,t),Cc(t,e,{label:n})}(Ld(e,o,i,{renderForEditingView:!0}),e,n("u"))}}),i.for("editingDowncast").add(Dd(o,{renderForEditingView:!0})),i.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:(t,e)=>{const n=t.getAttribute("url");if(o.hasMedia(n))return e.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(t,e)=>{const n=t.getAttribute("data-oembed-url");if(o.hasMedia(n))return e.createElement("media",{url:n})}})}}const Hd=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;class Ud extends Wa{static get requires(){return[Ya,zl]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document;this.listenTo(t.plugins.get(Ya),"inputTransformation",()=>{const t=e.selection.getFirstRange(),n=fr.fromPosition(t.start);n.stickiness="toPrevious";const i=fr.fromPosition(t.end);i.stickiness="toNext",e.once("change:data",()=>{this._embedMediaBetweenPositions(n,i),n.detach(),i.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(ai.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,i=n.plugins.get(Bd).registry,s=new Vs(t,e),o=s.getWalker({ignoreElementEnd:!0});let r="";for(const a of o)a.item.is("textProxy")&&(r+=a.item.data);(r=r.trim()).match(Hd)&&i.hasMedia(r)&&n.commands.get("mediaEmbed").isEnabled&&(this._positionToInsert=fr.fromPosition(t),this._timeoutId=ai.window.setTimeout(()=>{n.model.change(t=>{let e;this._timeoutId=null,t.remove(s),"$graveyard"!==this._positionToInsert.root.rootName&&(e=this._positionToInsert),Nd(n.model,r,e),this._positionToInsert.detach(),this._positionToInsert=null})},100))}}n(81);class $d extends ca{constructor(t,e){super(e);const n=e.t;this.focusTracker=new Nr,this.keystrokes=new Er,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("bx"),Fu,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("by"),Vu,"ck-button-cancel","cancel"),this._focusables=new $r,this._focusCycler=new wa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Nu({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(t,e)=>{e.stopPropagation()},{priority:"high"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.inputView.element.value.trim()}set url(t){this.urlInputView.inputView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new Lu(this.locale,Ru),n=e.inputView;return this._urlInputViewInfoDefault=t("cv"),this._urlInputViewInfoTip=t("cw"),e.label=t("cx"),e.infoText=this._urlInputViewInfoDefault,n.placeholder="https://example.com",n.on("input",()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault}),e}_createButton(t,e,n,i){const s=new Oa(this.locale);return s.set({label:t,icon:e,tooltip:!0}),s.extendTemplate({attributes:{class:n}}),i&&s.delegate("execute").to(this,i),s}}class Wd extends Wa{static get requires(){return[Bd]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,e=t.commands.get("mediaEmbed"),n=t.plugins.get(Bd).registry;this.form=new $d(function(t,e){return[e=>{if(!e.url.length)return t("x")},n=>{if(!e.hasMedia(n.url))return t("y")}]}(t.t,n),t.locale),t.ui.componentFactory.add("mediaEmbed",n=>{const i=Na(n);return this._setUpDropdown(i,this.form,e,t),this._setUpForm(this.form,i,e),i})}_setUpDropdown(t,e,n){const i=this.editor,s=i.t,o=t.buttonView;function r(){i.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(n),t.panelView.children.add(e),o.set({label:s("w"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18.68 2.53c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.08c0-.58-.01-.55.6-.55h17.38zM15.77 14.5v-10H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 6.677a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V6.676z"/></svg>',tooltip:!0}),o.on("open",()=>{e.url=n.value||"",e.urlInputView.select(),e.focus()},{priority:"low"}),t.on("submit",()=>{e.isValid()&&(i.execute("mediaEmbed",e.url),r())}),t.on("change:isOpen",()=>e.resetFormStatus()),t.on("cancel",()=>r())}_setUpForm(t,e,n){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(n,"value"),t.urlInputView.bind("isReadOnly").to(n,"isEnabled",t=>!t),t.saveButtonView.bind("isEnabled").to(n)}}function qd(t){const e={},n=t.getStyle("mso-list");return n&&(e.id=parseInt(n.match(/(^|\s+)l(\d+)/i)[2]),e.order=parseInt(n.match(/\s*lfo(\d+)/i)[1]),e.indent=parseInt(n.match(/\s*level(\d+)/i)[1])),e}n(83);const Kd=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Gd{isActive(t){return Kd.test(t)}execute(t){const e=new hh;!function(t,e){for(const n of t.getChildren())if(n.is("b")&&"normal"===n.getStyle("font-weight")){const i=t.getChildIndex(n);e.remove(n),e.insertChild(i,n.getChildren(),t)}}(t.content,e),function(t,e){for(const n of e.createRangeIn(t)){const t=n.item;if(t.is("li")){const n=t.getChild(0);n.is("p")&&e.unwrapElement(n)}}}(t.content,e)}}function Yd(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1===e.length?" ":Array(e.length+1).join("\xa0 ").substr(0,e.length))}function Qd(t){return btoa(t.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}const Zd=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Jd=/xmlns:o="urn:schemas-microsoft-com/i;class Xd{isActive(t){return Zd.test(t)||Jd.test(t)}execute(t){const{body:e,stylesString:n}=function(t){const e=new DOMParser,n=function(t){return Yd(Yd(t)).replace(/(<span style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(t){const e=t.match(/<\/body>(.*?)(<\/html>|$)/);return e&&e[1]&&(t=t.slice(0,e.index)+t.slice(e.index).replace(e[1],"")),t}(t=t.replace(/<!--\[if gte vml 1]>/g,""))),i=e.parseFromString(n,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach(t=>{const e=t.childNodes[0].data.length;t.innerHTML=Array(e+1).join("\xa0 ").substr(0,e)})}(i);const s=i.body.innerHTML,o=function(t){const e=new hi({blockFillerMode:"nbsp"}),n=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return e.domToView(n)}(i),r=function(t){const e=[],n=[],i=Array.from(t.getElementsByTagName("style"));for(const s of i)s.sheet&&s.sheet.cssRules&&s.sheet.cssRules.length&&(e.push(s.sheet),n.push(s.innerHTML));return{styles:e,stylesString:n.join(" ")}}(i);return{body:o,bodyString:s,styles:r.styles,stylesString:r.stylesString}}(t.dataTransfer.getData("text/html"));(function(t,e){if(!t.childCount)return;const n=new hh,i=function(t,e){const n=e.createRangeIn(t),i=new Oe({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),s=[];for(const o of n)if("elementStart"===o.type&&i.match(o.item)){const t=qd(o.item);s.push({element:o.item,id:t.id,order:t.order,indent:t.indent})}return s}(t,n);if(!i.length)return;let s=null;i.forEach((t,o)=>{if(!s||function(t,e){if(t.id!==e.id)return!0;const n=e.element.previousSibling;return!n||!function(t){return t.is("ol")||t.is("ul")}(n)}(i[o-1],t)){const i=function(t,e){const n=/mso-level-number-format:([^;]*);/gi,i=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi").exec(e);let s="decimal";if(i&&i[1]){const t=n.exec(i[1]);t&&t[1]&&(s=t[1].trim())}return{type:"bullet"!==s&&"image"!==s?"ol":"ul",style:s}}(t,e);s=function(t,e,n){const i=new Pe(t.type),s=e.parent.getChildIndex(e);return n.insertChild(s,i,e.parent),i}(i,t.element,n)}const r=function(t,e){return function(t,e){const n=new Oe({name:"span",styles:{"mso-list":"Ignore"}}),i=e.createRangeIn(t);for(const s of i)"elementStart"===s.type&&n.match(s.item)&&e.remove(s.item)}(t,e),e.rename("li",t)}(t.element,n);n.appendChild(r,s)})})(e,n),function(t,e){if(!t.childCount)return;const n=new hh;!function(t,e,n){const i=n.createRangeIn(e),s=new Oe({name:"img"}),o=[];for(const r of i)if(s.match(r.item)){const e=r.item,n=e.getAttribute("v:shapes")?e.getAttribute("v:shapes").split(" "):[];n.length&&n.every(e=>t.indexOf(e)>-1)?o.push(e):e.getAttribute("src")||o.push(e)}for(const r of o)n.remove(r)}(function(t,e){const n=e.createRangeIn(t),i=new Oe({name:/v:(.+)/}),s=[];for(const o of n){const t=o.item,e=t.previousSibling&&t.previousSibling.name||null;i.match(t)&&t.getAttribute("o:gfxdata")&&"v:shapetype"!==e&&s.push(o.item.getAttribute("id"))}return s}(t,n),t,n),function(t,e){const n=e.createRangeIn(t),i=new Oe({name:/v:(.+)/}),s=[];for(const o of n)i.match(o.item)&&s.push(o.item);for(const o of s)e.remove(o)}(t,n);const i=function(t,e){const n=e.createRangeIn(t),i=new Oe({name:"img"}),s=[];for(const o of n)i.match(o.item)&&o.item.getAttribute("src").startsWith("file://")&&s.push(o.item);return s}(t,n);i.length&&function(t,e,n){if(t.length===e.length)for(let i=0;i<t.length;i++){const s=`data:${e[i].type};base64,${Qd(e[i].hex)}`;n.setAttribute("src",s,t[i])}}(i,function(t){if(!t)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),i=t.match(n),s=[];if(i)for(const o of i){let t=!1;o.includes("\\pngblip")?t="image/png":o.includes("\\jpegblip")&&(t="image/jpeg"),t&&s.push({hex:o.replace(e,"").replace(/[^\da-fA-F]/g,""),type:t})}return s}(e),n)}(e,t.dataTransfer.getData("text/rtf")),t.content=e}}function tp(t,e){let n=e.parent;for(;n;){if(n.name===t)return n;n=n.parent}}function ep(t,e,n,i,s=1){e>s?i.setAttribute(t,e,n):i.removeAttribute(t,n)}function np(t,e,n={}){const i=t.createElement("tableCell",n);t.insertElement("paragraph",i),t.insert(i,e)}function ip(t){return e=>{e.on(`element:${t}`,(t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const s=n.writer.createElement("tableCell"),o=n.splitToAllowedParent(s,e.modelCursor);if(!o)return;n.writer.insert(s,o.position),n.consumable.consume(i,{name:!0});const r=n.writer.createPositionAt(s,0);n.convertChildren(i,r),s.childCount||n.writer.insertElement("paragraph",r),e.modelRange=n.writer.createRange(n.writer.createPositionBefore(s),n.writer.createPositionAfter(s)),e.modelCursor=e.modelRange.end})}}function sp(t){let e=0,n=0;const i=Array.from(t.getChildren()).filter(t=>"th"===t.name||"td"===t.name);for(;n<i.length&&"th"===i[n].name;)e+=parseInt(i[n].getAttribute("colspan")||1),n++;return e}class op{constructor(t,e={}){this.table=t,this.startRow=e.startRow||0,this.endRow="number"==typeof e.endRow?e.endRow:void 0,this.includeSpanned=!!e.includeSpanned,this.column="number"==typeof e.column?e.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const t=this.table.getChild(this._row);if(!t||this._isOverEndRow())return{done:!0};let e,n,i;if(this._isSpanned(this._row,this._column))e=this._getSpanned(this._row,this._column),n=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(e,this._column,!0);else{if(!(e=t.getChild(this._cellIndex)))return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next();const s=parseInt(e.getAttribute("colspan")||1),o=parseInt(e.getAttribute("rowspan")||1);(s>1||o>1)&&this._recordSpans(this._row,this._column,o,s,e),this._nextCellAtColumn=this._column+s,n=this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(e,this._column,!1,o,s)}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,n?this.next():i}skipRow(t){this._skipRows.add(t)}_isOverEndRow(){return void 0!==this.endRow&&this._row>this.endRow}_formatOutValue(t,e,n,i=1,s=1){return{done:!1,value:{cell:t,row:this._row,column:e,isSpanned:n,rowspan:i,colspan:s,cellIndex:this._cellIndex}}}_shouldSkipRow(){const t=this._row<this.startRow,e=this._skipRows.has(this._row);return t||e}_shouldSkipColumn(){return void 0!==this.column&&this.column!=this._column}_isSpanned(t,e){return!!this._spannedCells.has(t)&&this._spannedCells.get(t).has(e)}_getSpanned(t,e){return this._spannedCells.get(t).get(e)}_recordSpans(t,e,n,i,s){for(let o=e+1;o<=e+i-1;o++)this._markSpannedCell(t,o,s);for(let o=t+1;o<t+n;o++)for(let t=e;t<=e+i-1;t++)this._markSpannedCell(o,t,s)}_markSpannedCell(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}}function rp(t){return!!t.getCustomProperty("table")&&kc(t)}function ap(t){const e=t.getSelectedElement();return e&&rp(e)?e:null}function lp(t){const e=tp("table",t.getFirstPosition());return e&&rp(e.parent)?e.parent:null}function cp(t={}){return e=>e.on("insert:table",(e,n,i)=>{const s=n.item;if(!i.consumable.consume(s,"insert"))return;i.consumable.consume(s,"attribute:headingRows:table"),i.consumable.consume(s,"attribute:headingColumns:table");const o=t&&t.asWidget,r=i.writer.createContainerElement("figure",{class:"table"}),a=i.writer.createContainerElement("table");let l;i.writer.insert(i.writer.createPositionAt(r,0),a),o&&(l=function(t,e){return e.setCustomProperty("table",!0,t),Cc(t,e,{hasSelectionHandle:!0})}(r,i.writer));const c=new op(s),u={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0},h=new Map;for(const p of c){const{row:e,cell:n}=p,o=vp(yp(e,u),a,i),r=s.getChild(e),l=h.get(e)||bp(r,e,o,i);h.set(e,l),i.consumable.consume(n,"insert"),mp(p,u,i.writer.createPositionAt(l,"end"),i,t)}const d=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(s,o?l:r),i.writer.insert(d,o?l:r)})}function up(t={}){return e=>e.on("insert:tableRow",(e,n,i)=>{const s=n.item;if(!i.consumable.consume(s,"insert"))return;const o=s.parent,r=Sp(i.mapper.toViewElement(o)),a=o.getChildIndex(s),l=new op(o,{startRow:a,endRow:a}),c={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},u=new Map;for(const h of l){const e=vp(yp(a,c),r,i),n=u.get(a)||bp(s,a,e,i);u.set(a,n),i.consumable.consume(h.cell,"insert"),mp(h,c,i.writer.createPositionAt(n,"end"),i,t)}})}function hp(t={}){return e=>e.on("insert:tableCell",(e,n,i)=>{const s=n.item;if(!i.consumable.consume(s,"insert"))return;const o=s.parent,r=o.parent,a=r.getChildIndex(o),l=new op(r,{startRow:a,endRow:a}),c={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0};for(const u of l)if(u.cell===s){const e=i.mapper.toViewElement(o);return void mp(u,c,i.writer.createPositionAt(e,o.getChildIndex(s)),i,t)}})}function dp(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingRows:table",(t,n,i)=>{const s=n.item;if(!i.consumable.consume(n.item,t.name))return;const o=Sp(i.mapper.toViewElement(s)),r=n.attributeOldValue,a=n.attributeNewValue;if(a>r){const t=Array.from(s.getChildren()).filter(({index:t})=>l(t,r-1,a));Cp(t,vp("thead",o,i),i,"end");for(const n of t)for(const t of n.getChildren())fp(t,"th",i,e);kp("tbody",o,i)}else{Cp(Array.from(s.getChildren()).filter(({index:t})=>l(t,a-1,r)).reverse(),vp("tbody",o,i),i,0);const t=new op(s,{startRow:a?a-1:a,endRow:r-1}),n={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0};for(const s of t)gp(s,n,i,e);kp("thead",o,i)}function l(t,e,n){return t>e&&t<n}})}function pp(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingColumns:table",(t,n,i)=>{const s=n.item;if(!i.consumable.consume(n.item,t.name))return;const o={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0},r=n.attributeOldValue,a=n.attributeNewValue,l=(r>a?r:a)-1;for(const c of new op(s))c.column>l||gp(c,o,i,e)})}function fp(t,e,n,i){const s=n.writer,o=n.mapper.toViewElement(t);if(!o)return;let r;i?(r=xc(s.createEditableElement(e,o.getAttributes()),s),s.insert(s.createPositionAfter(o),r),s.move(s.createRangeIn(o),s.createPositionAt(r,0)),s.remove(s.createRangeOn(o))):r=s.rename(e,o),n.mapper.unbindViewElement(o),n.mapper.bindElements(t,r)}function gp(t,e,n,i){const{cell:s}=t,o=wp(t,e),r=n.mapper.toViewElement(s);r&&r.name!==o&&fp(s,o,n,i)}function mp(t,e,n,i,s){const o=s&&s.asWidget,r=wp(t,e),a=o?xc(i.writer.createEditableElement(r),i.writer):i.writer.createContainerElement(r),l=t.cell,c=l.getChild(0),u=1===l.childCount&&"paragraph"===c.name;if(i.writer.insert(n,a),u&&!function(t){return!![...t.getAttributeKeys()].length}(c)){const t=l.getChild(0),e=i.writer.createPositionAt(a,"end");if(i.consumable.consume(t,"insert"),s.asWidget){const n=i.writer.createContainerElement("span");i.mapper.bindElements(t,n),i.writer.insert(e,n),i.mapper.bindElements(l,a)}else i.mapper.bindElements(l,a),i.mapper.bindElements(t,a)}else i.mapper.bindElements(l,a)}function bp(t,e,n,i){i.consumable.consume(t,"insert");const s=i.writer.createContainerElement("tr");i.mapper.bindElements(t,s);const o=t.parent.getAttribute("headingRows")||0,r=i.writer.createPositionAt(n,o>0&&e>=o?e-o:e);return i.writer.insert(r,s),s}function wp(t,e){const{row:n,column:i}=t,{headingColumns:s,headingRows:o}=e;return o&&o>n||s&&s>i?"th":"td"}function yp(t,e){return t<e.headingRows?"thead":"tbody"}function vp(t,e,n){return _p(t,e)||function(t,e,n){const i=n.writer.createContainerElement(t),s=n.writer.createPositionAt(e,"tbody"==t?"end":0);return n.writer.insert(s,i),i}(t,e,n)}function _p(t,e){for(const n of e.getChildren())if(n.name==t)return n}function kp(t,e,n){const i=_p(t,e);i&&0===i.childCount&&n.writer.remove(n.writer.createRangeOn(i))}function Cp(t,e,n,i){for(const s of t){const t=n.mapper.toViewElement(s);t&&n.writer.move(n.writer.createRangeOn(t),n.writer.createPositionAt(e,i))}}function Sp(t){for(const e of t.getChildren())if("table"===e.name)return e}class xp extends Qa{refresh(){const t=this.editor.model,e=t.schema,n=function(t){const e=t.parent;return e===e.root?e:e.parent}(t.document.selection.getFirstPosition());this.isEnabled=e.checkChild(n,"table")}execute(t={}){const e=this.editor.model,n=e.document.selection,i=this.editor.plugins.get("TableUtils"),s=parseInt(t.rows)||2,o=parseInt(t.columns)||2,r=Tc(n,e);e.change(t=>{const n=i.createTable(t,s,o);e.insertContent(n,r),t.setSelection(t.createPositionAt(n.getNodeByPath([0,0,0]),0))})}}class Tp extends Qa{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=tp("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i=tp("tableCell",e.getFirstPosition()).parent,s=i.parent,o=s.getChildIndex(i);n.insertRows(s,{rows:1,at:"below"===this.order?o+1:o})}}class Ep extends Qa{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=tp("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i=tp("tableCell",e.getFirstPosition()),s=i.parent.parent,{column:o}=n.getCellLocation(i);n.insertColumns(s,{columns:1,at:"right"===this.order?o+1:o})}}class Ip extends Qa{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=tp("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=tp("tableCell",this.editor.model.document.selection.getFirstPosition()),e="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");e?n.splitCellHorizontally(t,2):n.splitCellVertically(t,2)}}class Op extends Qa{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=tp("tableCell",t.document.selection.getFirstPosition()),n=this.value,i=this.direction;t.change(t=>{const s="right"==i||"down"==i,o=s?e:n,r=s?n:e,a=r.parent;!function(t,e,n){Ap(t)||(Ap(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}(r,o,t);const l=this.isHorizontal?"colspan":"rowspan",c=parseInt(e.getAttribute(l)||1),u=parseInt(n.getAttribute(l)||1);t.setAttribute(l,c+u,o),t.setSelection(t.createRangeIn(o)),a.childCount||function(t,e){const n=t.parent,i=n.getChildIndex(t);for(const{cell:s,row:o,rowspan:r}of new op(n,{endRow:i}))o+r-1>=i&&ep("rowspan",r-1,s,e);e.remove(t)}(a,t)})}_getMergeableCell(){const t=tp("tableCell",this.editor.model.document.selection.getFirstPosition());if(!t)return;const e=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(t,e,n){const i="right"==e?t.nextSibling:t.previousSibling;if(!i)return;const s="right"==e?t:i,o="right"==e?i:t,{column:r}=n.getCellLocation(s),{column:a}=n.getCellLocation(o);return r+parseInt(s.getAttribute("colspan")||1)===a?i:void 0}(t,this.direction,e):function(t,e){const n=t.parent,i=n.parent,s=i.getChildIndex(n);if("down"==e&&s===i.childCount-1||"up"==e&&0===s)return;const o=parseInt(t.getAttribute("rowspan")||1),r=i.getAttribute("headingRows")||0;if(r&&("down"==e&&s+o===r||"up"==e&&s===r))return;const a=parseInt(t.getAttribute("rowspan")||1),l="down"==e?s+a:s,c=[...new op(i,{endRow:l})],u=c.find(e=>e.cell===t).column,h=c.find(({row:t,rowspan:n,column:i})=>i===u&&("down"==e?t===l:l===t+n));return h&&h.cell}(t,this.direction);if(!n)return;const i=this.isHorizontal?"rowspan":"colspan",s=parseInt(t.getAttribute(i)||1);return parseInt(n.getAttribute(i)||1)===s?n:void 0}}function Ap(t){return 1==t.childCount&&t.getChild(0).is("paragraph")&&t.getChild(0).isEmpty}class Pp extends Qa{refresh(){const t=tp("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t&&t.parent.parent.childCount>1}execute(){const t=this.editor.model,e=tp("tableCell",t.document.selection.getFirstPosition()).parent,n=e.parent,i=n.getChildIndex(e),s=n.getAttribute("headingRows")||0;t.change(t=>{s&&i<=s&&ep("headingRows",s-1,n,t,0);const o=[...new op(n,{endRow:i})],r=new Map;o.filter(({row:t,rowspan:e})=>t===i&&e>1).forEach(({column:t,cell:e,rowspan:n})=>r.set(t,{cell:e,rowspanToSet:n-1})),o.filter(({row:t,rowspan:e})=>t<=i-1&&t+e>i).forEach(({cell:e,rowspan:n})=>ep("rowspan",n-1,e,t));const a=i+1,l=new op(n,{includeSpanned:!0,startRow:a,endRow:a});let c;for(const{row:e,column:i,cell:s}of[...l])if(r.has(i)){const{cell:s,rowspanToSet:o}=r.get(i),a=c?t.createPositionAfter(c):t.createPositionAt(n.getChild(e),0);t.move(t.createRangeOn(s),a),ep("rowspan",o,s,t),c=s}else c=s;t.remove(e)})}}class Mp extends Qa{refresh(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i=tp("tableCell",e.getFirstPosition());this.isEnabled=!!i&&n.getColumns(i.parent.parent)>1}execute(){const t=this.editor.model,e=tp("tableCell",t.document.selection.getFirstPosition()),n=e.parent,i=n.parent,s=i.getAttribute("headingColumns")||0,o=i.getChildIndex(n),r=[...new op(i)],a=r.find(t=>t.cell===e).column;t.change(t=>{s&&o<=s&&t.setAttribute("headingColumns",s-1,i);for(const{cell:e,column:n,colspan:i}of r)n<=a&&i>1&&n+i>a?ep("colspan",i-1,e,t):n===a&&t.remove(e)})}}class Dp extends Qa{refresh(){const t=tp("tableCell",this.editor.model.document.selection.getFirstPosition()),e=!!t;this.isEnabled=e,this.value=e&&this._isInHeading(t,t.parent.parent)}execute(t={}){const e=this.editor.model,n=tp("tableCell",e.document.selection.getFirstPosition()).parent,i=n.parent,s=i.getAttribute("headingRows")||0,o=n.index;if(t.forceValue===this.value)return;const r=this.value?o:o+1;e.change(t=>{if(r){const e=function(t,e,n){const i=[],s=new op(t,{startRow:e>n?n:0,endRow:e-1});for(const{row:o,rowspan:r,cell:a}of s)r>1&&o+r>e&&i.push(a);return i}(i,r,s);for(const n of e)Lp(n,r,t)}ep("headingRows",r,i,t,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}function Lp(t,e,n){const i=t.parent,s=i.parent,o=e-i.index,r={},a=parseInt(t.getAttribute("rowspan"))-o;a>1&&(r.rowspan=a);const l=parseInt(t.getAttribute("colspan")||1);l>1&&(r.colspan=l);const c=s.getChildIndex(i),u=c+o,h=[...new op(s,{startRow:c,endRow:u,includeSpanned:!0})];let d;for(const{row:p,column:f,cell:g,cellIndex:m}of h)if(g===t&&void 0===d&&(d=f),void 0!==d&&d===f&&p===u){const t=s.getChild(p);np(n,n.createPositionAt(t,m),r)}ep("rowspan",o,t,n)}class Rp extends Qa{refresh(){const t=tp("tableCell",this.editor.model.document.selection.getFirstPosition()),e=!!t;this.isEnabled=e,this.value=e&&this._isInHeading(t,t.parent.parent)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=this.editor.plugins.get("TableUtils"),s=tp("tableCell",n.getFirstPosition()),o=s.parent.parent,{column:r}=i.getCellLocation(s);if(t.forceValue===this.value)return;const a=this.value?r:r+1;e.change(t=>{ep("headingColumns",a,o,t,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingColumns")||0),i=this.editor.plugins.get("TableUtils"),{column:s}=i.getCellLocation(t);return!!n&&s<n}}class Np extends Wa{static get pluginName(){return"TableUtils"}getCellLocation(t){const e=t.parent,n=e.parent,i=n.getChildIndex(e),s=new op(n,{startRow:i,endRow:i});for(const{cell:o,row:r,column:a}of s)if(o===t)return{row:r,column:a}}createTable(t,e,n){const i=t.createElement("table");return Fp(t,i,0,e,n),i}insertRows(t,e={}){const n=e.at||0,i=e.rows||1;this.editor.model.change(e=>{const s=t.getAttribute("headingRows")||0;if(s>n&&e.setAttribute("headingRows",s+i,t),0===n||n===t.childCount)return void Fp(e,t,n,i,this.getColumns(t));const o=new op(t,{endRow:n});let r=0;for(const{row:t,rowspan:a,colspan:l,cell:c}of o)t<n&&t+a>n&&e.setAttribute("rowspan",a+i,c),t===n&&(r+=l);Fp(e,t,n,i,r)})}insertColumns(t,e={}){const n=e.at||0,i=e.columns||1;this.editor.model.change(e=>{const s=t.getAttribute("headingColumns");n<s&&e.setAttribute("headingColumns",s+i,t);const o=this.getColumns(t);if(0===n||o===n){for(const s of t.getChildren())Vp(i,e,e.createPositionAt(s,n?"end":0));return}const r=new op(t,{column:n,includeSpanned:!0});for(const{row:a,cell:l,cellIndex:c}of r){const s=parseInt(l.getAttribute("rowspan")||1),o=parseInt(l.getAttribute("colspan")||1);if(l.index!==n&&o>1){if(e.setAttribute("colspan",o+i,l),r.skipRow(a),s>1)for(let t=a+1;t<a+s;t++)r.skipRow(t)}else{const n=e.createPositionAt(t.getChild(a),c);Vp(i,e,n)}}})}splitCellVertically(t,e=2){const n=this.editor.model,i=t.parent.parent,s=parseInt(t.getAttribute("rowspan")||1),o=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(o>1){const{newCellsSpan:i,updatedSpan:r}=jp(o,e);ep("colspan",r,t,n);const a={};i>1&&(a.colspan=i),s>1&&(a.rowspan=s),Vp(o>e?e-1:o-1,n,n.createPositionAfter(t),a)}if(o<e){const r=e-o,a=[...new op(i)],{column:l}=a.find(({cell:e})=>e===t),c=a.filter(({cell:e,colspan:n,column:i})=>e!==t&&i===l||i<l&&i+n>l);for(const{cell:t,colspan:e}of c)n.setAttribute("colspan",e+r,t);const u={};s>1&&(u.rowspan=s),Vp(r,n,n.createPositionAfter(t),u);const h=i.getAttribute("headingColumns")||0;h>l&&ep("headingColumns",h+r,i,n)}})}splitCellHorizontally(t,e=2){const n=this.editor.model,i=t.parent,s=i.parent,o=s.getChildIndex(i),r=parseInt(t.getAttribute("rowspan")||1),a=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(r>1){const i=[...new op(s,{startRow:o,endRow:o+r-1,includeSpanned:!0})],{newCellsSpan:l,updatedSpan:c}=jp(r,e);ep("rowspan",c,t,n);const{column:u}=i.find(({cell:e})=>e===t),h={};l>1&&(h.rowspan=l),a>1&&(h.colspan=a);for(const{column:t,row:e,cellIndex:r}of i)e>=o+c&&t===u&&(e+o+c)%l==0&&Vp(1,n,n.createPositionAt(s.getChild(e),r),h)}if(r<e){const i=e-r,l=[...new op(s,{startRow:0,endRow:o})];for(const{cell:e,rowspan:s,row:r}of l)e!==t&&r+s>o&&n.setAttribute("rowspan",s+i,e);const c={};a>1&&(c.colspan=a),Fp(n,s,o+1,i,1,c);const u=s.getAttribute("headingRows")||0;u>o&&ep("headingRows",u+i,s,n)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((t,e)=>t+parseInt(e.getAttribute("colspan")||1),0)}}function Fp(t,e,n,i,s,o={}){for(let r=0;r<i;r++){const i=t.createElement("tableRow");t.insert(i,e,n),Vp(s,t,t.createPositionAt(i,"end"),o)}}function Vp(t,e,n,i={}){for(let s=0;s<t;s++)np(e,n,i)}function jp(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n}}function zp(t,e){let n=!1;const i=function(t){const e=parseInt(t.getAttribute("headingRows")||0),n=t.childCount,i=[];for(const{row:s,rowspan:o,cell:r}of new op(t)){if(o<2)continue;const t=s<e?e:n;s+o>t&&i.push({cell:r,rowspan:t-s})}return i}(t);if(i.length){n=!0;for(const t of i)ep("rowspan",t.rowspan,t.cell,e,1)}return n}function Bp(t,e){let n=!1;const i=function(t){const e={};for(const{row:n}of new op(t,{includeSpanned:!0}))e[n]||(e[n]=0),e[n]+=1;return e}(t),s=i[0];if(!Object.values(i).every(t=>t===s)){const s=Object.values(i).reduce((t,e)=>e>t?e:t,0);for(const[o,r]of Object.entries(i)){const i=s-r;if(i){for(let n=0;n<i;n++)np(e,e.createPositionAt(t.getChild(o),"end"));n=!0}}}return n}function Hp(t){const e=t.attributeKey;return"attribute"===t.type&&("headingRows"===e||"colspan"===e||"rowspan"===e)}function Up(t,e){let n=!1;for(const i of t.getChildren())n=$p(i,e)||n;return n}function $p(t,e){let n=!1;for(const i of t.getChildren())n=Wp(i,e)||n;return n}function Wp(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;const n=Array.from(t.getChildren()).filter(t=>t.is("text"));for(const i of n)e.wrap(e.createRangeOn(i),"paragraph");return!!n.length}function qp(t){return!(!t.position||!t.position.parent.is("tableCell"))&&("insert"==t.type&&"$text"==t.name||"remove"==t.type)}function Kp(t,e){if(!Array.from(t.getChildren()).some(t=>t.is("paragraph")))return!1;if("attribute"==e){const e=Array.from(t.getChild(0).getAttributeKeys()).length;return 1===t.childCount&&e<2}return t.childCount<=("insert"==e?2:1)}n(85);class Gp extends Wa{static get pluginName(){return"TableEditing"}init(){const t=this.editor,e=t.model,n=e.schema,i=t.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((t,e)=>{if("table"==e.name&&Array.from(t.getNames()).includes("table"))return!1}),i.for("upcast").add(t=>{t.on("element:table",(t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const{rows:s,headingRows:o,headingColumns:r}=function(t){const e={headingRows:0,headingColumns:0},n=[],i=[];let s;for(const o of Array.from(t.getChildren()))if("tbody"===o.name||"thead"===o.name||"tfoot"===o.name){"thead"!==o.name||s||(s=o);const t=Array.from(o.getChildren()).filter(t=>t.is("element","tr"));for(const o of t)if("thead"===o.parent.name&&o.parent===s)e.headingRows++,n.push(o);else{i.push(o);const t=sp(o);t>e.headingColumns&&(e.headingColumns=t)}}return e.rows=[...n,...i],e}(i),a={};r&&(a.headingColumns=r),o&&(a.headingRows=o);const l=n.writer.createElement("table",a),c=n.splitToAllowedParent(l,e.modelCursor);if(c){if(n.writer.insert(l,c.position),n.consumable.consume(i,{name:!0}),s.length)s.forEach(t=>n.convertItem(t,n.writer.createPositionAt(l,"end")));else{const t=n.writer.createElement("tableRow");n.writer.insert(t,n.writer.createPositionAt(l,"end")),np(n.writer,n.writer.createPositionAt(t,"end"))}e.modelRange=n.writer.createRange(n.writer.createPositionBefore(l),n.writer.createPositionAfter(l)),e.modelCursor=c.cursorParent?n.writer.createPositionAt(c.cursorParent,0):e.modelRange.end}})}),i.for("editingDowncast").add(cp({asWidget:!0})),i.for("dataDowncast").add(cp()),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("editingDowncast").add(up({asWidget:!0})),i.for("dataDowncast").add(up()),i.for("downcast").add(t=>t.on("remove:tableRow",(t,e,n)=>{t.stop();const i=n.writer,s=n.mapper,o=s.toViewPosition(e.position).getLastMatchingPosition(t=>!t.item.is("tr")).nodeAfter,r=o.parent,a=i.createRangeOn(o),l=i.remove(a);for(const c of i.createRangeIn(l).getItems())s.unbindViewElement(c);r.childCount||i.remove(i.createRangeOn(r))},{priority:"higher"})),i.for("upcast").add(ip("td")),i.for("upcast").add(ip("th")),i.for("editingDowncast").add(hp({asWidget:!0})),i.for("dataDowncast").add(hp()),i.attributeToAttribute({model:"colspan",view:"colspan"}),i.attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("editingDowncast").add(pp({asWidget:!0})),i.for("dataDowncast").add(pp()),i.for("editingDowncast").add(dp({asWidget:!0})),i.for("dataDowncast").add(dp()),t.commands.add("insertTable",new xp(t)),t.commands.add("insertTableRowAbove",new Tp(t,{order:"above"})),t.commands.add("insertTableRowBelow",new Tp(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new Ep(t,{order:"left"})),t.commands.add("insertTableColumnRight",new Ep(t,{order:"right"})),t.commands.add("removeTableRow",new Pp(t)),t.commands.add("removeTableColumn",new Mp(t)),t.commands.add("splitTableCellVertically",new Ip(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new Ip(t,{direction:"horizontally"})),t.commands.add("mergeTableCellRight",new Op(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new Op(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new Op(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new Op(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new Rp(t)),t.commands.add("setTableRowHeader",new Dp(t)),function(t){t.document.registerPostFixer(e=>function(t,e){const n=e.document.differ.getChanges();let i=!1;const s=new Set;for(const o of n){let e;"table"==o.name&&"insert"==o.type&&(e=o.position.nodeAfter),"tableRow"!=o.name&&"tableCell"!=o.name||(e=tp("table",o.position)),Hp(o)&&(e=tp("table",o.range.start)),e&&!s.has(e)&&(i=zp(e,t)||i,i=Bp(e,t)||i,s.add(e))}return i}(e,t))}(e),function(t){t.document.registerPostFixer(()=>function(t){const e=t.document.differ,n=new Set;for(const i of e.getChanges()){const t="insert"==i.type||"remove"==i.type?i.position.parent:i.range.start.parent;t.is("tableCell")&&Kp(t,i.type)&&n.add(t)}if(n.size){for(const t of n.values())e.refreshItem(t);return!0}return!1}(t))}(e),function(t){t.document.registerPostFixer(e=>function(t,e){const n=e.document.differ.getChanges();let i=!1;for(const s of n)"insert"==s.type&&"table"==s.name&&(i=Up(s.position.nodeAfter,t)||i),"insert"==s.type&&"tableRow"==s.name&&(i=$p(s.position.nodeAfter,t)||i),"insert"==s.type&&"tableCell"==s.name&&(i=Wp(s.position.nodeAfter,t)||i),qp(s)&&(i=Wp(s.position.parent,t)||i);return i}(e,t))}(e),this.editor.keystrokes.set("Tab",(...t)=>this._handleTabOnSelectedTable(...t),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"})}static get requires(){return[Np]}_handleTabOnSelectedTable(t,e){const n=this.editor,i=n.model.document.selection;if(!i.isCollapsed&&1===i.rangeCount&&i.getFirstRange().isFlat){const t=i.getSelectedElement();if(!t||!t.is("table"))return;e(),n.model.change(e=>{e.setSelection(e.createRangeIn(t.getChild(0).getChild(0)))})}}_getTabHandler(t){const e=this.editor;return(n,i)=>{const s=tp("tableCell",e.model.document.selection.getFirstPosition());if(!s)return;i();const o=s.parent,r=o.parent,a=r.getChildIndex(o),l=o.getChildIndex(s),c=0===l;if(!t&&c&&0===a)return;const u=l===o.childCount-1;if(t&&a===r.childCount-1&&u&&(e.execute("insertTableRowBelow"),a===r.childCount-1))return;let h;if(t&&u){const t=r.getChild(a+1);h=t.getChild(0)}else if(!t&&c){const t=r.getChild(a-1);h=t.getChild(t.childCount-1)}else h=o.getChild(l+(t?1:-1));e.model.change(t=>{t.setSelection(t.createRangeIn(h))})}}}n(87);class Yp extends ca{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(t,e)=>`${e} \xd7 ${t}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(()=>{this.fire("execute")})}});for(let n=0;n<100;n++){const t=new Qp;t.on("over",()=>{const t=Math.floor(n/10),e=n%10;this.set("rows",t+1),this.set("columns",e+1)}),this.items.add(t)}this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map((n,i)=>{const s=Math.floor(i/10)<t&&i%10<e;n.set("isOn",s)})}}class Qp extends ca{constructor(t){super(t);const e=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",e.if("isOn","ck-on")]},on:{mouseover:e.to("over")}})}}class Zp extends Wa{init(){const t=this.editor,e=this.editor.t,n="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",n=>{const i=t.commands.get("insertTable"),s=Na(n);s.bind("isEnabled").to(i),s.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:e("ab"),tooltip:!0});const o=new Yp(n);return s.panelView.children.add(o),o.delegate("execute").to(s),s.buttonView.on("open",()=>{o.rows=0,o.columns=0}),s.on("execute",()=>{t.execute("insertTable",{rows:o.rows,columns:o.columns}),t.editing.view.focus()}),s}),t.ui.componentFactory.add("tableColumn",t=>{const i=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("ac"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("ad")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("ae")}},{type:"button",model:{commandName:"removeTableColumn",label:e("af")}}];return this._prepareDropdown(e("ag"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',i,t)}),t.ui.componentFactory.add("tableRow",t=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("ah"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:e("ai")}},{type:"button",model:{commandName:"insertTableRowAbove",label:e("aj")}},{type:"button",model:{commandName:"removeTableRow",label:e("ak")}}];return this._prepareDropdown(e("al"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,t)}),t.ui.componentFactory.add("mergeTableCells",t=>{const i=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("am")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("an")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("ao")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("ap")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("aq")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("ar")}}];return this._prepareDropdown(e("as"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',i,t)})}_prepareDropdown(t,e,n,i){const s=this.editor,o=Na(i),r=[],a=new hn;for(const l of n)Jp(l,s,r,a);return Va(o,a),o.buttonView.set({label:t,icon:e,tooltip:!0}),o.bind("isEnabled").toMany(r,"isEnabled",(...t)=>t.some(t=>t)),this.listenTo(o,"execute",t=>{s.execute(t.source.commandName),s.editing.view.focus()}),o}}function Jp(t,e,n,i){const s=t.model=new Th(t.model),{commandName:o,bindIsOn:r}=t.model;if("separator"!==t.type){const t=e.commands.get(o);n.push(t),s.set({commandName:o}),s.bind("isEnabled").to(t),r&&s.bind("isOn").to(t,"value")}s.set({withText:!0}),i.add(t)}n(89);const Xp=["left","right","center","justify"];function tf(t){return Xp.includes(t)}function ef(t,e){return"rtl"==e.contentLanguageDirection?"right"===t:"left"===t}const nf="alignment";class sf extends Qa{refresh(){const t=this.editor.locale,e=ac(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!e&&this._canBeAligned(e),this.value=this.isEnabled&&e.hasAttribute("alignment")?e.getAttribute("alignment"):"rtl"===t.contentLanguageDirection?"right":"left"}execute(t={}){const e=this.editor,n=e.locale,i=e.model,s=i.document,o=t.value;i.change(t=>{const e=Array.from(s.selection.getSelectedBlocks()).filter(t=>this._canBeAligned(t)),i=e[0].getAttribute("alignment");ef(o,n)||i===o||!o?function(t,e){for(const n of t)e.removeAttribute(nf,n)}(e,t):function(t,e,n){for(const i of t)e.setAttribute(nf,n,i)}(e,t,o)})}_canBeAligned(t){return this.editor.model.schema.checkAttribute(t,nf)}}class of extends Wa{static get pluginName(){return"AlignmentEditing"}constructor(t){super(t),t.config.define("alignment",{options:[...Xp]})}init(){const t=this.editor,e=t.locale,n=t.model.schema,i=t.config.get("alignment.options").filter(tf);n.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0});const s=function(t){const e={model:{key:"alignment",values:t.slice()},view:{}};for(const n of t)e.view[n]={key:"style",value:{"text-align":n}};return e}(i.filter(t=>!ef(t,e)));t.conversion.attributeToAttribute(s),t.commands.add("alignment",new sf(t))}}var rf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',af='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>';const lf=new Map([["left",rf],["right",af],["center",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>'],["justify",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>']]);class cf extends Wa{get localizedOptionTitles(){const t=this.editor.t;return{left:t("at"),right:t("au"),center:t("av"),justify:t("aw")}}static get pluginName(){return"AlignmentUI"}init(){const t=this.editor,e=t.ui.componentFactory,n=t.t,i=t.config.get("alignment.options");i.filter(tf).forEach(t=>this._addButton(t)),e.add("alignment",t=>{const s=Na(t),o=i.map(t=>e.create(`alignment:${t}`));Fa(s,o),s.buttonView.set({label:n("ax"),tooltip:!0}),s.toolbarView.isVertical=!0,s.toolbarView.ariaLabel=n("ay"),s.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const r="rtl"===t.contentLanguageDirection?af:rf;return s.buttonView.bind("icon").toMany(o,"isOn",(...t)=>{const e=t.findIndex(t=>t);return e<0?r:o[e].icon}),s.bind("isEnabled").toMany(o,"isEnabled",(...t)=>t.some(t=>t)),s})}_addButton(t){const e=this.editor;e.ui.componentFactory.add(`alignment:${t}`,n=>{const i=e.commands.get("alignment"),s=new Oa(n);return s.set({label:this.localizedOptionTitles[t],icon:lf.get(t),tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(i),s.bind("isOn").to(i,"value",e=>e===t),this.listenTo(s,"execute",()=>{e.execute("alignment",{value:t}),e.editing.view.focus()}),s})}}class uf extends Qa{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute(this.attributeKey),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=t.value;e.change(t=>{if(n.isCollapsed)i?t.setSelectionAttribute(this.attributeKey,i):t.removeSelectionAttribute(this.attributeKey);else{const s=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of s)i?t.setAttribute(this.attributeKey,i,e):t.removeAttribute(this.attributeKey,e)}})}}class hf extends Oa{constructor(t){super(t);const e=this.bindTemplate;this.set("color"),this.set("hasBorder"),this.icon='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M6.193 17.02l-.102-.121-2.553-3.536a2 2 0 0 1 .956-3.3c.699-.182 1.442.026 2.005.614L7.642 12.1l6.515-8.164.074-.083c.757-.756 1.652-.65 2.38-.081.77.6.869 1.79.159 2.573L9.203 16.896l-.105.124c-.385.386-.91.597-1.453.586-.543.01-1.067-.2-1.452-.586z" fill-opacity=".8"/><path d="M7.645 16.606a.997.997 0 0 0 .745-.292l7.606-10.606c.391-.39.28-.93 0-1.148-.28-.219-.667-.39-1.058 0L7.645 13.7 5.72 11.304a1 1 0 1 0-1.414 1.414l2.596 3.596a.997.997 0 0 0 .744.292z"/></svg>\n',this.extendTemplate({attributes:{style:{backgroundColor:e.to("color")},class:["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}n(91);class df extends ca{constructor(t,e){super(t);const n=e&&e.colorDefinitions||[],i={};e&&e.columns&&(i.gridTemplateColumns=`repeat( ${e.columns}, 1fr)`),this.set("selectedColor"),this.items=this.createCollection(),this.focusTracker=new Nr,this.keystrokes=new Er,this._focusCycler=new wa({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),this.items.on("add",(t,e)=>{e.isOn=e.color===this.selectedColor}),n.forEach(t=>{const e=new hf;e.set({color:t.color,label:t.label,tooltip:!0,hasBorder:t.options.hasBorder}),e.on("execute",()=>{this.fire("execute",{value:t.color,hasBorder:t.options.hasBorder,label:t.label})}),this.items.add(e)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:i}}),this.on("change:selectedColor",(t,e,n)=>{for(const i of this.items)i.isOn=i.color===n})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}}class pf extends hn{constructor(t){super(t),this.set("isEmpty",!0)}add(t,e){this.find(e=>e.color===t.color)||(super.add(t,e),this.set("isEmpty",!1))}remove(t){const e=super.remove(t);return 0===this.length&&this.set("isEmpty",!0),e}hasColor(t){return!!this.find(e=>e.color===t)}}_e(pf,Ke),n(93);class ff extends ca{constructor(t,{colors:e,columns:n,removeButtonLabel:i,documentColorsLabel:s,documentColorsCount:o}){if(super(t),this.items=this.createCollection(),this.colorDefinitions=e,this.focusTracker=new Nr,this.keystrokes=new Er,this.set("selectedColor"),this.removeButtonLabel=i,this.columns=n,this.documentColors=new pf,this.documentColorsCount=o,this.staticColorsGrid=this._createStaticColorsGrid(),this._focusCycler=new wa({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items}),this.items.add(this._removeColorButton()),this.items.add(this.staticColorsGrid),o){const t=Wr.bind(this.documentColors,this.documentColors),e=new ha(this.locale);e.text=s,e.extendTemplate({attributes:{class:["ck","ck-color-grid__label",t.if("isEmpty","ck-hidden")]}}),this.items.add(e),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}}updateDocumentColors(t,e){const n=t.document,i=this.documentColorsCount;this.documentColors.clear();for(const s of n.getRootNames()){const o=n.getRoot(s),r=t.createRangeIn(o);for(const t of r.getItems())if(t.is("textProxy")&&t.hasAttribute(e)&&(this._addColorToDocumentColors(t.getAttribute(e)),this.documentColors.length>=i))return}}updateSelectedColors(){const t=this.documentColorsGrid,e=this.selectedColor;this.staticColorsGrid.selectedColor=e,t&&(t.selectedColor=e)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_removeColorButton(){const t=new Oa;return t.set({withText:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',tooltip:!0,label:this.removeButtonLabel}),t.class="ck-color-table__remove-color",t.on("execute",()=>{this.fire("execute",{value:null})}),t}_createStaticColorsGrid(){const t=new df(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return t.delegate("execute").to(this),t}_createDocumentColorsGrid(){const t=Wr.bind(this.documentColors,this.documentColors),e=new df(this.locale,{columns:this.columns});return e.delegate("execute").to(this),e.extendTemplate({attributes:{class:t.if("isEmpty","ck-hidden")}}),e.items.bindTo(this.documentColors).using(t=>{const e=new hf;return e.set({color:t.color,hasBorder:t.options&&t.options.hasBorder}),t.label&&e.set({label:t.label,tooltip:!0}),e.on("execute",()=>{this.fire("execute",{value:t.color})}),e}),this.documentColors.on("change:isEmpty",(t,n,i)=>{i&&(e.selectedColor=null)}),e}_addColorToDocumentColors(t){const e=this.colorDefinitions.find(e=>e.color===t);this.documentColors.add(e?Object.assign({},e):{color:t,label:t,options:{hasBorder:!1}})}}const gf="fontSize",mf="fontFamily",bf="fontColor",wf="fontBackgroundColor";function yf(t,e){const n={model:{key:t,values:[]},view:{},upcastAlso:{}};for(const i of e)n.model.values.push(i.model),n.view[i.model]=i.view,i.upcastAlso&&(n.upcastAlso[i.model]=i.upcastAlso);return n}function vf(t){return e=>function(t){return t.replace(/\s/g,"")}(e.getStyle(t))}function _f(t){return(e,n)=>n.createAttributeElement("span",{style:`${t}:${e}`},{priority:7})}function kf(t){return"string"==typeof t?{model:t.replace(/ /g,""),label:t,hasBorder:!1,view:{name:"span",styles:{color:t}}}:{model:t.color.replace(/ /g,""),label:t.label||t.color,hasBorder:void 0!==t.hasBorder&&t.hasBorder,view:{name:"span",styles:{color:`${t.color}`}}}}class Cf extends uf{constructor(t){super(t,mf)}}function Sf(t){return t.map(xf).filter(t=>!!t)}function xf(t){return"object"==typeof t?t:"default"===t?{title:"Default",model:void 0}:"string"==typeof t?function(t){const e=t.replace(/"|'/g,"").split(","),n=e[0];return{title:n,model:n,view:{name:"span",styles:{"font-family":e.map(Tf).join(", ")},priority:7}}}(t):void 0}function Tf(t){return(t=t.trim()).indexOf(" ")>0&&(t=`'${t}'`),t}class Ef extends Wa{static get pluginName(){return"FontFamilyEditing"}constructor(t){super(t),t.config.define(mf,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:mf}),t.model.schema.setAttributeProperties(mf,{isFormatting:!0,copyOnEnter:!0});const e=Sf(t.config.get("fontFamily.options")).filter(t=>t.model),n=yf(mf,e);t.conversion.attributeToElement(n),t.commands.add(mf,new Cf(t))}}class If extends Wa{init(){const t=this.editor,e=t.t,n=this._getLocalizedOptions(),i=t.commands.get(mf);t.ui.componentFactory.add(mf,s=>{const o=Na(s);return Va(o,function(t,e){const n=new hn;for(const i of t){const t={type:"button",model:new Th({commandName:mf,commandParam:i.model,label:i.title,withText:!0})};t.model.bind("isOn").to(e,"value",t=>t===i.model),i.view&&i.view.styles&&t.model.set("labelStyle",`font-family: ${i.view.styles["font-family"]}`),n.add(t)}return n}(n,i)),o.buttonView.set({label:e("bn"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),o.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),o.bind("isEnabled").to(i),this.listenTo(o,"execute",e=>{t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()}),o})}_getLocalizedOptions(){const t=this.editor,e=t.t;return Sf(t.config.get(mf).options).map(t=>("Default"===t.title&&(t.title=e("bi")),t))}}class Of extends Wa{static get requires(){return[Ef,If]}static get pluginName(){return"FontFamily"}}class Af extends uf{constructor(t){super(t,gf)}}function Pf(t){return t.map(Df).filter(t=>!!t)}const Mf={tiny:{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}},small:{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}},big:{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}},huge:{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}};function Df(t){if("object"==typeof t)return t;if(Mf[t])return Mf[t];if("default"===t)return{model:void 0,title:"Default"};const e=parseFloat(t);return isNaN(e)?void 0:function(t){return{title:String(t),model:t,view:{name:"span",styles:{"font-size":`${t}px`},priority:7}}}(e)}class Lf extends Wa{static get pluginName(){return"FontSizeEditing"}constructor(t){super(t),t.config.define(gf,{options:["tiny","small","default","big","huge"]});const e=Pf(this.editor.config.get("fontSize.options")).filter(t=>t.model),n=yf(gf,e);t.conversion.attributeToElement(n),t.commands.add(gf,new Af(t))}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:gf}),t.model.schema.setAttributeProperties(gf,{isFormatting:!0,copyOnEnter:!0})}}n(95);class Rf extends Wa{init(){const t=this.editor,e=t.t,n=this._getLocalizedOptions(),i=t.commands.get(gf);t.ui.componentFactory.add(gf,s=>{const o=Na(s);return Va(o,function(t,e){const n=new hn;for(const i of t){const t={type:"button",model:new Th({commandName:gf,commandParam:i.model,label:i.title,class:"ck-fontsize-option",withText:!0})};i.view&&i.view.styles&&t.model.set("labelStyle",`font-size:${i.view.styles["font-size"]}`),i.view&&i.view.classes&&t.model.set("class",`${t.model.class} ${i.view.classes}`),t.model.bind("isOn").to(e,"value",t=>t===i.model),n.add(t)}return n}(n,i)),o.buttonView.set({label:e("bh"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),o.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),o.bind("isEnabled").to(i),this.listenTo(o,"execute",e=>{t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()}),o})}_getLocalizedOptions(){const t=this.editor,e=t.t,n={Default:e("bi"),Tiny:e("bj"),Small:e("bk"),Big:e("bl"),Huge:e("bm")};return Pf(t.config.get(gf).options).map(t=>{const e=n[t.title];return e&&e!=t.title&&(t=Object.assign({},t,{title:e})),t})}}class Nf extends Wa{static get requires(){return[Lf,Rf]}static get pluginName(){return"FontSize"}}class Ff extends uf{constructor(t){super(t,bf)}}class Vf extends Wa{static get pluginName(){return"FontColorEditing"}constructor(t){super(t),t.config.define(bf,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:bf,value:vf("color")}}),t.conversion.for("downcast").attributeToElement({model:bf,view:_f("color")}),t.commands.add(bf,new Ff(t)),t.model.schema.extend("$text",{allowAttributes:bf}),t.model.schema.setAttributeProperties(bf,{isFormatting:!0,copyOnEnter:!0})}}class jf extends Wa{constructor(t,{commandName:e,icon:n,componentName:i,dropdownLabel:s}){super(t),this.commandName=e,this.componentName=i,this.icon=n,this.dropdownLabel=s,this.columns=t.config.get(`${this.componentName}.columns`)}init(){const t=this.editor,e=t.t,n=t.commands.get(this.commandName),i=function(t){return t.map(kf).filter(t=>!!t)}(t.config.get(this.componentName).colors),s=function(t,e){const n=t.t,i={Black:n("cc"),"Dim grey":n("cd"),Grey:n("ce"),"Light grey":n("cf"),White:n("cg"),Red:n("ch"),Orange:n("ci"),Yellow:n("cj"),"Light green":n("ck"),Green:n("cl"),Aquamarine:n("cm"),Turquoise:n("cn"),"Light blue":n("co"),Blue:n("cp"),Purple:n("cq")};return e.map(t=>{const e=i[t.label];return e&&e!=t.label&&(t.label=e),t})}(t,i),o=t.config.get(`${this.componentName}.documentColors`);t.ui.componentFactory.add(this.componentName,i=>{const r=Na(i);return this.colorTableView=function({dropdownView:t,colors:e,columns:n,removeButtonLabel:i,documentColorsLabel:s,documentColorsCount:o}){const r=new ff(t.locale,{colors:e,columns:n,removeButtonLabel:i,documentColorsLabel:s,documentColorsCount:o});return t.colorTableView=r,t.panelView.children.add(r),r.delegate("execute").to(t,"execute"),r}({dropdownView:r,colors:s.map(t=>({label:t.label,color:t.model,options:{hasBorder:t.hasBorder}})),columns:this.columns,removeButtonLabel:e("ca"),documentColorsLabel:0!==o?e("cb"):void 0,documentColorsCount:void 0===o?this.columns:o}),this.colorTableView.bind("selectedColor").to(n,"value"),r.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),r.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),r.bind("isEnabled").to(n),r.on("execute",(e,n)=>{t.execute(this.commandName,n),t.editing.view.focus()}),r.on("change:isOpen",(e,n,i)=>{i&&(0!==o&&this.colorTableView.updateDocumentColors(t.model,this.componentName),this.colorTableView.updateSelectedColors())}),r})}}class zf extends jf{constructor(t){super(t,{commandName:bf,componentName:bf,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3L10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zM16 18.5H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>\n',dropdownLabel:(0,t.locale.t)("bg")})}static get pluginName(){return"FontColorUI"}}class Bf extends Wa{static get requires(){return[Vf,zf]}static get pluginName(){return"FontColor"}}class Hf extends uf{constructor(t){super(t,wf)}}class Uf extends Wa{static get pluginName(){return"FontBackgroundColorEditing"}constructor(t){super(t),t.config.define(wf,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:wf,value:vf("background-color")}}),t.conversion.for("downcast").attributeToElement({model:wf,view:_f("background-color")}),t.commands.add(wf,new Hf(t)),t.model.schema.extend("$text",{allowAttributes:wf}),t.model.schema.setAttributeProperties(wf,{isFormatting:!0,copyOnEnter:!0})}}class $f extends jf{constructor(t){super(t,{commandName:wf,componentName:wf,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:(0,t.locale.t)("bo")})}static get pluginName(){return"FontBackgroundColorUI"}}class Wf extends Wa{static get requires(){return[Uf,$f]}static get pluginName(){return"FontBackgroundColor"}}n.d(e,"default",function(){return qf});class qf extends $a{}qf.builtinPlugins=[class extends Wa{static get requires(){return[Ya,nl,rl,yl,zl]}static get pluginName(){return"Essentials"}},ql,class extends Wa{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&new Gl(this.editor,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&new Gl(this.editor,/^1[.|)]\s$/,"numberedList")}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=Zl(this.editor,"bold");new Yl(this.editor,/(\*\*)([^*]+)(\*\*)$/g,t),new Yl(this.editor,/(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=Zl(this.editor,"italic");new Yl(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,t),new Yl(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=Zl(this.editor,"code");new Yl(this.editor,/(`)([^`]+)(`)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(e=>{const n=new RegExp(`^(#{${e[7]}})\\s$`);new Gl(this.editor,n,()=>{if(!t.isEnabled)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&new Gl(this.editor,/^>\s$/,"blockQuote")}},class extends Wa{static get requires(){return[tc,nc]}static get pluginName(){return"Bold"}},class extends Wa{static get requires(){return[sc,rc]}static get pluginName(){return"Italic"}},class extends Wa{static get requires(){return[dc,pc]}static get pluginName(){return"BlockQuote"}},class extends Wa{static get pluginName(){return"CKFinder"}static get requires(){return[yu,fc,ql]}},class extends Wa{static get requires(){return[Tu,Xu,mh]}static get pluginName(){return"EasyImage"}},class extends Wa{static get requires(){return[xh,Eh]}static get pluginName(){return"Heading"}},Xu,class extends Wa{static get requires(){return[Ah]}static get pluginName(){return"ImageCaption"}},class extends Wa{static get requires(){return[Wh,qh]}static get pluginName(){return"ImageStyle"}},class extends Wa{static get requires(){return[Kh]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor,e=t.t;t.plugins.get(Kh).register("image",{ariaLabel:e("a"),items:t.config.get("image.toolbar")||[],getRelatedElement:Ic})}},mh,class extends Wa{static get pluginName(){return"Indent"}static get requires(){return[Zh,td]}},class extends Wa{static get requires(){return[gu,od]}static get pluginName(){return"Link"}},class extends Wa{static get requires(){return[Ad,Md]}static get pluginName(){return"List"}},class extends Wa{static get requires(){return[Bd,Wd,Ud,Au]}static get pluginName(){return"MediaEmbed"}},yh,class extends Wa{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ya]}init(){const t=this.editor,e=[];e.push(new Xd),e.push(new Gd),t.plugins.get("Clipboard").on("inputTransformation",(t,n)=>{if(n.isTransformedWithPasteFromOffice)return;const i=n.dataTransfer.getData("text/html"),s=e.find(t=>t.isActive(i));s&&(s.execute(n),n.isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends Wa{static get requires(){return[Gp,Zp,Au]}static get pluginName(){return"Table"}},class extends Wa{static get requires(){return[Kh]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get(Kh),i=t.config.get("table.contentToolbar"),s=t.config.get("table.tableToolbar");i&&n.register("tableContent",{ariaLabel:e("c"),items:i,getRelatedElement:lp}),s&&n.register("table",{ariaLabel:e("c"),items:s,getRelatedElement:ap})}},class extends Wa{static get requires(){return[of,cf]}static get pluginName(){return"Alignment"}},class extends Wa{static get requires(){return[Of,Nf,Bf,Wf]}static get pluginName(){return"Font"}}],qf.defaultConfig={toolbar:{items:["heading","|","FontFamily","FontSize","FontColor","FontBackgroundColor","|","alignment","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"ru"}}]).default},698:(t,e,n)=>{"use strict";function i(t){return"function"==typeof t}let s=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function r(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;r(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class h{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_unsubscribe:n,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof h)e.remove(this);else if(null!==e)for(let i=0;i<e.length;++i)e[i].remove(this);if(i(n))try{n.call(this)}catch(o){t=o instanceof u?d(o.errors):[o]}if(l(s)){let e=-1,n=s.length;for(;++e<n;){const n=s[e];if(c(n))try{n.unsubscribe()}catch(o){t=t||[],o instanceof u?t=t.concat(d(o.errors)):t.push(o)}}}if(t)throw new u(t)}add(t){let e=t;if(!t)return h.EMPTY;switch(typeof t){case"function":e=new h(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof h)){const t=e;e=new h,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof h){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}h.EMPTY=function(t){return t.closed=!0,t}(new h);const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const i=new f(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends f{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let r=this;i(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==a&&(r=Object.create(e),i(r.unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):r(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;r(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;r(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(r(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m="function"==typeof Symbol&&Symbol.observable||"@@observable";function b(){}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,s=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(s.add(i?i.call(s,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),o.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=y(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(s){n(s),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:((e=t)?1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)}:b)(this);var e}toPromise(t){return new(t=y(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function y(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const v=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class k extends f{constructor(t){super(t),this.destination=t}}let C=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new k(this)}lift(t){const e=new S(this,this);return e.operator=t,e}next(t){if(this.closed)throw new v;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let s=0;s<n;s++)i[s].next(t)}}error(t){if(this.closed)throw new v;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let s=0;s<n;s++)i[s].error(t);this.observers.length=0}complete(){if(this.closed)throw new v;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new v;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new v;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new S(t,e),t})();class S extends C{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function x(t){return t&&"function"==typeof t.schedule}class T extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const E=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()},I="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",O=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function A(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const P=t=>{if(t&&"function"==typeof t[m])return n=t,t=>{const e=n[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(O(t))return E(t);if(A(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,r),e))(t);if(t&&"function"==typeof t[I])return e=t,t=>{const n=e[I]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n};function M(t,e,n,i,s=new T(t,n,i)){if(!s.closed)return e instanceof w?e.subscribe(s):P(e)(s)}class D extends f{notifyNext(t,e,n,i,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function L(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new R(t,e))}}class R{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new N(t,this.project,this.thisArg))}}class N extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function F(t,e){return new w(n=>{const i=new h;let s=0;return i.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function V(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new w(n=>{const i=new h;return i.add(e.schedule(()=>{const s=t[m]();i.add(s.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(A(t))return function(t,e){return new w(n=>{const i=new h;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(O(t))return F(t,e);if(function(t){return t&&"function"==typeof t[I]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(n=>{const i=new h;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(e.schedule(()=>{s=t[I](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=s.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(P(t))}function j(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(j((n,i)=>V(t(n,i)).pipe(L((t,s)=>e(n,t,i,s))),n)):("number"==typeof e&&(n=e),e=>e.lift(new z(t,n)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends D{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new T(this,void 0,void 0);this.destination.add(i),M(this,t,e,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,s){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t){return t}function U(t=Number.POSITIVE_INFINITY){return j(H,t)}function $(t,e){return e?F(t,e):new w(E(t))}function W(){return function(t){return t.lift(new q(t))}}class q{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new K(t,n),s=e.subscribe(i);return i.closed||(i.connection=n.connect()),s}}class K extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class G extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return W()(this)}}const Y=(()=>{const t=G.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Q extends k{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Z(){return new C}function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function X(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function tt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function et(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const nt=J({__forward_ref__:J});function it(t){return t.__forward_ref__=it,t.toString=function(){return tt(this())},t}function st(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===it}class rt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function at(t){return"string"==typeof t?t:null==t?"":String(t)}function lt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():at(t)}function ct(t,e){const n=e?` in ${e}`:"";throw new rt("201",`No provider for ${lt(t)} found${n}`)}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function dt(t){return pt(t,gt)||pt(t,bt)}function pt(t,e){return t.hasOwnProperty(e)?t[e]:null}function ft(t){return t&&(t.hasOwnProperty(mt)||t.hasOwnProperty(wt))?t[mt]:null}const gt=J({"\u0275prov":J}),mt=J({"\u0275inj":J}),bt=J({ngInjectableDef:J}),wt=J({ngInjectorDef:J});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let vt;function _t(t){const e=vt;return vt=t,e}function kt(t,e,n){const i=dt(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&yt.Optional?null:void 0!==e?e:void ct(tt(t),"Injector")}function Ct(t){return{toString:t}.toString()}var St=(()=>((St=St||{})[St.OnPush=0]="OnPush",St[St.Default=1]="Default",St))(),xt=(()=>((xt=xt||{})[xt.Emulated=0]="Emulated",xt[xt.None=2]="None",xt[xt.ShadowDom=3]="ShadowDom",xt))();const Tt="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,It="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ot="undefined"!=typeof global&&global,At=Tt||Ot||Et||It,Pt={},Mt=[],Dt=J({"\u0275cmp":J}),Lt=J({"\u0275dir":J}),Rt=J({"\u0275pipe":J}),Nt=J({"\u0275mod":J}),Ft=J({"\u0275loc":J}),Vt=J({"\u0275fac":J}),jt=J({__NG_ELEMENT_ID__:J});let zt=0;function Bt(t){return Ct(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||xt.Emulated,id:"c",styles:t.styles||Mt,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return n.id+=zt++,n.inputs=qt(t.inputs,e),n.outputs=qt(t.outputs),s&&s.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Ht):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ut):null,n})}function Ht(t){return Yt(t)||function(t){return t[Lt]||null}(t)}function Ut(t){return function(t){return t[Rt]||null}(t)}const $t={};function Wt(t){return Ct(()=>{const e={type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&($t[t.id]=t.type),e})}function qt(t,e){if(null==t)return Pt;const n={};for(const i in t)if(t.hasOwnProperty(i)){let s=t[i],o=s;Array.isArray(s)&&(o=s[1],s=s[0]),n[s]=i,e&&(e[s]=o)}return n}const Kt=Bt;function Gt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yt(t){return t[Dt]||null}function Qt(t,e){const n=t[Nt]||null;if(!n&&!0===e)throw new Error(`Type ${tt(t)} does not have '\u0275mod' property.`);return n}const Zt=20,Jt=10;function Xt(t){return Array.isArray(t)&&"object"==typeof t[1]}function te(t){return Array.isArray(t)&&!0===t[1]}function ee(t){return 0!=(8&t.flags)}function ne(t){return 2==(2&t.flags)}function ie(t){return 1==(1&t.flags)}function se(t){return null!==t.template}function oe(t,e){return t.hasOwnProperty(Vt)?t[Vt]:null}class re{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ae(){return le}function le(t){return t.type.prototype.ngOnChanges&&(t.setInput=ue),ce}function ce(){const t=he(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Pt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ue(t,e,n,i){const s=he(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Pt,current:null}),o=s.current||(s.current={}),r=s.previous,a=this.declaredInputs[n],l=r[a];o[a]=new re(l&&l.currentValue,e,r===Pt),t[i]=e}function he(t){return t.__ngSimpleChanges__||null}ae.ngInherit=!0;const de="http://www.w3.org/2000/svg";let pe;function fe(){return void 0!==pe?pe:"undefined"!=typeof document?document:void 0}function ge(t){return!!t.listen}const me={createRenderer:(t,e)=>fe()};function be(t){for(;Array.isArray(t);)t=t[0];return t}function we(t,e){return be(e[t])}function ye(t,e){return be(e[t.index])}function ve(t,e){return t.data[e]}function _e(t,e){return t[e]}function ke(t,e){const n=e[t];return Xt(n)?n:n[0]}function Ce(t){return 4==(4&t[2])}function Se(t){return 128==(128&t[2])}function xe(t,e){return null==e?null:t[e]}function Te(t){t[18]=0}function Ee(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Ie={lFrame:Je(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Oe(){return Ie.bindingsEnabled}function Ae(){return Ie.lFrame.lView}function Pe(){return Ie.lFrame.tView}function Me(t){return Ie.lFrame.contextLView=t,t[8]}function De(){let t=Le();for(;null!==t&&64===t.type;)t=t.parent;return t}function Le(){return Ie.lFrame.currentTNode}function Re(t,e){const n=Ie.lFrame;n.currentTNode=t,n.isParent=e}function Ne(){return Ie.lFrame.isParent}function Fe(){Ie.lFrame.isParent=!1}function Ve(){return Ie.isInCheckNoChangesMode}function je(t){Ie.isInCheckNoChangesMode=t}function ze(){const t=Ie.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Be(){return Ie.lFrame.bindingIndex}function He(){return Ie.lFrame.bindingIndex++}function Ue(t){const e=Ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function $e(t,e){const n=Ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,We(e)}function We(t){Ie.lFrame.currentDirectiveIndex=t}function qe(){return Ie.lFrame.currentQueryIndex}function Ke(t){Ie.lFrame.currentQueryIndex=t}function Ge(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ye(t,e,n){if(n&yt.SkipSelf){let i=e,s=t;for(;i=i.parent,!(null!==i||n&yt.Host||(i=Ge(s),null===i)||(s=s[15],10&i.type)););if(null===i)return!1;e=i,t=s}const i=Ie.lFrame=Ze();return i.currentTNode=e,i.lView=t,!0}function Qe(t){const e=Ze(),n=t[1];Ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ze(){const t=Ie.lFrame,e=null===t?null:t.child;return null===e?Je(t):e}function Je(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Xe(){const t=Ie.lFrame;return Ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const tn=Xe;function en(){const t=Xe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nn(){return Ie.lFrame.selectedIndex}function sn(t){Ie.lFrame.selectedIndex=t}function on(){const t=Ie.lFrame;return ve(t.tView,t.selectedIndex)}function rn(){Ie.lFrame.currentNamespace=de}function an(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:s,ngAfterViewInit:o,ngAfterViewChecked:r,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),s&&((t.contentHooks||(t.contentHooks=[])).push(n,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,s)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),r&&((t.viewHooks||(t.viewHooks=[])).push(n,r),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,r)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ln(t,e,n){hn(t,e,3,n)}function cn(t,e,n,i){(3&t[2])===n&&hn(t,e,n,i)}function un(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function hn(t,e,n,i){const s=null!=i?i:-1,o=e.length-1;let r=0;for(let a=void 0!==i?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(r=e[a],null!=i&&r>=i)break}else e[a]<0&&(t[18]+=65536),(r<s||-1==s)&&(dn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function dn(t,e,n,i){const s=n[i]<0,o=n[i+1],r=t[s?-n[i]:n[i]];if(s){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(r)}finally{}}}else try{o.call(r)}finally{}}const pn=-1;class fn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function gn(t,e,n){const i=ge(t);let s=0;for(;s<n.length;){const o=n[s];if("number"==typeof o){if(0!==o)break;s++;const r=n[s++],a=n[s++],l=n[s++];i?t.setAttribute(e,a,l,r):e.setAttributeNS(r,a,l)}else{const r=o,a=n[++s];bn(r)?i&&t.setProperty(e,r,a):i?t.setAttribute(e,r,a):e.setAttribute(r,a),s++}}return s}function mn(t){return 3===t||4===t||6===t}function bn(t){return 64===t.charCodeAt(0)}function wn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?n=s:0===n||yn(t,n,s,null,-1===n||2===n?e[++i]:null)}}return t}function yn(t,e,n,i,s){let o=0,r=t.length;if(-1===e)r=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){r=-1;break}if(n>e){r=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==s&&(t[o+1]=s));if(i===t[o+1])return void(t[o+2]=s)}o++,null!==i&&o++,null!==s&&o++}-1!==r&&(t.splice(r,0,e),o=r+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==s&&t.splice(o++,0,s)}function vn(t){return t!==pn}function _n(t){return 32767&t}function kn(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let Cn=!0;function Sn(t){const e=Cn;return Cn=t,e}let xn=0;function Tn(t,e){const n=In(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,En(i.data,t),En(e,null),En(i.blueprint,null));const s=On(t,e),o=t.injectorIndex;if(vn(s)){const t=_n(s),n=kn(s,e),i=n[1].data;for(let s=0;s<8;s++)e[o+s]=n[t+s]|i[t+s]}return e[o+8]=s,o}function En(t,e){t.push(0,0,0,0,0,0,0,0,e)}function In(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function On(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,s=e;for(;null!==s;){const t=s[1],e=t.type;if(i=2===e?t.declTNode:1===e?s[6]:null,null===i)return pn;if(n++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return pn}function An(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(jt)&&(i=n[jt]),null==i&&(i=n[jt]=xn++);const s=255&i;e.data[t+(s>>5)]|=1<<s}(t,e,n)}function Pn(t,e,n){if(n&yt.Optional)return t;ct(e,"NodeInjector")}function Mn(t,e,n,i){if(n&yt.Optional&&void 0===i&&(i=null),0==(n&(yt.Self|yt.Host))){const s=t[9],o=_t(void 0);try{return s?s.get(e,i,n&yt.Optional):kt(e,i,n&yt.Optional)}finally{_t(o)}}return Pn(i,e,n)}function Dn(t,e,n,i=yt.Default,s){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(jt)?t[jt]:void 0;return"number"==typeof e?e>=0?255&e:Rn:e}(n);if("function"==typeof o){if(!Ye(e,t,i))return i&yt.Host?Pn(s,n,i):Mn(e,n,i,s);try{const t=o(i);if(null!=t||i&yt.Optional)return t;ct(n)}finally{tn()}}else if("number"==typeof o){let s=null,r=In(t,e),a=pn,l=i&yt.Host?e[16][6]:null;for((-1===r||i&yt.SkipSelf)&&(a=-1===r?On(t,e):e[r+8],a!==pn&&zn(i,!1)?(s=e[1],r=_n(a),e=kn(a,e)):r=-1);-1!==r;){const t=e[1];if(jn(o,r,t.data)){const t=Nn(r,e,n,s,i,l);if(t!==Ln)return t}a=e[r+8],a!==pn&&zn(i,e[1].data[r+8]===l)&&jn(o,r,e)?(s=t,r=_n(a),e=kn(a,e)):r=-1}}}return Mn(e,n,i,s)}const Ln={};function Rn(){return new Bn(De(),Ae())}function Nn(t,e,n,i,s,o){const r=e[1],a=r.data[t+8],l=Fn(a,r,n,null==i?ne(a)&&Cn:i!=r&&0!=(3&a.type),s&yt.Host&&o===a);return null!==l?Vn(e,r,l,a):Ln}function Fn(t,e,n,i,s){const o=t.providerIndexes,r=e.data,a=1048575&o,l=t.directiveStart,c=o>>20,u=s?a+c:t.directiveEnd;for(let h=i?a:a+c;h<u;h++){const t=r[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(s){const t=r[l];if(t&&se(t)&&t.type===n)return l}return null}function Vn(t,e,n,i){let s=t[n];const o=e.data;if(s instanceof fn){const r=s;r.resolving&&function(t,e){throw new rt("200",`Circular dependency in DI detected for ${t}`)}(lt(o[n]));const a=Sn(r.canSeeViewProviders);r.resolving=!0;const l=r.injectImpl?_t(r.injectImpl):null;Ye(t,i,yt.Default);try{s=t[n]=r.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:o}=e.type.prototype;if(i){const i=le(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,s),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&_t(l),Sn(a),r.resolving=!1,tn()}}return s}function jn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function zn(t,e){return!(t&yt.Self||t&yt.Host&&e)}class Bn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Dn(this._tNode,this._lView,t,void 0,e)}}function Hn(t){return Ct(()=>{const e=t.prototype.constructor,n=e[Vt]||Un(e),i=Object.prototype;let s=Object.getPrototypeOf(t.prototype).constructor;for(;s&&s!==i;){const t=s[Vt]||Un(s);if(t&&t!==n)return t;s=Object.getPrototypeOf(s)}return t=>new t})}function Un(t){return ot(t)?()=>{const e=Un(st(t));return e&&e()}:oe(t)}function $n(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const s=n[i];if(mn(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(De(),t)}const Wn="__parameters__";function qn(t,e,n){return Ct(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function s(...t){if(this instanceof s)return i.apply(this,t),this;const e=new s(...t);return n.annotation=e,n;function n(t,n,i){const s=t.hasOwnProperty(Wn)?t[Wn]:Object.defineProperty(t,Wn,{value:[]})[Wn];for(;s.length<=i;)s.push(null);return(s[i]=s[i]||[]).push(e),t}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}class Kn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gn=new Kn("AnalyzeForEntryComponents"),Yn=Function;function Qn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),Qn(i,e)):e!==t&&e.push(i)}return e}function Zn(t,e){t.forEach(t=>Array.isArray(t)?Zn(t,e):e(t))}function Jn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ti(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function ei(t,e,n){let i=ii(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let s=t.length;if(s==e)t.push(n,i);else if(1===s)t.push(i,t[0]),t[0]=n;else{for(s--,t.push(t[s-1],t[s]);s>e;)t[s]=t[s-2],s--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function ni(t,e){const n=ii(t,e);if(n>=0)return t[1|n]}function ii(t,e){return function(t,e,n){let i=0,s=t.length>>1;for(;s!==i;){const n=i+(s-i>>1),o=t[n<<1];if(e===o)return n<<1;o>e?s=n:i=n+1}return~(s<<1)}(t,e)}const si={},oi=/\n/gm,ri="__source",ai=J({provide:String,useValue:J});let li;function ci(t){const e=li;return li=t,e}function ui(t,e=yt.Default){if(void 0===li)throw new Error("inject() must be called from an injection context");return null===li?kt(t,void 0,e):li.get(t,e&yt.Optional?null:void 0,e)}function hi(t,e=yt.Default){return(vt||ui)(st(t),e)}const di=hi;function pi(t){const e=[];for(let n=0;n<t.length;n++){const i=st(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=yt.Default;for(let e=0;e<i.length;e++){const s=i[e],o=s.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=s.token:n|=o:t=s}e.push(hi(t,n))}else e.push(hi(i))}return e}function fi(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const gi=fi(qn("Inject",t=>({token:t})),-1),mi=fi(qn("Optional"),8),bi=fi(qn("SkipSelf"),4);let wi,yi;function vi(t){var e;return(null===(e=function(){if(void 0===wi&&(wi=null,At.trustedTypes))try{wi=At.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return wi}())||void 0===e?void 0:e.createHTML(t))||t}function _i(t){var e;return(null===(e=function(){if(void 0===yi&&(yi=null,At.trustedTypes))try{yi=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return yi}())||void 0===e?void 0:e.createHTML(t))||t}class ki{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ci(t){return t instanceof ki?t.changingThisBreaksApplicationSecurity:t}function Si(t,e){const n=function(t){return t instanceof ki&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}class xi{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(vi(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Ti{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=vi(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=vi(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ei=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ii=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Oi(t){return(t=String(t)).match(Ei)||t.match(Ii)?t:"unsafe:"+t}function Ai(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Pi(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Mi=Ai("area,br,col,hr,img,wbr"),Di=Ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Li=Ai("rp,rt"),Ri=Pi(Li,Di),Ni=Pi(Mi,Pi(Di,Ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pi(Li,Ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ri),Fi=Ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vi=Ai("srcset"),ji=Pi(Fi,Vi,Ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zi=Ai("script,style,template");class Bi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Ni.hasOwnProperty(e))return this.sanitizedSomething=!0,!zi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let s=0;s<n.length;s++){const t=n.item(s),e=t.name,o=e.toLowerCase();if(!ji.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let r=t.value;Fi[o]&&(r=Oi(r)),Vi[o]&&(i=r,r=(i=String(i)).split(",").map(t=>Oi(t.trim())).join(", ")),this.buf.push(" ",e,'="',$i(r),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Ni.hasOwnProperty(e)&&!Mi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push($i(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Hi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ui=/([^\#-~ |!])/g;function $i(t){return t.replace(/&/g,"&amp;").replace(Hi,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ui,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wi;function qi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ki=(()=>((Ki=Ki||{})[Ki.NONE=0]="NONE",Ki[Ki.HTML=1]="HTML",Ki[Ki.STYLE=2]="STYLE",Ki[Ki.SCRIPT=3]="SCRIPT",Ki[Ki.URL=4]="URL",Ki[Ki.RESOURCE_URL=5]="RESOURCE_URL",Ki))();function Gi(t){const e=Qi();return e?_i(e.sanitize(Ki.HTML,t)||""):Si(t,"HTML")?_i(Ci(t)):function(t,e){let n=null;try{Wi=Wi||function(t){const e=new Ti(t);return function(){try{return!!(new window.DOMParser).parseFromString(vi(""),"text/html")}catch(t){return!1}}()?new xi(e):e}(t);let i=e?String(e):"";n=Wi.getInertBodyElement(i);let s=5,o=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=o,o=n.innerHTML,n=Wi.getInertBodyElement(i)}while(i!==o);return vi((new Bi).sanitizeChildren(qi(n)||n))}finally{if(n){const t=qi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(fe(),at(t))}function Yi(t){const e=Qi();return e?e.sanitize(Ki.URL,t)||"":Si(t,"URL")?Ci(t):Oi(at(t))}function Qi(){const t=Ae();return t&&t[12]}function Zi(t,e){t.__ngContext__=e}function Ji(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Xi(t){return t.ngOriginalError}function ts(t,...e){t.error(...e)}class es{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||ts}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(Xi(t)):null}_findOriginalError(t){let e=Xi(t);for(;e&&Xi(e);)e=Xi(e);return e}}const ns=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function is(t){return t instanceof Function?t():t}var ss=(()=>((ss=ss||{})[ss.Important=1]="Important",ss[ss.DashCase=2]="DashCase",ss))();function os(t,e){return(void 0)(t,e)}function rs(t){const e=t[3];return te(e)?e[3]:e}function as(t){return cs(t[13])}function ls(t){return cs(t[4])}function cs(t){for(;null!==t&&!te(t);)t=t[4];return t}function us(t,e,n,i,s){if(null!=i){let o,r=!1;te(i)?o=i:Xt(i)&&(r=!0,i=i[0]);const a=be(i);0===t&&null!==n?null==s?ws(e,n,a):bs(e,n,a,s||null,!0):1===t&&null!==n?bs(e,n,a,s||null,!0):2===t?function(t,e,n){const i=vs(t,e);i&&function(t,e,n,i){ge(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,r):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,i,s){const o=n[7];o!==be(n)&&us(e,t,i,o,s);for(let r=Jt;r<n.length;r++){const s=n[r];Is(s[1],s,t,e,i,o)}}(e,t,o,n,s)}}function hs(t,e,n){return ge(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function ds(t,e){const n=t[9],i=n.indexOf(e),s=e[3];1024&e[2]&&(e[2]&=-1025,Ee(s,-1)),n.splice(i,1)}function ps(t,e){if(t.length<=Jt)return;const n=Jt+e,i=t[n];if(i){const o=i[17];null!==o&&o!==t&&ds(o,i),e>0&&(t[n-1][4]=i[4]);const r=Xn(t,Jt+e);Is(i[1],s=i,s[11],2,null,null),s[0]=null,s[6]=null;const a=r[19];null!==a&&a.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}var s;return i}function fs(t,e){if(!(256&e[2])){const n=e[11];ge(n)&&n.destroyNode&&Is(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return gs(t[1],t);for(;e;){let n=null;if(Xt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Xt(e)&&gs(e[1],e),e=e[3];null===e&&(e=t),Xt(e)&&gs(e[1],e),n=e&&e[4]}e=n}}(e)}}function gs(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof fn)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const i=t[e[n]],s=e[n+1];try{s.call(i)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let s=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],r="function"==typeof t?t(e):be(e[t]),a=i[s=n[o+2]],l=n[o+3];"boolean"==typeof l?r.removeEventListener(n[o],a,l):l>=0?i[s=l]():i[s=-l].unsubscribe(),o+=2}else{const t=i[s=n[o+1]];n[o].call(t)}if(null!==i){for(let t=s+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&ge(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&te(e[3])){n!==e[3]&&ds(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function ms(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===xt.None||e===xt.Emulated)return null}return ye(i,n)}(t,e.parent,n)}function bs(t,e,n,i,s){ge(t)?t.insertBefore(e,n,i,s):e.insertBefore(n,i,s)}function ws(t,e,n){ge(t)?t.appendChild(e,n):e.appendChild(n)}function ys(t,e,n,i,s){null!==i?bs(t,e,n,i,s):ws(t,e,n)}function vs(t,e){return ge(t)?t.parentNode(e):e.parentNode}function _s(t,e,n){return ks(t,e,n)}let ks=function(t,e,n){return 40&t.type?ye(t,n):null};function Cs(t,e,n,i){const s=ms(t,i,e),o=e[11],r=_s(i.parent||e[6],i,e);if(null!=s)if(Array.isArray(n))for(let a=0;a<n.length;a++)ys(o,s,n[a],r,!1);else ys(o,s,n,r,!1)}function Ss(t,e){if(null!==e){const n=e.type;if(3&n)return ye(e,t);if(4&n)return Ts(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Ss(t,n);{const n=t[e.index];return te(n)?Ts(-1,n):be(n)}}if(32&n)return os(e,t)()||be(t[e.index]);{const n=xs(t,e);return null!==n?Array.isArray(n)?n[0]:Ss(rs(t[16]),n):Ss(t,e.next)}}return null}function xs(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ts(t,e){const n=Jt+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return Ss(t,i)}return e[7]}function Es(t,e,n,i,s,o,r){for(;null!=n;){const a=i[n.index],l=n.type;if(r&&0===e&&(a&&Zi(be(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)Es(t,e,n.child,i,s,o,!1),us(e,t,s,a,o);else if(32&l){const r=os(n,i);let l;for(;l=r();)us(e,t,s,l,o);us(e,t,s,a,o)}else 16&l?Os(t,e,i,n,s,o):us(e,t,s,a,o);n=r?n.projectionNext:n.next}}function Is(t,e,n,i,s,o){Es(n,i,t.firstChild,e,s,o,!1)}function Os(t,e,n,i,s,o){const r=n[16],a=r[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)us(e,t,s,a[l],o);else Es(t,e,a,r[3],s,o,!0)}function As(t,e,n){ge(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ps(t,e,n){ge(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Ms(t,e,n){let i=t.length;for(;;){const s=t.indexOf(e,n);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const n=e.length;if(s+n===i||t.charCodeAt(s+n)<=32)return s}n=s+1}}const Ds="ng-template";function Ls(t,e,n){let i=0;for(;i<t.length;){let s=t[i++];if(n&&"class"===s){if(s=t[i],-1!==Ms(s.toLowerCase(),e,0))return!0}else if(1===s){for(;i<t.length&&"string"==typeof(s=t[i++]);)if(s.toLowerCase()===e)return!0;return!1}}return!1}function Rs(t){return 4===t.type&&t.value!==Ds}function Ns(t,e,n){return e===(4!==t.type||n?t.value:Ds)}function Fs(t,e,n){let i=4;const s=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(mn(t[e]))return e;return t.length}(s);let r=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!r)if(4&i){if(i=2|1&i,""!==l&&!Ns(t,l,n)||""===l&&1===e.length){if(Vs(i))return!1;r=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!Ls(t.attrs,c,n)){if(Vs(i))return!1;r=!0}continue}const u=js(8&i?"class":l,s,Rs(t),n);if(-1===u){if(Vs(i))return!1;r=!0;continue}if(""!==c){let t;t=u>o?"":s[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==Ms(e,c,0)||2&i&&c!==t){if(Vs(i))return!1;r=!0}}}}else{if(!r&&!Vs(i)&&!Vs(l))return!1;if(r&&Vs(l))continue;r=!1,i=l|1&i}}return Vs(i)||r}function Vs(t){return 0==(1&t)}function js(t,e,n,i){if(null===e)return-1;let s=0;if(i||!n){let n=!1;for(;s<e.length;){const i=e[s];if(i===t)return s;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++s];for(;"string"==typeof t;)t=e[++s];continue}if(4===i)break;if(0===i){s+=4;continue}}s+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function zs(t,e,n=!1){for(let i=0;i<e.length;i++)if(Fs(t,e[i],n))return!0;return!1}function Bs(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Hs(t,e){return t?":not("+e.trim()+")":e}function Us(t){let e=t[0],n=1,i=2,s="",o=!1;for(;n<t.length;){let r=t[n];if("string"==typeof r)if(2&i){const e=t[++n];s+="["+r+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?s+="."+r:4&i&&(s+=" "+r);else""===s||Vs(r)||(e+=Hs(o,s),s=""),i=r,o=o||!Vs(i);n++}return""!==s&&(e+=Hs(o,s)),e}const $s={};function Ws(t){qs(Pe(),Ae(),nn()+t,Ve())}function qs(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&ln(e,i,n)}else{const i=t.preOrderHooks;null!==i&&cn(e,i,0,n)}sn(n)}function Ks(t,e){return t<<17|e<<2}function Gs(t){return t>>17&32767}function Ys(t){return 2|t}function Qs(t){return(131068&t)>>2}function Zs(t,e){return-131069&t|e<<2}function Js(t){return 1|t}function Xs(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const s=n[i],o=n[i+1];if(-1!==o){const n=t.data[o];Ke(s),n.contentQueries(2,e[o],o)}}}function to(t,e,n,i,s,o,r,a,l,c){const u=e.blueprint.slice();return u[0]=s,u[2]=140|i,Te(u),u[3]=u[15]=t,u[8]=n,u[10]=r||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function eo(t,e,n,i,s){let o=t.data[e];if(null===o)o=function(t,e,n,i,s){const o=Le(),r=Ne(),a=t.data[e]=function(t,e,n,i,s,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?o:o&&o.parent,n,e,i,s);return null===t.firstChild&&(t.firstChild=a),null!==o&&(r?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,i,s),Ie.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=s;const t=function(){const t=Ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Re(o,!0),o}function no(t,e,n,i){if(0===n)return-1;const s=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return s}function io(t,e,n){Qe(e);try{const i=t.viewQuery;null!==i&&Lo(1,i,n);const s=t.template;null!==s&&ro(t,e,s,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Xs(t,e),t.staticViewQueries&&Lo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Oo(t,e[n])}(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,en()}}function so(t,e,n,i){const s=e[2];if(256==(256&s))return;Qe(e);const o=Ve();try{Te(e),Ie.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ro(t,e,n,2,i);const r=3==(3&s);if(!o)if(r){const n=t.preOrderCheckHooks;null!==n&&ln(e,n,null)}else{const n=t.preOrderHooks;null!==n&&cn(e,n,0,null),un(e,0)}if(function(t){for(let e=as(t);null!==e;e=ls(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Ee(i,1),n[2]|=1024}}}(e),function(t){for(let e=as(t);null!==e;e=ls(e))for(let t=Jt;t<e.length;t++){const n=e[t],i=n[1];Se(n)&&so(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Xs(t,e),!o)if(r){const n=t.contentCheckHooks;null!==n&&ln(e,n)}else{const n=t.contentHooks;null!==n&&cn(e,n,1),un(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)sn(~i);else{const s=i,o=n[++t],r=n[++t];$e(o,s),r(2,e[s])}}}finally{sn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Eo(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Lo(2,l,i),!o)if(r){const n=t.viewCheckHooks;null!==n&&ln(e,n)}else{const n=t.viewHooks;null!==n&&cn(e,n,2),un(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ee(e[3],-1))}finally{en()}}function oo(t,e,n,i){const s=e[10],o=!Ve(),r=Ce(e);try{o&&!r&&s.begin&&s.begin(),r&&io(t,e,i),so(t,e,n,i)}finally{o&&!r&&s.end&&s.end()}}function ro(t,e,n,i,s){const o=nn(),r=2&i;try{sn(-1),r&&e.length>Zt&&qs(t,e,Zt,Ve()),n(i,s)}finally{sn(o)}}function ao(t,e,n){if(ee(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const e=t.data[s];e.contentQueries&&e.contentQueries(1,n[s],s)}}}function lo(t,e,n){Oe()&&(function(t,e,n,i){const s=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Tn(n,e),Zi(i,e);const r=n.initialInputs;for(let a=s;a<o;a++){const i=t.data[a],o=se(i);o&&Co(e,n,i);const l=Vn(e,t,a,n);Zi(l,e),null!==r&&So(0,a-s,l,i,0,r),o&&(ke(n.index,e)[8]=l)}}(t,e,n,ye(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,s=n.directiveEnd,o=n.index,r=Ie.lFrame.currentDirectiveIndex;try{sn(o);for(let n=i;n<s;n++){const i=t.data[n],s=e[n];We(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||wo(i,s)}}finally{sn(-1),We(r)}}(t,e,n))}function co(t,e,n=ye){const i=e.localNames;if(null!==i){let s=e.index+1;for(let o=0;o<i.length;o+=2){const r=i[o+1],a=-1===r?n(e,t):t[r];t[s++]=a}}}function uo(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ho(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ho(t,e,n,i,s,o,r,a,l,c){const u=Zt+i,h=u+s,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:$s);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function po(t,e,n,i){const s=No(e);null===n?s.push(i):(s.push(n),t.firstCreatePass&&Fo(t).push(i,s.length-1))}function fo(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,s):n[i]=[e,s]}return n}function go(t,e,n,i,s,o,r,a){const l=ye(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[i])?(jo(t,n,c,i,s),ne(e)&&function(t,e){const n=ke(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,s=null!=r?r(s,e.value||"",i):s,ge(o)?o.setProperty(l,i,s):bn(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function mo(t,e,n,i){let s=!1;if(Oe()){const o=function(t,e,n){const i=t.directiveRegistry;let s=null;if(i)for(let o=0;o<i.length;o++){const r=i[o];zs(n,r.selectors,!1)&&(s||(s=[]),An(Tn(n,e),t,r.type),se(r)?(yo(t,n),s.unshift(r)):s.push(r))}return s}(t,e,n),r=null===i?null:{"":-1};if(null!==o){s=!0,_o(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,l=no(t,e,o.length,null);for(let s=0;s<o.length;s++){const c=o[s];n.mergedAttrs=wn(n.mergedAttrs,c.hostAttrs),ko(t,n,e,l,c),vo(l,c,r),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,i=t.data,s=e.attrs,o=[];let r=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,c=null===s||Rs(e)?null:xo(n,s);o.push(c),r=fo(n,l,r),a=fo(t.outputs,l,a)}null!==r&&(r.hasOwnProperty("class")&&(e.flags|=16),r.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=r,e.outputs=a}(t,n)}r&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const s=n[e[t+1]];if(null==s)throw new rt("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],s)}}}(n,i,r)}return n.mergedAttrs=wn(n.mergedAttrs,n.attrs),s}function bo(t,e,n,i,s,o){const r=o.hostBindings;if(r){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(i,s,r)}}function wo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function yo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function vo(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;se(e)&&(n[""]=t)}}function _o(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ko(t,e,n,i,s){t.data[i]=s;const o=s.factory||(s.factory=oe(s.type)),r=new fn(o,se(s),null);t.blueprint[i]=r,n[i]=r,bo(t,e,0,i,no(t,n,s.hostVars,$s),s)}function Co(t,e,n){const i=ye(e,t),s=uo(n),o=t[10],r=Ao(t,to(t,s,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=r}function So(t,e,n,i,s,o){const r=o[e];if(null!==r){const t=i.setInput;for(let e=0;e<r.length;){const s=r[e++],o=r[e++],a=r[e++];null!==t?i.setInput(n,a,s,o):n[o]=a}}}function xo(t,e){let n=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;t.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,t[s],e[i+1])),i+=2}else i+=2;else i+=4}return n}function To(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Eo(t,e){const n=ke(e,t);if(Se(n)){const t=n[1];80&n[2]?so(t,n,t.template,n[8]):n[5]>0&&Io(n)}}function Io(t){for(let n=as(t);null!==n;n=ls(n))for(let t=Jt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];so(t,e,t.template,e[8])}else e[5]>0&&Io(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=ke(e[n],t);Se(i)&&i[5]>0&&Io(i)}}function Oo(t,e){const n=ke(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),io(i,n,n[8])}function Ao(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Po(t){for(;t;){t[2]|=64;const e=rs(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Mo(t,e,n){const i=e[10];i.begin&&i.begin();try{so(t,e,t.template,n)}catch(s){throw Vo(e,s),s}finally{i.end&&i.end()}}function Do(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Ji(n),s=i[1];oo(s,i,s.template,n)}}(t[8])}function Lo(t,e,n){Ke(0),e(t,n)}const Ro=(()=>Promise.resolve(null))();function No(t){return t[7]||(t[7]=[])}function Fo(t){return t.cleanup||(t.cleanup=[])}function Vo(t,e){const n=t[9],i=n?n.get(es,null):null;i&&i.handleError(e)}function jo(t,e,n,i,s){for(let o=0;o<n.length;){const r=n[o++],a=n[o++],l=e[r],c=t.data[r];null!==c.setInput?c.setInput(l,s,i,a):l[a]=s}}function zo(t,e,n){const i=we(e,t);!function(t,e,n){ge(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function Bo(t,e,n){let i=n?t.styles:null,s=n?t.classes:null,o=0;if(null!==e)for(let r=0;r<e.length;r++){const t=e[r];"number"==typeof t?o=t:1==o?s=et(s,t):2==o&&(i=et(i,t+": "+e[++r]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=s:t.classesWithoutHost=s}const Ho=new Kn("INJECTOR",-1);class Uo{get(t,e=si){if(e===si){const e=new Error(`NullInjectorError: No provider for ${tt(t)}!`);throw e.name="NullInjectorError",e}return e}}const $o=new Kn("Set Injector scope."),Wo={},qo={};let Ko;function Go(){return void 0===Ko&&(Ko=new Uo),Ko}function Yo(t,e=null,n=null,i){return new Qo(t,n,e||Go(),i)}class Qo{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&Zn(e,n=>this.processProvider(n,t,e)),Zn([t],t=>this.processInjectorType(t,[],s)),this.records.set(Ho,Xo(void 0,this));const o=this.records.get($o);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:tt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=si,n=yt.Default){this.assertNotDestroyed();const i=ci(this),s=_t(void 0);try{if(!(n&yt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof Kn)&&dt(t);e=n&&this.injectableDefInScope(n)?Xo(Zo(t),Wo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&yt.Self?Go():this.parent).get(t,e=n&yt.Optional&&e===si?null:e)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(tt(t)),i)throw r;return function(t,e,n,i){const s=t.ngTempTokenPath;throw e[ri]&&s.unshift(e[ri]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let s=tt(e);if(Array.isArray(e))s=e.map(tt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):tt(i)))}s=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${s}]: ${t.replace(oi,"\n  ")}`}("\n"+t.message,s,n,i),t.ngTokenPath=s,t.ngTempTokenPath=null,t}(r,t,"R3InjectorError",this.source)}throw r}finally{_t(s),ci(i)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(tt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=st(t)))return!1;let i=ft(t);const s=null==i&&t.ngModule||void 0,o=void 0===s?t:s,r=-1!==n.indexOf(o);if(void 0!==s&&(i=ft(s)),null==i)return!1;if(null!=i.imports&&!r){let t;n.push(o);try{Zn(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];Zn(i,t=>this.processProvider(t,n,i||Mt))}}this.injectorDefTypes.add(o);const a=oe(o)||(()=>new o);this.records.set(o,Xo(a,Wo));const l=i.providers;if(null!=l&&!r){const e=t;Zn(l,t=>this.processProvider(t,e,l))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,n){let i=er(t=st(t))?t:st(t&&t.provide);const s=function(t,e,n){return tr(t)?Xo(void 0,t.useValue):Xo(Jo(t),Wo)}(t);if(er(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=Xo(void 0,Wo,!0),e.factory=()=>pi(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,s)}hydrate(t,e){var n;return e.value===Wo&&(e.value=qo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=st(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Zo(t){const e=dt(t),n=null!==e?e.factory:oe(t);if(null!==n)return n;if(t instanceof Kn)throw new Error(`Token ${tt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ti(e,"?");throw new Error(`Can't resolve all parameters for ${tt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[gt]||t[bt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Jo(t,e,n){let i;if(er(t)){const e=st(t);return oe(e)||Zo(e)}if(tr(t))i=()=>st(t.useValue);else if((s=t)&&s.useFactory)i=()=>t.useFactory(...pi(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>hi(st(t.useExisting));else{const e=st(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return oe(e)||Zo(e);i=()=>new e(...pi(t.deps))}var s;return i}function Xo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function tr(t){return null!==t&&"object"==typeof t&&ai in t}function er(t){return"function"==typeof t}const nr=function(t,e,n){return function(t,e=null,n=null,i){const s=Yo(t,e,n,i);return s._resolveInjectorDefTypes(),s}({name:n},e,t,n)};class ir{static create(t,e){return Array.isArray(t)?nr(t,e,""):nr(t.providers,t.parent,t.name||"")}}function sr(t,e){an(Ji(t)[1],De())}function or(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let s;if(se(t))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");s=e.\u0275dir}if(s){if(n){i.push(s);const e=t;e.inputs=rr(t.inputs),e.declaredInputs=rr(t.declaredInputs),e.outputs=rr(t.outputs);const n=s.hostBindings;n&&cr(t,n);const o=s.viewQuery,r=s.contentQueries;if(o&&ar(t,o),r&&lr(t,r),X(t.inputs,s.inputs),X(t.declaredInputs,s.declaredInputs),X(t.outputs,s.outputs),se(s)&&s.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(s.data.animation)}}const e=s.features;if(e)for(let i=0;i<e.length;i++){const s=e[i];s&&s.ngInherit&&s(t),s===or&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const s=t[i];s.hostVars=e+=s.hostVars,s.hostAttrs=wn(s.hostAttrs,n=wn(n,s.hostAttrs))}}(i)}function rr(t){return t===Pt?{}:t===Mt?[]:t}function ar(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function lr(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,s)=>{e(t,i,s),n(t,i,s)}:e}function cr(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}ir.THROW_IF_NOT_FOUND=si,ir.NULL=new Uo,ir.\u0275prov=ut({token:ir,providedIn:"any",factory:()=>hi(Ho)}),ir.__NG_ELEMENT_ID__=-1;let ur=null;function hr(){if(!ur){const t=At.Symbol;if(t&&t.iterator)ur=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ur=n)}}}return ur}class dr{constructor(t){this.wrapped=t}static wrap(t){return new dr(t)}static unwrap(t){return dr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof dr}}function pr(t){return!!fr(t)&&(Array.isArray(t)||!(t instanceof Map)&&hr()in t)}function fr(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function gr(t,e,n){return t[e]=n}function mr(t,e){return t[e]}function br(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function wr(t,e,n,i){const s=br(t,e,n);return br(t,e+1,i)||s}function yr(t,e,n,i,s){const o=wr(t,e,n,i);return br(t,e+2,s)||o}function vr(t,e,n,i,s,o){const r=wr(t,e,n,i);return wr(t,e+2,s,o)||r}function _r(t,e,n,i){const s=Ae();return br(s,He(),e)&&(Pe(),function(t,e,n,i,s,o){const r=ye(t,e);!function(t,e,n,i,s,o,r){if(null==o)ge(t)?t.removeAttribute(e,s,n):e.removeAttribute(s);else{const a=null==r?at(o):r(o,i||"",s);ge(t)?t.setAttribute(e,s,a,n):n?e.setAttributeNS(n,s,a):e.setAttribute(s,a)}}(e[11],r,o,t.value,n,i,s)}(on(),s,t,e,n,i)),_r}function kr(t,e,n,i,s,o,r,a){const l=Ae(),c=Pe(),u=t+Zt,h=c.firstCreatePass?function(t,e,n,i,s,o,r,a,l){const c=e.consts,u=eo(e,t,4,r||null,xe(c,a));mo(e,n,u,xe(c,l)),an(e,u);const h=u.tViews=ho(2,u,i,s,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,i,s,o,r):c.data[u];Re(h,!1);const d=l[11].createComment("");Cs(c,l,d,h),Zi(d,l),Ao(l,l[u]=To(d,l,d,h)),ie(h)&&lo(c,l,h),null!=r&&co(l,h,a)}function Cr(t){return _e(Ie.lFrame.contextLView,Zt+t)}function Sr(t,e=yt.Default){const n=Ae();return null===n?hi(t,e):Dn(De(),n,st(t),e)}function xr(t,e,n){const i=Ae();return br(i,He(),e)&&go(Pe(),on(),i,t,e,i[11],n,!1),xr}function Tr(t,e,n,i,s){const o=s?"class":"style";jo(t,n,e.inputs[o],o,i)}function Er(t,e,n,i){const s=Ae(),o=Pe(),r=Zt+t,a=s[11],l=s[r]=hs(a,e,Ie.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,i,s,o,r){const a=e.consts,l=eo(e,t,2,s,xe(a,o));return mo(e,n,l,xe(a,r)),null!==l.attrs&&Bo(l,l.attrs,!1),null!==l.mergedAttrs&&Bo(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(r,o,s,0,e,n,i):o.data[r];Re(c,!0);const u=c.mergedAttrs;null!==u&&gn(a,l,u);const h=c.classes;null!==h&&Ps(a,l,h);const d=c.styles;null!==d&&As(a,l,d),64!=(64&c.flags)&&Cs(o,s,l,c),0===Ie.lFrame.elementDepthCount&&Zi(l,s),Ie.lFrame.elementDepthCount++,ie(c)&&(lo(o,s,c),ao(o,c,s)),null!==i&&co(s,c)}function Ir(){let t=De();Ne()?Fe():(t=t.parent,Re(t,!1));const e=t;Ie.lFrame.elementDepthCount--;const n=Pe();n.firstCreatePass&&(an(n,t),ee(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Tr(n,e,Ae(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Tr(n,e,Ae(),e.stylesWithoutHost,!1)}function Or(t,e,n,i){Er(t,e,n,i),Ir()}function Ar(t,e,n){const i=Ae(),s=Pe(),o=t+Zt,r=s.firstCreatePass?function(t,e,n,i,s){const o=e.consts,r=xe(o,i),a=eo(e,t,8,"ng-container",r);return null!==r&&Bo(a,r,!0),mo(e,n,a,xe(o,s)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,s,i,e,n):s.data[o];Re(r,!0);const a=i[o]=i[11].createComment("");Cs(s,i,a,r),Zi(a,i),ie(r)&&(lo(s,i,r),ao(s,r,i)),null!=n&&co(i,r)}function Pr(){let t=De();const e=Pe();Ne()?Fe():(t=t.parent,Re(t,!1)),e.firstCreatePass&&(an(e,t),ee(t)&&e.queries.elementEnd(t))}function Mr(t,e,n){Ar(t,e,n),Pr()}function Dr(){return Ae()}function Lr(t){return!!t&&"function"==typeof t.then}const Rr=function(t){return!!t&&"function"==typeof t.subscribe};function Nr(t,e,n,i){const s=Ae(),o=Pe(),r=De();return function(t,e,n,i,s,o,r,a){const l=ie(i),c=t.firstCreatePass&&Fo(t),u=No(e);let h=!0;if(3&i.type||a){const d=ye(i,e),p=a?a(d):d,f=u.length,g=a?t=>a(be(t[i.index])):i.index;if(ge(n)){let r=null;if(!a&&l&&(r=function(t,e,n,i){const s=t.cleanup;if(null!=s)for(let o=0;o<s.length-1;o+=2){const t=s[o];if(t===n&&s[o+1]===i){const t=e[7],n=s[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,s,i.index)),null!==r)(r.__ngLastListenerFn__||r).__ngNextListenerFn__=o,r.__ngLastListenerFn__=o,h=!1;else{o=Vr(i,e,0,o,!1);const t=n.listen(p,s,o);u.push(o,t),c&&c.push(s,g,f,f+1)}}else o=Vr(i,e,0,o,!0),p.addEventListener(s,o,r),u.push(o),c&&c.push(s,g,f,r)}else o=Vr(i,e,0,o,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[s])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),r=u.length;u.push(o,t),c&&c.push(s,i.index,r,-(r+1))}}}(o,s,s[11],r,t,e,!!n,i),Nr}function Fr(t,e,n,i){try{return!1!==n(i)}catch(s){return Vo(t,s),!1}}function Vr(t,e,n,i,s){return function n(o){if(o===Function)return i;const r=2&t.flags?ke(t.index,e):e;0==(32&e[2])&&Po(r);let a=Fr(e,0,i,o),l=n.__ngNextListenerFn__;for(;l;)a=Fr(e,0,l,o)&&a,l=l.__ngNextListenerFn__;return s&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function jr(t=1){return function(t){return(Ie.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ie.lFrame.contextLView))[8]}(t)}function zr(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let s=0;s<e.length;s++){const o=e[s];if("*"!==o){if(null===i?zs(t,o,!0):Bs(i,o))return s}else n=s}return n}function Br(t){const e=Ae()[16][6];if(!e.projection){const n=e.projection=ti(t?t.length:1,null),i=n.slice();let s=e.child;for(;null!==s;){const e=t?zr(s,t):0;null!==e&&(i[e]?i[e].projectionNext=s:n[e]=s,i[e]=s),s=s.next}}}function Hr(t,e=0,n){const i=Ae(),s=Pe(),o=eo(s,Zt+t,16,null,n||null);null===o.projection&&(o.projection=e),Fe(),64!=(64&o.flags)&&function(t,e,n){Os(e[11],0,e,n,ms(t,n,e),_s(n.parent||e[6],n,e))}(s,i,o)}function Ur(t,e,n,i,s){const o=t[n+1],r=null===e;let a=i?Gs(o):Qs(o),l=!1;for(;0!==a&&(!1===l||r);){const n=t[a+1];$r(t[a],e)&&(l=!0,t[a+1]=i?Js(n):Ys(n)),a=i?Gs(n):Qs(n)}l&&(t[n+1]=i?Ys(o):Js(o))}function $r(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ii(t,e)>=0}const Wr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qr(t){return t.substring(Wr.key,Wr.keyEnd)}function Kr(t){return t.substring(Wr.value,Wr.valueEnd)}function Gr(t,e){const n=Wr.textEnd;return n===e?-1:(e=Wr.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Wr.key=e,n),Zr(t,e,n))}function Yr(t,e){const n=Wr.textEnd;let i=Wr.key=Zr(t,e,n);return n===i?-1:(i=Wr.keyEnd=function(t,e,n){let i;for(;e<n&&(45===(i=t.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(t,i,n),i=Jr(t,i,n),i=Wr.value=Zr(t,i,n),i=Wr.valueEnd=function(t,e,n){let i=-1,s=-1,o=-1,r=e,a=r;for(;r<n;){const l=t.charCodeAt(r++);if(59===l)return a;34===l||39===l?a=r=Xr(t,l,r,n):e===r-4&&85===o&&82===s&&76===i&&40===l?a=r=Xr(t,41,r,n):l>32&&(a=r),o=s,s=i,i=-33&l}return a}(t,i,n),Jr(t,i,n))}function Qr(t){Wr.key=0,Wr.keyEnd=0,Wr.value=0,Wr.valueEnd=0,Wr.textEnd=t.length}function Zr(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Jr(t,e,n,i){return(e=Zr(t,e,n))<n&&e++,e}function Xr(t,e,n,i){let s=-1,o=n;for(;o<i;){const n=t.charCodeAt(o++);if(n==e&&92!==s)return o;s=92==n&&92===s?0:n}throw new Error}function ta(t,e,n){return ra(t,e,n,!1),ta}function ea(t,e){return ra(t,e,null,!0),ea}function na(t){aa(da,ia,t,!1)}function ia(t,e){for(let n=function(t){return Qr(t),Yr(t,Zr(t,0,Wr.textEnd))}(e);n>=0;n=Yr(e,n))da(t,qr(e),Kr(e))}function sa(t){aa(ei,oa,t,!0)}function oa(t,e){for(let n=function(t){return Qr(t),Gr(t,Zr(t,0,Wr.textEnd))}(e);n>=0;n=Gr(e,n))ei(t,qr(e),!0)}function ra(t,e,n,i){const s=Ae(),o=Pe(),r=Ue(2);o.firstUpdatePass&&ca(o,t,r,i),e!==$s&&br(s,r,e)&&pa(o,o.data[nn()],s,s[11],t,s[r+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=tt(Ci(t)))),t}(e,n),i,r)}function aa(t,e,n,i){const s=Pe(),o=Ue(2);s.firstUpdatePass&&ca(s,null,o,i);const r=Ae();if(n!==$s&&br(r,o,n)){const a=s.data[nn()];if(ma(a,i)&&!la(s,o)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=et(t,n||"")),Tr(s,a,r,n,i)}else!function(t,e,n,i,s,o,r,a){s===$s&&(s=Mt);let l=0,c=0,u=0<s.length?s[0]:null,h=0<o.length?o[0]:null;for(;null!==u||null!==h;){const d=l<s.length?s[l+1]:void 0,p=c<o.length?o[c+1]:void 0;let f,g=null;u===h?(l+=2,c+=2,d!==p&&(g=h,f=p)):null===h||null!==u&&u<h?(l+=2,g=u):(c+=2,g=h,f=p),null!==g&&pa(t,e,n,i,g,f,r,a),u=l<s.length?s[l]:null,h=c<o.length?o[c]:null}}(s,a,r,r[11],r[o+1],r[o+1]=function(t,e,n){if(null==n||""===n)return Mt;const i=[],s=Ci(n);if(Array.isArray(s))for(let o=0;o<s.length;o++)t(i,s[o],!0);else if("object"==typeof s)for(const o in s)s.hasOwnProperty(o)&&t(i,o,s[o]);else"string"==typeof s&&e(i,s);return i}(t,e,n),i,o)}}function la(t,e){return e>=t.expandoStartIndex}function ca(t,e,n,i){const s=t.data;if(null===s[n+1]){const o=s[nn()],r=la(t,n);ma(o,i)&&null===e&&!r&&(e=!1),e=function(t,e,n,i){const s=function(t){const e=Ie.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=i?e.residualClasses:e.residualStyles;if(null===s)0===(i?e.classBindings:e.styleBindings)&&(n=ha(n=ua(null,t,e,n,i),e.attrs,i),o=null);else{const r=e.directiveStylingLast;if(-1===r||t[r]!==s)if(n=ua(s,t,e,n,i),null===o){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Qs(i))return t[Gs(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=ua(null,t,e,n[1],i),n=ha(n,e.attrs,i),function(t,e,n,i){t[Gs(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else o=function(t,e,n){let i;const s=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<s;o++)i=ha(i,t[o].hostAttrs,n);return ha(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(s,o,e,i),function(t,e,n,i,s,o){let r=o?e.classBindings:e.styleBindings,a=Gs(r),l=Qs(r);t[i]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ii(t,c)>0)&&(u=!0)}else c=n;if(s)if(0!==l){const e=Gs(t[a+1]);t[i+1]=Ks(e,a),0!==e&&(t[e+1]=Zs(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=Ks(a,0),0!==a&&(t[a+1]=Zs(t[a+1],i)),a=i;else t[i+1]=Ks(l,0),0===a?a=i:t[l+1]=Zs(t[l+1],i),l=i;u&&(t[i+1]=Ys(t[i+1])),Ur(t,c,i,!0),Ur(t,c,i,!1),function(t,e,n,i,s){const o=s?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ii(o,e)>=0&&(n[i+1]=Js(n[i+1]))}(e,c,t,i,o),r=Ks(a,l),o?e.classBindings=r:e.styleBindings=r}(s,o,e,n,r,i)}}function ua(t,e,n,i,s){let o=null;const r=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<r&&(o=e[a],i=ha(i,o.hostAttrs,s),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function ha(t,e,n){const i=n?1:2;let s=-1;if(null!==e)for(let o=0;o<e.length;o++){const r=e[o];"number"==typeof r?s=r:s===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ei(t,r,!!n||e[++o]))}return void 0===t?null:t}function da(t,e,n){ei(t,e,Ci(n))}function pa(t,e,n,i,s,o,r,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];ga(1==(1&c)?fa(l,e,n,s,Qs(c),r):void 0)||(ga(o)||2==(2&c)&&(o=fa(l,null,n,s,a,r)),function(t,e,n,i,s){const o=ge(t);if(e)s?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:ss.DashCase;if(null==s)o?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const r="string"==typeof s&&s.endsWith("!important");r&&(s=s.slice(0,-10),e|=ss.Important),o?t.setStyle(n,i,s,e):n.style.setProperty(i,s,r?"important":"")}}}(i,r,we(nn(),n),s,o))}function fa(t,e,n,i,s,o){const r=null===e;let a;for(;s>0;){const e=t[s],o=Array.isArray(e),l=o?e[1]:e,c=null===l;let u=n[s+1];u===$s&&(u=c?Mt:void 0);let h=c?ni(u,i):l===i?u:void 0;if(o&&!ga(h)&&(h=ni(e,i)),ga(h)&&(a=h,r))return a;const d=t[s+1];s=r?Gs(d):Qs(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ni(t,i))}return a}function ga(t){return void 0!==t}function ma(t,e){return 0!=(t.flags&(e?16:32))}function ba(t,e=""){const n=Ae(),i=Pe(),s=t+Zt,o=i.firstCreatePass?eo(i,s,1,e,null):i.data[s],r=n[s]=function(t,e){return ge(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Cs(i,n,r,o),Re(o,!1)}function wa(t){return ya("",t,""),wa}function ya(t,e,n){const i=Ae(),s=function(t,e,n,i){return br(t,He(),n)?e+at(n)+i:$s}(i,t,e,n);return s!==$s&&zo(i,nn(),s),ya}function va(t,e,n,i,s){const o=Ae(),r=function(t,e,n,i,s,o){const r=wr(t,Be(),n,s);return Ue(2),r?e+at(n)+i+at(s)+o:$s}(o,t,e,n,i,s);return r!==$s&&zo(o,nn(),r),va}function _a(t,e,n){const i=Ae();return br(i,He(),e)&&go(Pe(),on(),i,t,e,i[11],n,!0),_a}const ka=void 0;var Ca=["en",[["a","p"],["AM","PM"],ka],[["AM","PM"],ka,ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ka,"{1} 'at' {0}",ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Sa={};function xa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ta(e);if(n)return n;const i=e.split("-")[0];if(n=Ta(i),n)return n;if("en"===i)return Ca;throw new Error(`Missing locale data for the locale "${t}".`)}function Ta(t){return t in Sa||(Sa[t]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[t]),Sa[t]}var Ea=(()=>((Ea=Ea||{})[Ea.LocaleId=0]="LocaleId",Ea[Ea.DayPeriodsFormat=1]="DayPeriodsFormat",Ea[Ea.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ea[Ea.DaysFormat=3]="DaysFormat",Ea[Ea.DaysStandalone=4]="DaysStandalone",Ea[Ea.MonthsFormat=5]="MonthsFormat",Ea[Ea.MonthsStandalone=6]="MonthsStandalone",Ea[Ea.Eras=7]="Eras",Ea[Ea.FirstDayOfWeek=8]="FirstDayOfWeek",Ea[Ea.WeekendRange=9]="WeekendRange",Ea[Ea.DateFormat=10]="DateFormat",Ea[Ea.TimeFormat=11]="TimeFormat",Ea[Ea.DateTimeFormat=12]="DateTimeFormat",Ea[Ea.NumberSymbols=13]="NumberSymbols",Ea[Ea.NumberFormats=14]="NumberFormats",Ea[Ea.CurrencyCode=15]="CurrencyCode",Ea[Ea.CurrencySymbol=16]="CurrencySymbol",Ea[Ea.CurrencyName=17]="CurrencyName",Ea[Ea.Currencies=18]="Currencies",Ea[Ea.Directionality=19]="Directionality",Ea[Ea.PluralCase=20]="PluralCase",Ea[Ea.ExtraData=21]="ExtraData",Ea))();const Ia="en-US";let Oa=Ia;function Aa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Oa=t.toLowerCase().replace(/_/g,"-"))}function Pa(t,e,n,i,s){if(t=st(t),Array.isArray(t))for(let o=0;o<t.length;o++)Pa(t[o],e,n,i,s);else{const o=Pe(),r=Ae();let a=er(t)?t:st(t.provide),l=Jo(t);const c=De(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(er(t)||!t.multi){const i=new fn(l,s,Sr),p=La(a,e,s?u:u+d,h);-1===p?(An(Tn(c,r),o,a),Ma(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),n.push(i),r.push(i)):(n[p]=i,r[p]=i)}else{const p=La(a,e,u+d,h),f=La(a,e,u,u+d),g=p>=0&&n[p],m=f>=0&&n[f];if(s&&!m||!s&&!g){An(Tn(c,r),o,a);const u=function(t,e,n,i,s){const o=new fn(t,n,Sr);return o.multi=[],o.index=e,o.componentProviders=0,Da(o,s,i&&!n),o}(s?Na:Ra,n.length,s,i,l);!s&&m&&(n[f].providerFactory=u),Ma(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),n.push(u),r.push(u)}else Ma(o,t,p>-1?p:f,Da(n[s?f:p],l,!s&&i));!s&&i&&m&&n[f].componentProviders++}}}function Ma(t,e,n,i){const s=er(e);if(s||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const r=t.destroyHooks||(t.destroyHooks=[]);if(!s&&e.multi){const t=r.indexOf(n);-1===t?r.push(n,[i,o]):r[t+1].push(i,o)}else r.push(n,o)}}}function Da(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function La(t,e,n,i){for(let s=n;s<i;s++)if(e[s]===t)return s;return-1}function Ra(t,e,n,i){return Fa(this.multi,[])}function Na(t,e,n,i){const s=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Vn(n,n[1],this.providerFactory.index,i);o=e.slice(0,t),Fa(s,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Fa(s,o);return o}function Fa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Va(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Pe();if(i.firstCreatePass){const s=se(t);Pa(n,i.data,i.blueprint,s,!0),Pa(e,i.data,i.blueprint,s,!1)}}(n,i?i(t):t,e)}}class ja{}class za{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${tt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class Ba{}function Ha(...t){}function Ua(t,e){return new Wa(ye(t,e))}Ba.NULL=new za;const $a=function(){return Ua(De(),Ae())};let Wa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=$a,t})();function qa(t){return t instanceof Wa?t.nativeElement:t}class Ka{}let Ga=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ya(),t})();const Ya=function(){const t=Ae(),e=ke(De().index,t);return function(t){return t[11]}(Xt(e)?e:t)};let Qa=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class Za{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ja=new Za("12.1.3");class Xa{constructor(){}supports(t){return pr(t)}create(t){return new el(t)}}const tl=(t,e)=>e;class el{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tl}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,s=null;for(;e||n;){const o=!n||e&&e.currentIndex<ol(n,i,s)?e:n,r=ol(o,i,s),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{s||(s=[]);const t=r-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<s.length?s[n]:s[n]=0,o=i+n;e<=o&&o<t&&(s[n]=i+1)}s[o.previousIndex]=e-t}}r!==a&&t(o,r,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!pr(t))throw new Error(`Error trying to diff '${tt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,s=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==s&&Object.is(s.trackById,i)?(o&&(s=this._verifyReinsertion(s,n,i,e)),Object.is(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,i,e),o=!0),s=s._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[hr()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==s&&Object.is(s.trackById,i)?(o&&(s=this._verifyReinsertion(s,t,i,e)),Object.is(s.item,t)||this._addIdentityChange(s,t)):(s=this._mismatch(s,t,i,e),o=!0),s=s._next,e++}),this.length=e;return this._truncate(s),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,i)):t=this._addAfter(new nl(e,n),s,i),t}_verifyReinsertion(t,e,n,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new sl),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class nl{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class il{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class sl{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new il,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ol(t,e,n){const i=t.previousIndex;if(null===i)return i;let s=0;return n&&i<n.length&&(s=n[i]),i+e+s}class rl{constructor(){}supports(t){return t instanceof Map||fr(t)}create(){return new al}}class al{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||fr(t)))throw new Error(`Error trying to diff '${tt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,s=n._next;return i&&(i._next=s),s&&(s._prev=i),n._next=null,n._prev=null,n}const n=new ll(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ll{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cl(){return new ul([new Xa])}let ul=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||cl()),deps:[[t,new bi,new mi]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:cl}),t})();function hl(){return new dl([new rl])}let dl=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||hl()),deps:[[t,new bi,new mi]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:hl}),t})();function pl(t,e,n,i,s=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&i.push(be(o)),te(o))for(let t=Jt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&pl(e[1],e,n,i)}const r=n.type;if(8&r)pl(t,e,n.child,i);else if(32&r){const t=os(n,e);let s;for(;s=t();)i.push(s)}else if(16&r){const t=xs(e,n);if(Array.isArray(t))i.push(...t);else{const n=rs(e[16]);pl(n[1],n,t,i,!0)}}n=s?n.projectionNext:n.next}return i}class fl{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return pl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(te(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(ps(t,n),Xn(e,n))}this._attachedToViewContainer=!1}fs(this._lView[1],this._lView)}onDestroy(t){po(this._lView[1],this._lView,null,t)}markForCheck(){Po(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){je(!0);try{Mo(t,e,n)}finally{je(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Is(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class gl extends fl{constructor(t){super(t),this._view=t}detectChanges(){Do(this._view)}checkNoChanges(){!function(t){je(!0);try{Do(t)}finally{je(!1)}}(this._view)}get context(){return null}}const ml=function(t){return function(t,e,n){if(ne(t)&&!n){const n=ke(t.index,e);return new fl(n,n)}return 47&t.type?new fl(e[16],e):null}(De(),Ae(),16==(16&t))};let bl=(()=>{class t{}return t.__NG_ELEMENT_ID__=ml,t})();const wl=[new rl],yl=new ul([new Xa]),vl=new dl(wl),_l=function(){return xl(De(),Ae())};let kl=(()=>{class t{}return t.__NG_ELEMENT_ID__=_l,t})();const Cl=kl,Sl=class extends Cl{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=to(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),io(e,n,t),new fl(n)}};function xl(t,e){return 4&t.type?new Sl(e,t,Ua(t,e)):null}class Tl{}class El{}const Il=function(){return Ll(De(),Ae())};let Ol=(()=>{class t{}return t.__NG_ELEMENT_ID__=Il,t})();const Al=Ol,Pl=class extends Al{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new Bn(this._hostTNode,this._hostLView)}get parentInjector(){const t=On(this._hostTNode,this._hostLView);if(vn(t)){const e=kn(t,this._hostLView),n=_n(t);return new Bn(e[1].data[n+8],e)}return new Bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ml(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,s){const o=n||this.parentInjector;if(!s&&null==t.ngModule&&o){const t=o.get(Tl,null);t&&(s=t)}const r=t.create(o,i,void 0,s);return this.insert(r.hostView,e),r}insert(t,e){const n=t._lView,i=n[1];if(te(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new Pl(e,e[6],e[3]);i.detach(i.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,i){const s=Jt+i,o=n.length;i>0&&(n[s-1][4]=e),i<o-Jt?(e[4]=n[s],Jn(n,Jt+i,e)):(n.push(e),e[4]=null),e[3]=n;const r=e[17];null!==r&&n!==r&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(r,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,o,s);const r=Ts(s,o),a=n[11],l=vs(a,o[7]);return null!==l&&function(t,e,n,i,s,o){i[0]=s,i[6]=e,Is(t,i,n,1,s,o)}(i,o[6],a,n,l,r),t.attachToViewContainerRef(),Jn(Dl(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ml(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=ps(this._lContainer,e);n&&(Xn(Dl(this._lContainer),e),fs(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=ps(this._lContainer,e);return n&&null!=Xn(Dl(this._lContainer),e)?new fl(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ml(t){return t[8]}function Dl(t){return t[8]||(t[8]=[])}function Ll(t,e){let n;const i=e[t.index];if(te(i))n=i;else{let s;if(8&t.type)s=be(i);else{const n=e[11];s=n.createComment("");const i=ye(t,e);bs(n,vs(n,i),s,function(t,e){return ge(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=To(i,e,s,t),Ao(e,n)}return new Pl(n,t,e)}const Rl={};class Nl extends Ba{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Yt(t);return new jl(e,this.ngModule)}}function Fl(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Vl=new Kn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ns});class jl extends ja{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Us).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Fl(this.componentDef.inputs)}get outputs(){return Fl(this.componentDef.outputs)}create(t,e,n,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,i,s)=>{const o=t.get(n,Rl,s);return o!==Rl||i===Rl?o:e.get(n,i,s)}}}(t,i.injector):t,o=s.get(Ka,me),r=s.get(Qa,null),a=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(ge(t))return t.selectRootElement(e,n===xt.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):hs(o.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?de:"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:ns,clean:Ro,playerHandler:null,flags:0},d=ho(0,null,null,1,0,null,null,null,null,null),p=to(null,d,h,u,null,null,o,a,r,s);let f,g;Qe(p);try{const t=function(t,e,n,i,s,o){const r=n[1];n[20]=t;const a=eo(r,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(Bo(a,l,!0),null!==t&&(gn(s,t,l),null!==a.classes&&Ps(s,t,a.classes),null!==a.styles&&As(s,t,a.styles)));const c=i.createRenderer(t,e),u=to(n,uo(e),null,e.onPush?64:16,n[20],a,i,c,null,null);return r.firstCreatePass&&(An(Tn(a,n),r,e.type),yo(r,a),_o(a,n.length,1)),Ao(n,u),n[20]=u}(c,this.componentDef,p,o,a);if(c)if(n)gn(a,c,["ng-version",Ja.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,s=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===s?""!==o&&e.push(o,t[++i]):8===s&&n.push(o);else{if(!Vs(s))break;s=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&gn(a,c,t),e&&e.length>0&&Ps(a,c,e.join(" "))}if(g=ve(d,Zt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}f=function(t,e,n,i,s){const o=n[1],r=function(t,e,n){const i=De();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ko(t,i,e,no(t,e,1,null),n));const s=Vn(e,t,i.directiveStart,i);Zi(s,e);const o=ye(i,e);return o&&Zi(o,e),s}(o,n,e);if(i.components.push(r),t[8]=r,s&&s.forEach(t=>t(r,e)),e.contentQueries){const t=De();e.contentQueries(1,r,t.directiveStart)}const a=De();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(sn(a.index),bo(n[1],a,0,a.directiveStart,a.directiveEnd,e),wo(e,r)),r}(t,this.componentDef,p,h,[sr]),io(d,p,null)}finally{en()}return new zl(this.componentType,f,Ua(g,p),p,g)}}class zl extends class{}{constructor(t,e,n,i,s){super(),this.location=n,this._rootLView=i,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new gl(i),this.componentType=t}get injector(){return new Bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Bl=new Map;class Hl extends Tl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Nl(this);const n=Qt(t),i=t[Ft]||null;i&&Aa(i),this._bootstrapComponents=is(n.bootstrap),this._r3Injector=Yo(t,e,[{provide:Tl,useValue:this},{provide:Ba,useValue:this.componentFactoryResolver}],tt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ir.THROW_IF_NOT_FOUND,n=yt.Default){return t===ir||t===Tl||t===Ho?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ul extends El{constructor(t){super(),this.moduleType=t,null!==Qt(t)&&function(t){const e=new Set;!function t(n){const i=Qt(n,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${tt(e)} vs ${tt(e.name)}`)}(s,Bl.get(s),n),Bl.set(s,n));const o=is(i.imports);for(const r of o)e.has(r)||(e.add(r),t(r))}(t)}(t)}create(t){return new Hl(this.moduleType,t)}}function $l(t,e,n){const i=ze()+t,s=Ae();return s[i]===$s?gr(s,i,n?e.call(n):e()):mr(s,i)}function Wl(t,e,n,i){return Jl(Ae(),ze(),t,e,n,i)}function ql(t,e,n,i,s){return Xl(Ae(),ze(),t,e,n,i,s)}function Kl(t,e,n,i,s,o){return tc(Ae(),ze(),t,e,n,i,s,o)}function Gl(t,e,n,i,s,o,r){return function(t,e,n,i,s,o,r,a,l){const c=e+n;return vr(t,c,s,o,r,a)?gr(t,c+4,l?i.call(l,s,o,r,a):i(s,o,r,a)):Zl(t,c+4)}(Ae(),ze(),t,e,n,i,s,o,r)}function Yl(t,e,n,i,s,o,r,a){const l=ze()+t,c=Ae(),u=vr(c,l,n,i,s,o);return br(c,l+4,r)||u?gr(c,l+5,a?e.call(a,n,i,s,o,r):e(n,i,s,o,r)):mr(c,l+5)}function Ql(t,e,n,i,s,o,r,a,l){const c=ze()+t,u=Ae(),h=vr(u,c,n,i,s,o);return wr(u,c+4,r,a)||h?gr(u,c+6,l?e.call(l,n,i,s,o,r,a):e(n,i,s,o,r,a)):mr(u,c+6)}function Zl(t,e){const n=t[e];return n===$s?void 0:n}function Jl(t,e,n,i,s,o){const r=e+n;return br(t,r,s)?gr(t,r+1,o?i.call(o,s):i(s)):Zl(t,r+1)}function Xl(t,e,n,i,s,o,r){const a=e+n;return wr(t,a,s,o)?gr(t,a+2,r?i.call(r,s,o):i(s,o)):Zl(t,a+2)}function tc(t,e,n,i,s,o,r,a){const l=e+n;return yr(t,l,s,o,r)?gr(t,l+3,a?i.call(a,s,o,r):i(s,o,r)):Zl(t,l+3)}function ec(t,e){const n=Pe();let i;const s=t+Zt;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new rt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[s]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(s,i.onDestroy)):i=n.data[s];const o=i.factory||(i.factory=oe(i.type)),r=_t(Sr);try{const t=Sn(!1),e=o();return Sn(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Ae(),s,e),e}finally{_t(r)}}function nc(t,e,n){const i=t+Zt,s=Ae(),o=_e(s,i);return rc(s,oc(s,i)?Jl(s,ze(),e,o.transform,n,o):o.transform(n))}function ic(t,e,n,i){const s=t+Zt,o=Ae(),r=_e(o,s);return rc(o,oc(o,s)?Xl(o,ze(),e,r.transform,n,i,r):r.transform(n,i))}function sc(t,e,n,i,s){const o=t+Zt,r=Ae(),a=_e(r,o);return rc(r,oc(r,o)?tc(r,ze(),e,a.transform,n,i,s,a):a.transform(n,i,s))}function oc(t,e){return t[1].data[e].pure}function rc(t,e){return dr.isWrapped(e)&&(e=dr.unwrap(e),t[Be()]=$s),e}function ac(t){return e=>{setTimeout(t,void 0,e)}}const lc=class extends C{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var i,s,o;let r=t,a=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;r=null===(i=e.next)||void 0===i?void 0:i.bind(e),a=null===(s=e.error)||void 0===s?void 0:s.bind(e),l=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(a=ac(a),r&&(r=ac(r)),l&&(l=ac(l)));const c=super.subscribe({next:r,error:a,complete:l});return t instanceof h&&t.add(c),c}};function cc(){return this._results[hr()]()}class uc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=hr(),n=uc.prototype;n[e]||(n[e]=cc)}get changes(){return this._changes||(this._changes=new lc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=Qn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let s=t[i],o=e[i];if(n&&(s=n(s),o=n(o)),o!==s)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class hc{constructor(t){this.queryList=t,this.matches=null}clone(){return new hc(this.queryList)}setDirty(){this.queryList.setDirty()}}class dc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new dc(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Tc(t,e).matches&&this.queries[e].setDirty()}}class pc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class fc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,s=this.getByIndex(n).embeddedTView(t,i);s&&(s.indexInDeclarationView=n,null!==e?e.push(s):e=[s])}return null!==e?new fc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new gc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const s=n[i];this.matchTNodeWithReadOption(t,e,mc(e,s)),this.matchTNodeWithReadOption(t,e,Fn(e,t,s,!1,!1))}else n===kl?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Fn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Wa||i===Ol||i===kl&&4&e.type)this.addMatch(e.index,-2);else{const n=Fn(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function mc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function bc(t,e,n,i){return-1===n?function(t,e){return 11&t.type?Ua(t,e):4&t.type?xl(t,e):null}(e,t):-2===n?function(t,e,n){return n===Wa?Ua(e,t):n===kl?xl(e,t):n===Ol?Ll(e,t):void 0}(t,e,i):Vn(t,t[1],n,e)}function wc(t,e,n,i){const s=e[19].queries[i];if(null===s.matches){const i=t.data,o=n.matches,r=[];for(let t=0;t<o.length;t+=2){const s=o[t];r.push(s<0?null:bc(e,i[s],o[t+1],n.metadata.read))}s.matches=r}return s.matches}function yc(t,e,n,i){const s=t.queries.getByIndex(n),o=s.matches;if(null!==o){const r=wc(t,e,s,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)i.push(r[t/2]);else{const s=o[t+1],r=e[-n];for(let t=Jt;t<r.length;t++){const e=r[t];e[17]===e[3]&&yc(e[1],e,s,i)}if(null!==r[9]){const t=r[9];for(let e=0;e<t.length;e++){const n=t[e];yc(n[1],n,s,i)}}}}}return i}function vc(t){const e=Ae(),n=Pe(),i=qe();Ke(i+1);const s=Tc(n,i);if(t.dirty&&Ce(e)===(2==(2&s.metadata.flags))){if(null===s.matches)t.reset([]);else{const o=s.crossesNgTemplate?yc(n,e,i,[]):wc(n,e,s,i);t.reset(o,qa),t.notifyOnChanges()}return!0}return!1}function _c(t,e,n){const i=Pe();i.firstCreatePass&&(xc(i,new pc(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),Sc(i,Ae(),e)}function kc(t,e,n,i){const s=Pe();if(s.firstCreatePass){const o=De();xc(s,new pc(e,n,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(s,t),2==(2&n)&&(s.staticContentQueries=!0)}Sc(s,Ae(),n)}function Cc(){return t=Ae(),e=qe(),t[19].queries[e].queryList;var t,e}function Sc(t,e,n){const i=new uc(4==(4&n));po(t,e,i,i.destroy),null===e[19]&&(e[19]=new dc),e[19].queries.push(new hc(i))}function xc(t,e,n){null===t.queries&&(t.queries=new fc),t.queries.track(new gc(e,n))}function Tc(t,e){return t.queries.getByIndex(e)}function Ec(t,e){return xl(t,e)}const Ic=new Kn("Application Initializer");let Oc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ha,this.reject=Ha,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Lr(e))t.push(e);else if(Rr(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(hi(Ic,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Ac=new Kn("AppId"),Pc={provide:Ac,useFactory:function(){return`${Mc()}${Mc()}${Mc()}`},deps:[]};function Mc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Dc=new Kn("Platform Initializer"),Lc=new Kn("Platform ID"),Rc=new Kn("appBootstrapListener");let Nc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Fc=new Kn("LocaleId"),Vc=new Kn("DefaultCurrencyCode");class jc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const zc=function(t){return new Ul(t)},Bc=zc,Hc=function(t){return Promise.resolve(zc(t))},Uc=function(t){const e=zc(t),n=is(Qt(t).declarations).reduce((t,e)=>{const n=Yt(e);return n&&t.push(new jl(n)),t},[]);return new jc(e,n)},$c=Uc,Wc=function(t){return Promise.resolve(Uc(t))};let qc=(()=>{class t{constructor(){this.compileModuleSync=Bc,this.compileModuleAsync=Hc,this.compileModuleAndAllComponentsSync=$c,this.compileModuleAndAllComponentsAsync=Wc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Kc=(()=>Promise.resolve(0))();function Gc(t){"undefined"==typeof Zone?Kc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Yc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lc(!1),this.onMicrotaskEmpty=new lc(!1),this.onStable=new lc(!1),this.onError=new lc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=At.requestAnimationFrame,e=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(At,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jc(t),t.isCheckStableRunning=!0,Zc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,s,o,r,a)=>{try{return Xc(t),n.invokeTask(s,o,r,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),tu(t)}},onInvoke:(n,i,s,o,r,a,l)=>{try{return Xc(t),n.invoke(s,o,r,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),tu(t)}},onHasTask:(e,n,i,s)=>{e.hasTask(i,s),n===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Jc(t),Zc(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,n,i,s)=>(e.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Yc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,Qc,Ha,Ha);try{return s.runTask(o,e,n)}finally{s.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Qc={};function Zc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Xc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tu(t){t._nesting--,Zc(t)}class eu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lc,this.onMicrotaskEmpty=new lc,this.onStable=new lc,this.onError=new lc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let nu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yc.assertNotInAngularZone(),Gc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(hi(Yc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),iu=(()=>{class t{constructor(){this._applications=new Map,ru.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ru.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class su{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let ou,ru=new su,au=!1;const lu=new Kn("AllowMultipleToken");class cu{constructor(t,e){this.name=t,this.token=e}}function uu(t,e,n=[]){const i=`Platform: ${e}`,s=new Kn(i);return(e=[])=>{let o=hu();if(!o||o.injector.get(lu,!1))if(t)t(n.concat(e).concat({provide:s,useValue:!0}));else{const t=n.concat(e).concat({provide:s,useValue:!0},{provide:$o,useValue:"platform"});!function(t){if(ou&&!ou.destroyed&&!ou.injector.get(lu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ou=t.get(du);const e=t.get(Dc,null);e&&e.forEach(t=>t())}(ir.create({providers:t,name:i}))}return function(t){const e=hu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(s)}}function hu(){return ou&&!ou.destroyed?ou:null}let du=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new eu:("zone.js"===t?void 0:t)||new Yc({enableLongStackTrace:(au=!0,!0),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:Yc,useValue:n}];return n.run(()=>{const e=ir.create({providers:i,parent:this.injector,name:t.moduleType.name}),s=t.create(e),o=s.injector.get(es,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});s.onDestroy(()=>{gu(this._modules,s),t.unsubscribe()})}),function(t,e,n){try{const i=n();return Lr(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=s.injector.get(Oc);return t.runInitializers(),t.donePromise.then(()=>(Aa(s.injector.get(Fc,Ia)||Ia),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,e=[]){const n=pu({},e);return function(t,e,n){const i=new Ul(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(fu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${tt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(hi(ir))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function pu(t,e){return Array.isArray(e)?e.reduce(pu,t):Object.assign(Object.assign({},t),e)}let fu=(()=>{class t{constructor(t,e,n,i,s){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),r=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Yc.assertNotInAngularZone(),Gc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Yc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return x(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:U(e)($(t,n))}(o,r.pipe(t=>{return W()((e=Z,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,Y);return i.source=t,i.subjectFactory=n,i})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ja?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(Tl),s=n.create(ir.NULL,[],e||n.selector,i),o=s.location.nativeElement,r=s.injector.get(nu,null),a=r&&s.injector.get(iu);return r&&a&&a.registerApplication(o,r),s.onDestroy(()=>{this.detachView(s.hostView),gu(this.components,s),a&&a.unregisterApplication(o)}),this._loadComponent(s),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;gu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Rc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(hi(Yc),hi(ir),hi(es),hi(Ba),hi(Oc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function gu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class mu{}class bu{}const wu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let yu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||wu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n(255)(e).then(t=>t[i]).then(t=>vu(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),n(255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+s]).then(t=>vu(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(hi(qc),hi(bu,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function vu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const _u=uu(null,"core",[{provide:Lc,useValue:"unknown"},{provide:du,deps:[ir]},{provide:iu,deps:[]},{provide:Nc,deps:[]}]),ku=[{provide:fu,useClass:fu,deps:[Yc,ir,es,Ba,Oc]},{provide:Vl,deps:[Yc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Oc,useClass:Oc,deps:[[new mi,Ic]]},{provide:qc,useClass:qc,deps:[]},Pc,{provide:ul,useFactory:function(){return yl},deps:[]},{provide:dl,useFactory:function(){return vl},deps:[]},{provide:Fc,useFactory:function(t){return Aa(t=t||"undefined"!=typeof $localize&&$localize.locale||Ia),t},deps:[[new gi(Fc),new mi,new bi]]},{provide:Vc,useValue:"USD"}];let Cu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(hi(fu))},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:ku}),t})(),Su=null;function xu(){return Su}const Tu=new Kn("DocumentToken");let Eu=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:Iu,token:t,providedIn:"platform"}),t})();function Iu(){return hi(Au)}const Ou=new Kn("Location Initialized");let Au=(()=>{class t extends Eu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xu().getBaseHref(this._doc)}onPopState(t){const e=xu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=xu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Pu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Pu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(hi(Tu))},t.\u0275prov=ut({factory:Mu,token:t,providedIn:"platform"}),t})();function Pu(){return!!window.history.pushState}function Mu(){return new Au(hi(Tu))}function Du(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Lu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ru(t){return t&&"?"!==t[0]?"?"+t:t}let Nu=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:Fu,token:t,providedIn:"root"}),t})();function Fu(t){const e=hi(Tu).location;return new ju(hi(Eu),e&&e.origin||"")}const Vu=new Kn("appBaseHref");let ju=(()=>{class t extends Nu{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Du(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Ru(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const s=this.prepareExternalUrl(n+Ru(i));this._platformLocation.pushState(t,e,s)}replaceState(t,e,n,i){const s=this.prepareExternalUrl(n+Ru(i));this._platformLocation.replaceState(t,e,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(hi(Eu),hi(Vu,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),zu=(()=>{class t extends Nu{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Du(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let s=this.prepareExternalUrl(n+Ru(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,e,s)}replaceState(t,e,n,i){let s=this.prepareExternalUrl(n+Ru(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(hi(Eu),hi(Vu,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Bu=(()=>{class t{constructor(t,e){this._subject=new lc,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Lu(Uu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Ru(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Uu(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ru(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ru(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(hi(Nu),hi(Eu))},t.normalizeQueryParams=Ru,t.joinWithSlash=Du,t.stripTrailingSlash=Lu,t.\u0275prov=ut({factory:Hu,token:t,providedIn:"root"}),t})();function Hu(){return new Bu(hi(Nu),hi(Eu))}function Uu(t){return t.replace(/\/index.html$/,"")}var $u=(()=>(($u=$u||{})[$u.Zero=0]="Zero",$u[$u.One=1]="One",$u[$u.Two=2]="Two",$u[$u.Few=3]="Few",$u[$u.Many=4]="Many",$u[$u.Other=5]="Other",$u))(),Wu=(()=>((Wu=Wu||{})[Wu.Format=0]="Format",Wu[Wu.Standalone=1]="Standalone",Wu))(),qu=(()=>((qu=qu||{})[qu.Narrow=0]="Narrow",qu[qu.Abbreviated=1]="Abbreviated",qu[qu.Wide=2]="Wide",qu[qu.Short=3]="Short",qu))(),Ku=(()=>((Ku=Ku||{})[Ku.Short=0]="Short",Ku[Ku.Medium=1]="Medium",Ku[Ku.Long=2]="Long",Ku[Ku.Full=3]="Full",Ku))(),Gu=(()=>((Gu=Gu||{})[Gu.Decimal=0]="Decimal",Gu[Gu.Group=1]="Group",Gu[Gu.List=2]="List",Gu[Gu.PercentSign=3]="PercentSign",Gu[Gu.PlusSign=4]="PlusSign",Gu[Gu.MinusSign=5]="MinusSign",Gu[Gu.Exponential=6]="Exponential",Gu[Gu.SuperscriptingExponent=7]="SuperscriptingExponent",Gu[Gu.PerMille=8]="PerMille",Gu[Gu[1/0]=9]="Infinity",Gu[Gu.NaN=10]="NaN",Gu[Gu.TimeSeparator=11]="TimeSeparator",Gu[Gu.CurrencyDecimal=12]="CurrencyDecimal",Gu[Gu.CurrencyGroup=13]="CurrencyGroup",Gu))();function Yu(t,e){return th(xa(t)[Ea.DateFormat],e)}function Qu(t,e){return th(xa(t)[Ea.TimeFormat],e)}function Zu(t,e){return th(xa(t)[Ea.DateTimeFormat],e)}function Ju(t,e){const n=xa(t),i=n[Ea.NumberSymbols][e];if(void 0===i){if(e===Gu.CurrencyDecimal)return n[Ea.NumberSymbols][Gu.Decimal];if(e===Gu.CurrencyGroup)return n[Ea.NumberSymbols][Gu.Group]}return i}function Xu(t){if(!t[Ea.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ea.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function th(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function eh(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const nh=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ih={},sh=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var oh=(()=>((oh=oh||{})[oh.Short=0]="Short",oh[oh.ShortGMT=1]="ShortGMT",oh[oh.Long=2]="Long",oh[oh.Extended=3]="Extended",oh))(),rh=(()=>((rh=rh||{})[rh.FullYear=0]="FullYear",rh[rh.Month=1]="Month",rh[rh.Date=2]="Date",rh[rh.Hours=3]="Hours",rh[rh.Minutes=4]="Minutes",rh[rh.Seconds=5]="Seconds",rh[rh.FractionalSeconds=6]="FractionalSeconds",rh[rh.Day=7]="Day",rh))(),ah=(()=>((ah=ah||{})[ah.DayPeriods=0]="DayPeriods",ah[ah.Days=1]="Days",ah[ah.Months=2]="Months",ah[ah.Eras=3]="Eras",ah))();function lh(t,e,n,i){let s=function(t){if(_h(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,i=1]=t.split("-").map(t=>+t);return ch(e,n-1,i)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(nh))return function(t){const e=new Date(0);let n=0,i=0;const s=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),s.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const r=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,r,a,l,c),e}(n)}const e=new Date(t);if(!_h(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=uh(n,e)||e;let o,r=[];for(;e;){if(o=sh.exec(e),!o){r.push(e);break}{r=r.concat(o.slice(1));const t=r.pop();if(!t)break;e=t}}let a=s.getTimezoneOffset();i&&(a=vh(i,a),s=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(vh(e,i)-i))}(s,i));let l="";return r.forEach(t=>{const e=function(t){if(yh[t])return yh[t];let e;switch(t){case"G":case"GG":case"GGG":e=fh(ah.Eras,qu.Abbreviated);break;case"GGGG":e=fh(ah.Eras,qu.Wide);break;case"GGGGG":e=fh(ah.Eras,qu.Narrow);break;case"y":e=ph(rh.FullYear,1,0,!1,!0);break;case"yy":e=ph(rh.FullYear,2,0,!0,!0);break;case"yyy":e=ph(rh.FullYear,3,0,!1,!0);break;case"yyyy":e=ph(rh.FullYear,4,0,!1,!0);break;case"Y":e=wh(1);break;case"YY":e=wh(2,!0);break;case"YYY":e=wh(3);break;case"YYYY":e=wh(4);break;case"M":case"L":e=ph(rh.Month,1,1);break;case"MM":case"LL":e=ph(rh.Month,2,1);break;case"MMM":e=fh(ah.Months,qu.Abbreviated);break;case"MMMM":e=fh(ah.Months,qu.Wide);break;case"MMMMM":e=fh(ah.Months,qu.Narrow);break;case"LLL":e=fh(ah.Months,qu.Abbreviated,Wu.Standalone);break;case"LLLL":e=fh(ah.Months,qu.Wide,Wu.Standalone);break;case"LLLLL":e=fh(ah.Months,qu.Narrow,Wu.Standalone);break;case"w":e=bh(1);break;case"ww":e=bh(2);break;case"W":e=bh(1,!0);break;case"d":e=ph(rh.Date,1);break;case"dd":e=ph(rh.Date,2);break;case"c":case"cc":e=ph(rh.Day,1);break;case"ccc":e=fh(ah.Days,qu.Abbreviated,Wu.Standalone);break;case"cccc":e=fh(ah.Days,qu.Wide,Wu.Standalone);break;case"ccccc":e=fh(ah.Days,qu.Narrow,Wu.Standalone);break;case"cccccc":e=fh(ah.Days,qu.Short,Wu.Standalone);break;case"E":case"EE":case"EEE":e=fh(ah.Days,qu.Abbreviated);break;case"EEEE":e=fh(ah.Days,qu.Wide);break;case"EEEEE":e=fh(ah.Days,qu.Narrow);break;case"EEEEEE":e=fh(ah.Days,qu.Short);break;case"a":case"aa":case"aaa":e=fh(ah.DayPeriods,qu.Abbreviated);break;case"aaaa":e=fh(ah.DayPeriods,qu.Wide);break;case"aaaaa":e=fh(ah.DayPeriods,qu.Narrow);break;case"b":case"bb":case"bbb":e=fh(ah.DayPeriods,qu.Abbreviated,Wu.Standalone,!0);break;case"bbbb":e=fh(ah.DayPeriods,qu.Wide,Wu.Standalone,!0);break;case"bbbbb":e=fh(ah.DayPeriods,qu.Narrow,Wu.Standalone,!0);break;case"B":case"BB":case"BBB":e=fh(ah.DayPeriods,qu.Abbreviated,Wu.Format,!0);break;case"BBBB":e=fh(ah.DayPeriods,qu.Wide,Wu.Format,!0);break;case"BBBBB":e=fh(ah.DayPeriods,qu.Narrow,Wu.Format,!0);break;case"h":e=ph(rh.Hours,1,-12);break;case"hh":e=ph(rh.Hours,2,-12);break;case"H":e=ph(rh.Hours,1);break;case"HH":e=ph(rh.Hours,2);break;case"m":e=ph(rh.Minutes,1);break;case"mm":e=ph(rh.Minutes,2);break;case"s":e=ph(rh.Seconds,1);break;case"ss":e=ph(rh.Seconds,2);break;case"S":e=ph(rh.FractionalSeconds,1);break;case"SS":e=ph(rh.FractionalSeconds,2);break;case"SSS":e=ph(rh.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=gh(oh.Short);break;case"ZZZZZ":e=gh(oh.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=gh(oh.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=gh(oh.Long);break;default:return null}return yh[t]=e,e}(t);l+=e?e(s,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function ch(t,e,n){const i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function uh(t,e){const n=function(t){return xa(t)[Ea.LocaleId]}(t);if(ih[n]=ih[n]||{},ih[n][e])return ih[n][e];let i="";switch(e){case"shortDate":i=Yu(t,Ku.Short);break;case"mediumDate":i=Yu(t,Ku.Medium);break;case"longDate":i=Yu(t,Ku.Long);break;case"fullDate":i=Yu(t,Ku.Full);break;case"shortTime":i=Qu(t,Ku.Short);break;case"mediumTime":i=Qu(t,Ku.Medium);break;case"longTime":i=Qu(t,Ku.Long);break;case"fullTime":i=Qu(t,Ku.Full);break;case"short":const e=uh(t,"shortTime"),n=uh(t,"shortDate");i=hh(Zu(t,Ku.Short),[e,n]);break;case"medium":const s=uh(t,"mediumTime"),o=uh(t,"mediumDate");i=hh(Zu(t,Ku.Medium),[s,o]);break;case"long":const r=uh(t,"longTime"),a=uh(t,"longDate");i=hh(Zu(t,Ku.Long),[r,a]);break;case"full":const l=uh(t,"fullTime"),c=uh(t,"fullDate");i=hh(Zu(t,Ku.Full),[l,c])}return i&&(ih[n][e]=i),i}function hh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function dh(t,e,n="-",i,s){let o="";(t<0||s&&t<=0)&&(s?t=1-t:(t=-t,o=n));let r=String(t);for(;r.length<e;)r="0"+r;return i&&(r=r.substr(r.length-e)),o+r}function ph(t,e,n=0,i=!1,s=!1){return function(o,r){let a=function(t,e){switch(t){case rh.FullYear:return e.getFullYear();case rh.Month:return e.getMonth();case rh.Date:return e.getDate();case rh.Hours:return e.getHours();case rh.Minutes:return e.getMinutes();case rh.Seconds:return e.getSeconds();case rh.FractionalSeconds:return e.getMilliseconds();case rh.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===rh.Hours)0===a&&-12===n&&(a=12);else if(t===rh.FractionalSeconds)return l=e,dh(a,3).substr(0,l);var l;const c=Ju(r,Gu.MinusSign);return dh(a,e,c,i,s)}}function fh(t,e,n=Wu.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case ah.Months:return function(t,e,n){const i=xa(t),s=th([i[Ea.MonthsFormat],i[Ea.MonthsStandalone]],e);return th(s,n)}(e,s,i)[t.getMonth()];case ah.Days:return function(t,e,n){const i=xa(t),s=th([i[Ea.DaysFormat],i[Ea.DaysStandalone]],e);return th(s,n)}(e,s,i)[t.getDay()];case ah.DayPeriods:const r=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=xa(t);return Xu(e),(e[Ea.ExtraData][2]||[]).map(t=>"string"==typeof t?eh(t):[eh(t[0]),eh(t[1])])}(e),n=function(t,e,n){const i=xa(t);Xu(i);const s=th([i[Ea.ExtraData][0],i[Ea.ExtraData][1]],e)||[];return th(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,i=r>=e.hours&&a>=e.minutes,s=r<n.hours||r===n.hours&&a<n.minutes;if(e.hours<n.hours){if(i&&s)return!0}else if(i||s)return!0}else if(t.hours===r&&t.minutes===a)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=xa(t),s=th([i[Ea.DayPeriodsFormat],i[Ea.DayPeriodsStandalone]],e);return th(s,n)}(e,s,i)[r<12?0:1];case ah.Eras:return function(t,e){return th(xa(t)[Ea.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,i)}}function gh(t){return function(e,n,i){const s=-1*i,o=Ju(n,Gu.MinusSign),r=s>0?Math.floor(s/60):Math.ceil(s/60);switch(t){case oh.Short:return(s>=0?"+":"")+dh(r,2,o)+dh(Math.abs(s%60),2,o);case oh.ShortGMT:return"GMT"+(s>=0?"+":"")+dh(r,1,o);case oh.Long:return"GMT"+(s>=0?"+":"")+dh(r,2,o)+":"+dh(Math.abs(s%60),2,o);case oh.Extended:return 0===i?"Z":(s>=0?"+":"")+dh(r,2,o)+":"+dh(Math.abs(s%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function mh(t){return ch(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function bh(t,e=!1){return function(n,i){let s;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();s=1+Math.floor((e+t)/7)}else{const t=mh(n),e=function(t){const e=ch(t,0,1).getDay();return ch(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),i=t.getTime()-e.getTime();s=1+Math.round(i/6048e5)}return dh(s,t,Ju(i,Gu.MinusSign))}}function wh(t,e=!1){return function(n,i){return dh(mh(n).getFullYear(),t,Ju(i,Gu.MinusSign),e)}}const yh={};function vh(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function _h(t){return t instanceof Date&&!isNaN(t.valueOf())}class kh{}let Ch=(()=>{class t extends kh{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return xa(t)[Ea.PluralCase]}(e||this.locale)(t)){case $u.Zero:return"zero";case $u.One:return"one";case $u.Two:return"two";case $u.Few:return"few";case $u.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(hi(Fc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Sh(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,s]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let xh=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(pr(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${tt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Sr(ul),Sr(dl),Sr(Wa),Sr(Ga))},t.\u0275dir=Kt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Th{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Eh=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Th(null,this._ngForOf,-1,-1),null===i?void 0:i),s=new Ih(t,n);e.push(s)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const s=this._viewContainer.get(n);this._viewContainer.move(s,i);const o=new Ih(t,s);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Sr(Ol),Sr(kl),Sr(ul))},t.\u0275dir=Kt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Ih{constructor(t,e){this.record=t,this.view=e}}let Oh=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Ah,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ph("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ph("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Sr(Ol),Sr(kl))},t.\u0275dir=Kt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Ah{constructor(){this.$implicit=null,this.ngIf=null}}function Ph(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${tt(e)}'.`)}let Mh=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(dl),Sr(Ga))},t.\u0275dir=Kt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Dh=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(Sr(Ol))},t.\u0275dir=Kt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ae]}),t})();function Lh(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${tt(t)}'`)}let Rh=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,s){if(null==e||""===e||e!=e)return null;try{return lh(e,n,s||this.locale,i)}catch(o){throw Lh(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(Sr(Fc,16))},t.\u0275pipe=Gt({name:"date",type:t,pure:!0}),t})(),Nh=(()=>{class t{transform(e,n,i){if(null==e)return null;if(!this.supports(e))throw Lh(t,e);return e.slice(n,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Gt({name:"slice",type:t,pure:!1}),t})(),Fh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:[{provide:kh,useClass:Ch}]}),t})(),Vh=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new jh(hi(Tu),window)}),t})();class jh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const t=i.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],i-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=zh(this.window.history)||zh(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function zh(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Bh{}class Hh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Hh,Su||(Su=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=($h=$h||document.querySelector("base"),$h?$h.getAttribute("href"):null);return null==e?null:function(t){Uh=Uh||document.createElement("a"),Uh.setAttribute("href",t);const e=Uh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){$h=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Sh(document.cookie,t)}}let Uh,$h=null;const Wh=new Kn("TRANSITION_ID"),qh=[{provide:Ic,useFactory:function(t,e,n){return()=>{n.get(Oc).donePromise.then(()=>{const n=xu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Wh,Tu,ir],multi:!0}];class Kh{static init(){var t;t=new Kh,ru=t}addToWindow(t){At.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(t=>{const e=At.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?xu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Gh=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Yh=new Kn("EventManagerPlugins");let Qh=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(hi(Yh),hi(Yc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Zh{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=xu().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let Jh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Xh=(()=>{class t extends Jh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const i=this._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(td),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(td))}}return t.\u0275fac=function(e){return new(e||t)(hi(Tu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function td(t){xu().remove(t)}const ed={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nd=/%COMP%/g;function id(t,e,n){for(let i=0;i<e.length;i++){let s=e[i];Array.isArray(s)?id(t,s,n):(s=s.replace(nd,t),n.push(s))}return n}function sd(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let od=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rd(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case xt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ad(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case xt.ShadowDom:return new ld(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=id(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(hi(Qh),hi(Xh),hi(Ac))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class rd{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ed[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const s=ed[i];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=ed[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(ss.DashCase|ss.Important)?t.style.setProperty(e,n,i&ss.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ss.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,sd(n)):this.eventManager.addEventListener(t,e,sd(n))}}class ad extends rd{constructor(t,e,n,i){super(t),this.component=n;const s=id(i+"-"+n.id,n.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(nd,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nd,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ld extends rd{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=id(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const t=document.createElement("style");t.textContent=s[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let cd=(()=>{class t extends Zh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(hi(Tu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const ud=["alt","control","meta","shift"],hd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pd={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let fd=(()=>{class t extends Zh{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xu().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(n.pop());let o="";if(ud.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=s,0!=n.length||0===s.length)return null;const r={};return r.domEventName=i,r.fullKey=o,r}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dd.hasOwnProperty(e)&&(e=dd[e]))}return hd[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ud.forEach(i=>{i!=n&&(0,pd[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return s=>{t.getEventFullKey(s)===e&&i.runGuarded(()=>n(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(hi(Tu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const gd=uu(_u,"browser",[{provide:Lc,useValue:"browser"},{provide:Dc,useValue:function(){Hh.makeCurrent(),Kh.init()},multi:!0},{provide:Tu,useFactory:function(){return function(t){pe=t}(document),document},deps:[]}]),md=[[],{provide:$o,useValue:"root"},{provide:es,useFactory:function(){return new es},deps:[]},{provide:Yh,useClass:cd,multi:!0,deps:[Tu,Yc,Lc]},{provide:Yh,useClass:fd,multi:!0,deps:[Tu]},[],{provide:od,useClass:od,deps:[Qh,Xh,Ac]},{provide:Ka,useExisting:od},{provide:Jh,useExisting:Xh},{provide:Xh,useClass:Xh,deps:[Tu]},{provide:nu,useClass:nu,deps:[Yc]},{provide:Qh,useClass:Qh,deps:[Yh,Yc]},{provide:Bh,useClass:Gh,deps:[]},[]];let bd=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Ac,useValue:e.appId},{provide:Wh,useExisting:Ac},qh]}}}return t.\u0275fac=function(e){return new(e||t)(hi(t,12))},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:md,imports:[Fh,Cu]}),t})();"undefined"!=typeof window&&window;class wd{}const yd="*";function vd(t,e){return{type:7,name:t,definitions:e,options:{}}}function _d(t,e=null){return{type:4,styles:e,timings:t}}function kd(t,e=null){return{type:2,steps:t,options:e}}function Cd(t){return{type:6,styles:t,offset:null}}function Sd(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function xd(t,e=null){return{type:8,animation:t,options:e}}function Td(t,e=null){return{type:10,animation:t,options:e}}function Ed(t){Promise.resolve(null).then(t)}class Id{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ed(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Od{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const s=this.players.length;0==s?Ed(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==s&&this._onFinish()}),t.onDestroy(()=>{++n==s&&this._onDestroy()}),t.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}let Ad=(()=>{class t{static addClass(t,e){t.classList?t.classList.add(e):t.className+=" "+e}static addMultipleClasses(t,e){if(t.classList){let n=e.trim().split(" ");for(let e=0;e<n.length;e++)t.classList.add(n[e])}else{let n=e.split(" ");for(let e=0;e<n.length;e++)t.className+=" "+n[e]}}static removeClass(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(e){return e!==t})}static find(t,e){return Array.from(t.querySelectorAll(e))}static findSingle(t,e){return t?t.querySelector(e):null}static index(t){let e=t.parentNode.childNodes,n=0;for(var i=0;i<e.length;i++){if(e[i]==t)return n;1==e[i].nodeType&&n++}return-1}static indexWithinGroup(t,e){let n=t.parentNode?t.parentNode.childNodes:[],i=0;for(var s=0;s<n.length;s++){if(n[s]==t)return i;n[s].attributes&&n[s].attributes[e]&&1==n[s].nodeType&&i++}return-1}static relativePosition(t,e){let n=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const i=e.offsetHeight,s=e.getBoundingClientRect(),o=this.getViewport();let r,a;s.top+i+n.height>o.height?(r=-1*n.height,t.style.transformOrigin="bottom",s.top+r<0&&(r=-1*s.top)):(r=i,t.style.transformOrigin="top"),a=n.width>o.width?-1*s.left:s.left+n.width>o.width?-1*(s.left+n.width-o.width):0,t.style.top=r+"px",t.style.left=a+"px"}static absolutePosition(t,e){let n,i,s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,r=s.width,a=e.offsetHeight,l=e.offsetWidth,c=e.getBoundingClientRect(),u=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),d=this.getViewport();c.top+a+o>d.height?(n=c.top+u-o,t.style.transformOrigin="bottom",n<0&&(n=u)):(n=a+c.top+u,t.style.transformOrigin="top"),i=c.left+r>d.width?Math.max(0,c.left+h+l-r):c.left+h,t.style.top=n+"px",t.style.left=i+"px"}static getParents(t,e=[]){return null===t.parentNode?e:this.getParents(t.parentNode,e.concat([t.parentNode]))}static getScrollableParents(t){let e=[];if(t){let n=this.getParents(t);const i=/(auto|scroll)/,s=t=>{let e=window.getComputedStyle(t,null);return i.test(e.getPropertyValue("overflow"))||i.test(e.getPropertyValue("overflowX"))||i.test(e.getPropertyValue("overflowY"))};for(let t of n){let n=1===t.nodeType&&t.dataset.scrollselectors;if(n){let i=n.split(",");for(let n of i){let i=this.findSingle(t,n);i&&s(i)&&e.push(i)}}9!==t.nodeType&&s(t)&&e.push(t)}}return e}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementDimensions(t){let e={};return t.style.visibility="hidden",t.style.display="block",e.width=t.offsetWidth,e.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",e}static scrollInView(t,e){let n=getComputedStyle(t).getPropertyValue("borderTopWidth"),i=n?parseFloat(n):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,r=t.getBoundingClientRect(),a=e.getBoundingClientRect().top+document.body.scrollTop-(r.top+document.body.scrollTop)-i-o,l=t.scrollTop,c=t.clientHeight,u=this.getOuterHeight(e);a<0?t.scrollTop=l+a:a+u>c&&(t.scrollTop=l+a-c+u)}static fadeIn(t,e){t.style.opacity=0;let n=+new Date,i=0,s=function(){i=+t.style.opacity.replace(",",".")+((new Date).getTime()-n)/e,t.style.opacity=i,n=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(t,e){var n=1,i=50/e;let s=setInterval(()=>{(n-=i)<=0&&(n=0,clearInterval(s)),t.style.opacity=n},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,e){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)}).call(t,e)}static getOuterWidth(t,e){let n=t.offsetWidth;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginLeft)+parseFloat(e.marginRight)}return n}static getHorizontalPadding(t){let e=getComputedStyle(t);return parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)}static getHorizontalMargin(t){let e=getComputedStyle(t);return parseFloat(e.marginLeft)+parseFloat(e.marginRight)}static innerWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static width(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static getInnerHeight(t){let e=t.offsetHeight,n=getComputedStyle(t);return e+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),e}static getOuterHeight(t,e){let n=t.offsetHeight;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)}return n}static getHeight(t){let e=t.offsetHeight,n=getComputedStyle(t);return e-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),e}static getWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),e}static getViewport(){let t=window,e=document,n=e.documentElement,i=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||i.clientWidth,height:t.innerHeight||n.clientHeight||i.clientHeight}}static getOffset(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,e){let n=t.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(e,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static appendChild(t,e){if(this.isElement(e))e.appendChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot append "+e+" to "+t;e.el.nativeElement.appendChild(t)}}static removeChild(t,e){if(this.isElement(e))e.removeChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot remove "+t+" from "+e;e.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let e=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let e=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e}static invokeElementMethod(t,e,n){t[e].apply(t,n)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(e){let n=t.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),i=[];for(let t of n)"none"!=getComputedStyle(t).display&&"hidden"!=getComputedStyle(t).visibility&&i.push(t);return i}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t})();class Pd{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Ad.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class Md{static equals(t,e,n){return n?this.resolveFieldData(t,n)===this.resolveFieldData(e,n):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var n,i,s,o=Array.isArray(t),r=Array.isArray(e);if(o&&r){if((i=t.length)!=e.length)return!1;for(n=i;0!=n--;)if(!this.equalsByValue(t[n],e[n]))return!1;return!0}if(o!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var c=t instanceof RegExp,u=e instanceof RegExp;if(c!=u)return!1;if(c&&u)return t.toString()==e.toString();var h=Object.keys(t);if((i=h.length)!==Object.keys(e).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(e,h[n]))return!1;for(n=i;0!=n--;)if(!this.equalsByValue(t[s=h[n]],e[s]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let n=e.split("."),i=t;for(let t=0,e=n.length;t<e;++t){if(null==i)return null;i=i[n[t]]}return i}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,n){t&&e!==n&&(n>=t.length&&(n%=t.length,e%=t.length),t.splice(n,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,n,i){if(n.length>0){let s=!1;for(let o=0;o<n.length;o++)if(this.findIndexInList(n[o],i)>e){n.splice(o,0,t),s=!0;break}s||n.push(t)}else n.push(t)}static findIndexInList(t,e){let n=-1;if(e)for(let i=0;i<e.length;i++)if(e[i]==t){n=i;break}return n}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}}var Dd=0;function Ld(){return"pr_id_"+ ++Dd}const Rd=["*"];let Nd=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t})(),Fd=(()=>{class t{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Nd.STARTS_WITH,Nd.CONTAINS,Nd.NOT_CONTAINS,Nd.ENDS_WITH,Nd.EQUALS,Nd.NOT_EQUALS],numeric:[Nd.EQUALS,Nd.NOT_EQUALS,Nd.LESS_THAN,Nd.LESS_THAN_OR_EQUAL_TO,Nd.GREATER_THAN,Nd.GREATER_THAN_OR_EQUAL_TO],date:[Nd.DATE_IS,Nd.DATE_IS_NOT,Nd.DATE_BEFORE,Nd.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.translationSource=new C,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Object.assign(Object.assign({},this.translation),t),this.translationSource.next(this.translation)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vd=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.NO_FILTER="noFilter",t.LT="lt",t.LTE="lte",t.GT="gt",t.GTE="gte",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.CLEAR="clear",t.APPLY="apply",t.MATCH_ALL="matchAll",t.MATCH_ANY="matchAny",t.ADD_RULE="addRule",t.REMOVE_RULE="removeRule",t.ACCEPT="accept",t.REJECT="reject",t.CHOOSE="choose",t.UPLOAD="upload",t.CANCEL="cancel",t.DAY_NAMES="dayNames",t.DAY_NAMES_SHORT="dayNamesShort",t.DAY_NAMES_MIN="dayNamesMin",t.MONTH_NAMES="monthNames",t.MONTH_NAMES_SHORT="monthNamesShort",t.TODAY="today",t.WEEK_HEADER="weekHeader",t.WEAK="weak",t.MEDIUM="medium",t.STRONG="strong",t.PASSWORD_PROMPT="passwordPrompt",t.EMPTY_MESSAGE="emptyMessage",t.EMPTY_FILTER_MESSAGE="emptyFilterMessage",t})(),jd=(()=>{class t{constructor(){this.filters={startsWith:(t,e,n)=>{if(null==e||""===e.trim())return!0;if(null==t)return!1;let i=Md.removeAccents(e.toString()).toLocaleLowerCase(n);return Md.removeAccents(t.toString()).toLocaleLowerCase(n).slice(0,i.length)===i},contains:(t,e,n)=>{if(null==e||"string"==typeof e&&""===e.trim())return!0;if(null==t)return!1;let i=Md.removeAccents(e.toString()).toLocaleLowerCase(n);return-1!==Md.removeAccents(t.toString()).toLocaleLowerCase(n).indexOf(i)},notContains:(t,e,n)=>{if(null==e||"string"==typeof e&&""===e.trim())return!0;if(null==t)return!1;let i=Md.removeAccents(e.toString()).toLocaleLowerCase(n);return-1===Md.removeAccents(t.toString()).toLocaleLowerCase(n).indexOf(i)},endsWith:(t,e,n)=>{if(null==e||""===e.trim())return!0;if(null==t)return!1;let i=Md.removeAccents(e.toString()).toLocaleLowerCase(n),s=Md.removeAccents(t.toString()).toLocaleLowerCase(n);return-1!==s.indexOf(i,s.length-i.length)},equals:(t,e,n)=>null==e||"string"==typeof e&&""===e.trim()||null!=t&&(t.getTime&&e.getTime?t.getTime()===e.getTime():Md.removeAccents(t.toString()).toLocaleLowerCase(n)==Md.removeAccents(e.toString()).toLocaleLowerCase(n)),notEquals:(t,e,n)=>!(null==e||"string"==typeof e&&""===e.trim()||null!=t&&(t.getTime&&e.getTime?t.getTime()===e.getTime():Md.removeAccents(t.toString()).toLocaleLowerCase(n)==Md.removeAccents(e.toString()).toLocaleLowerCase(n))),in:(t,e)=>{if(null==e||0===e.length)return!0;for(let n=0;n<e.length;n++)if(Md.equals(t,e[n]))return!0;return!1},between:(t,e)=>null==e||null==e[0]||null==e[1]||null!=t&&(t.getTime?e[0].getTime()<=t.getTime()&&t.getTime()<=e[1].getTime():e[0]<=t&&t<=e[1]),lt:(t,e,n)=>null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()<e.getTime():t<e),lte:(t,e,n)=>null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()<=e.getTime():t<=e),gt:(t,e,n)=>null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()>e.getTime():t>e),gte:(t,e,n)=>null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()>=e.getTime():t>=e),is:(t,e,n)=>this.filters.equals(t,e,n),isNot:(t,e,n)=>this.filters.notEquals(t,e,n),before:(t,e,n)=>this.filters.lt(t,e,n),after:(t,e,n)=>this.filters.gt(t,e,n),dateIs:(t,e)=>null==e||null!=t&&t.toDateString()===e.toDateString(),dateIsNot:(t,e)=>null==e||null!=t&&t.toDateString()!==e.toDateString(),dateBefore:(t,e)=>null==e||null!=t&&t.getTime()<e.getTime(),dateAfter:(t,e)=>null==e||null!=t&&t.getTime()>e.getTime()}}filter(t,e,n,i,s){let o=[];if(t)for(let r of t)for(let t of e){let e=Md.resolveFieldData(r,t);if(this.filters[i](e,n,s)){o.push(r);break}}return o}register(t,e){this.filters[t]=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zd=(()=>{class t{constructor(){this.activeItemKeyChange=new C,this.activeItemKeyChange$=this.activeItemKeyChange.asObservable()}changeKey(t){this.activeItemKey=t,this.activeItemKeyChange.next(this.activeItemKey)}reset(){this.activeItemKey=null,this.activeItemKeyChange.next(this.activeItemKey)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Bd=(()=>{class t{}return t.AND="and",t.OR="or",t})(),Hd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["p-header"]],ngContentSelectors:Rd,decls:1,vars:0,template:function(t,e){1&t&&(Br(),Hr(0))},encapsulation:2}),t})(),Ud=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["p-footer"]],ngContentSelectors:Rd,decls:1,vars:0,template:function(t,e){1&t&&(Br(),Hr(0))},encapsulation:2}),t})(),$d=(()=>{class t{constructor(t){this.template=t}getType(){return this.name}}return t.\u0275fac=function(e){return new(e||t)(Sr(kl))},t.\u0275dir=Kt({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),t})(),Wd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh]]}),t})(),qd=(()=>{class t{constructor(t){this.el=t}onkeydown(t){if(!0!==this.pFocusTrapDisabled){t.preventDefault();let e=Ad.getFocusableElements(this.el.nativeElement);if(e&&e.length>0)if(e[0].ownerDocument.activeElement){let n=e.indexOf(e[0].ownerDocument.activeElement);t.shiftKey?-1==n||0===n?e[e.length-1].focus():e[n-1].focus():-1==n||n===e.length-1?e[0].focus():e[n+1].focus()}else e[0].focus()}}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa))},t.\u0275dir=Kt({type:t,selectors:[["","pFocusTrap",""]],hostBindings:function(t,e){1&t&&Nr("keydown.tab",function(t){return e.onkeydown(t)})("keydown.shift.tab",function(t){return e.onkeydown(t)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),t})(),Kd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh]]}),t})(),Gd=(()=>{class t{constructor(t,e,n){this.el=t,this.zone=e,this.config=n}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let e=this.getInk();if(!e||"none"===getComputedStyle(e,null).display)return;if(Ad.removeClass(e,"p-ink-active"),!Ad.getHeight(e)&&!Ad.getWidth(e)){let t=Math.max(Ad.getOuterWidth(this.el.nativeElement),Ad.getOuterHeight(this.el.nativeElement));e.style.height=t+"px",e.style.width=t+"px"}let n=Ad.getOffset(this.el.nativeElement),i=t.pageX-n.left+document.body.scrollTop-Ad.getWidth(e)/2,s=t.pageY-n.top+document.body.scrollLeft-Ad.getHeight(e)/2;e.style.top=s+"px",e.style.left=i+"px",Ad.addClass(e,"p-ink-active")}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&Ad.removeClass(t,"p-ink-active")}onAnimationEnd(t){Ad.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),Ad.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(Yc),Sr(Fd,8))},t.\u0275dir=Kt({type:t,selectors:[["","pRipple",""]],hostVars:2,hostBindings:function(t,e){2&t&&ea("p-ripple",!0)}}),t})(),Yd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh]]}),t})();const Qd=["titlebar"],Zd=["content"],Jd=["footer"];function Xd(t,e){if(1&t&&(Er(0,"span",16),ba(1),Ir()),2&t){const t=jr(4);_r("id",t.id+"-label"),Ws(1),wa(t.header)}}function tp(t,e){1&t&&(Er(0,"span",16),Hr(1,1),Ir()),2&t&&_r("id",jr(4).id+"-label")}function ep(t,e){1&t&&Mr(0)}const np=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function ip(t,e){if(1&t){const t=Dr();Er(0,"button",17),Nr("click",function(){return Me(t),jr(4).maximize()})("keydown.enter",function(){return Me(t),jr(4).maximize()}),Or(1,"span",18),Ir()}if(2&t){const t=jr(4);xr("ngClass",$l(2,np)),Ws(1),xr("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}const sp=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function op(t,e){if(1&t){const t=Dr();Er(0,"button",17),Nr("click",function(e){return Me(t),jr(4).close(e)})("keydown.enter",function(e){return Me(t),jr(4).close(e)}),Or(1,"span",19),Ir()}if(2&t){const t=jr(4);xr("ngClass",$l(2,sp)),Ws(1),xr("ngClass",t.closeIcon)}}function rp(t,e){if(1&t){const t=Dr();Er(0,"div",11,12),Nr("mousedown",function(e){return Me(t),jr(3).initDrag(e)}),kr(2,Xd,2,2,"span",13),kr(3,tp,2,1,"span",13),kr(4,ep,1,0,"ng-container",8),Er(5,"div",14),kr(6,ip,2,3,"button",15),kr(7,op,2,3,"button",15),Ir(),Ir()}if(2&t){const t=jr(3);Ws(2),xr("ngIf",t.header),Ws(1),xr("ngIf",t.headerFacet),Ws(1),xr("ngTemplateOutlet",t.headerTemplate),Ws(2),xr("ngIf",t.maximizable),Ws(1),xr("ngIf",t.closable)}}function ap(t,e){1&t&&Mr(0)}function lp(t,e){1&t&&Mr(0)}function cp(t,e){if(1&t&&(Er(0,"div",20,21),Hr(2,2),kr(3,lp,1,0,"ng-container",8),Ir()),2&t){const t=jr(3);Ws(3),xr("ngTemplateOutlet",t.footerTemplate)}}function up(t,e){if(1&t){const t=Dr();Er(0,"div",22),Nr("mousedown",function(e){return Me(t),jr(3).initResize(e)}),Ir()}}const hp=function(t,e,n,i){return{"p-dialog p-component":!0,"p-dialog-rtl":t,"p-dialog-draggable":e,"p-dialog-resizable":n,"p-dialog-maximized":i}},dp=function(t,e){return{transform:t,transition:e}},pp=function(t){return{value:"visible",params:t}};function fp(t,e){if(1&t){const t=Dr();Er(0,"div",3,4),Nr("@animation.start",function(e){return Me(t),jr(2).onAnimationStart(e)})("@animation.done",function(e){return Me(t),jr(2).onAnimationEnd(e)}),kr(2,rp,8,5,"div",5),Er(3,"div",6,7),Hr(5),kr(6,ap,1,0,"ng-container",8),Ir(),kr(7,cp,4,1,"div",9),kr(8,up,1,0,"div",10),Ir()}if(2&t){const t=jr(2);sa(t.styleClass),xr("ngClass",Gl(15,hp,t.rtl,t.draggable,t.resizable,t.maximized))("ngStyle",t.style)("pFocusTrapDisabled",!1===t.focusTrap)("@animation",Wl(23,pp,ql(20,dp,t.transformOptions,t.transitionOptions))),_r("aria-labelledby",t.id+"-label"),Ws(2),xr("ngIf",t.showHeader),Ws(1),sa(t.contentStyleClass),xr("ngClass","p-dialog-content")("ngStyle",t.contentStyle),Ws(3),xr("ngTemplateOutlet",t.contentTemplate),Ws(1),xr("ngIf",t.footerFacet||t.footerTemplate),Ws(1),xr("ngIf",t.resizable)}}const gp=function(t,e,n,i,s,o,r,a,l,c){return{"p-dialog-mask":!0,"p-component-overlay":t,"p-dialog-mask-scrollblocker":e,"p-dialog-left":n,"p-dialog-right":i,"p-dialog-top":s,"p-dialog-top-left":o,"p-dialog-top-right":r,"p-dialog-bottom":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":c}};function mp(t,e){if(1&t&&(Er(0,"div",1),kr(1,fp,9,25,"div",2),Ir()),2&t){const t=jr();sa(t.maskStyleClass),xr("ngClass",(n=4,i=gp,s=[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position],function(t,e,n,i,s,o){let r=e+n,a=!1;for(let l=0;l<s.length;l++)br(t,r++,s[l])&&(a=!0);return a?gr(t,r,i.apply(o,s)):Zl(t,r)}(Ae(),ze(),n,i,s,o))),Ws(1),xr("ngIf",t.visible)}var n,i,s,o}const bp=["*",[["p-header"]],[["p-footer"]]],wp=["*","p-header","p-footer"],yp=xd([Cd({transform:"{{transform}}",opacity:0}),_d("{{transition}}")]),vp=xd([_d("{{transition}}",Cd({transform:"{{transform}}",opacity:0}))]);let _p=(()=>{class t{constructor(t,e,n,i){this.el=t,this.renderer=e,this.zone=n,this.cd=i,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new lc,this.onHide=new lc,this.visibleChange=new lc,this.onResizeInit=new lc,this.onResizeEnd=new lc,this.onDragEnd=new lc,this.onMaximize=new lc,this.id=Ld(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.contentTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style=Object.assign({},t),this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let t=Ad.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&Ad.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&Ad.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,this.modal||this.blockScroll||(this.maximized?Ad.addClass(document.body,"p-overflow-hidden"):Ad.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++Ad.zindex),this.wrapper.style.zIndex=String(this.baseZIndex+(Ad.zindex-1)))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let e in this.breakpoints)t+=`\n                    @media screen and (max-width: ${e}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[e]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=t}}initDrag(t){Ad.hasClass(t.target,"p-dialog-header-icon")||Ad.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",Ad.addClass(document.body,"p-unselectable-text"))}onKeydown(t){if(this.focusTrap&&9===t.which){t.preventDefault();let e=Ad.getFocusableElements(this.container);if(e&&e.length>0)if(e[0].ownerDocument.activeElement){let n=e.indexOf(e[0].ownerDocument.activeElement);t.shiftKey?-1==n||0===n?e[e.length-1].focus():e[n-1].focus():-1==n||n===e.length-1?e[0].focus():e[n+1].focus()}else e[0].focus()}}onDrag(t){if(this.dragging){let e=Ad.getOuterWidth(this.container),n=Ad.getOuterHeight(this.container),i=t.pageX-this.lastPageX,s=t.pageY-this.lastPageY,o=Ad.getOffset(this.container),r=o.left+i,a=o.top+s,l=Ad.getViewport();this.container.style.position="fixed",this.keepInViewport?(r>=this.minX&&r+e<l.width&&(this._style.left=r+"px",this.lastPageX=t.pageX,this.container.style.left=r+"px"),a>=this.minY&&a+n<l.height&&(this._style.top=a+"px",this.lastPageY=t.pageY,this.container.style.top=a+"px")):(this.lastPageX=t.pageX,this.container.style.left=r+"px",this.lastPageY=t.pageY,this.container.style.top=a+"px")}}endDrag(t){this.dragging&&(this.dragging=!1,Ad.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,Ad.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let e=t.pageX-this.lastPageX,n=t.pageY-this.lastPageY,i=Ad.getOuterWidth(this.container),s=Ad.getOuterHeight(this.container),o=Ad.getOuterHeight(this.contentViewChild.nativeElement),r=i+e,a=s+n,l=this.container.style.minWidth,c=this.container.style.minHeight,u=Ad.getOffset(this.container),h=Ad.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(r+=e,a+=n),(!l||r>parseInt(l))&&u.left+r<h.width&&(this._style.width=r+"px",this.container.style.width=this._style.width),(!c||a>parseInt(c))&&u.top+a<h.height&&(this.contentViewChild.nativeElement.style.height=o+a-s+"px",this._style.height&&(this._style.height=a+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,Ad.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",t=>{27==t.which&&parseInt(this.container.style.zIndex)===Ad.zindex+this.baseZIndex&&this.close(t)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):Ad.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&Ad.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus()}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(Ad.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&Ad.removeClass(document.body,"p-overflow-hidden"),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(Ga),Sr(Yc),Sr(bl))},t.\u0275cmp=Bt({type:t,selectors:[["p-dialog"]],contentQueries:function(t,e,n){if(1&t&&(kc(n,Hd,5),kc(n,Ud,5),kc(n,$d,4)),2&t){let t;vc(t=Cc())&&(e.headerFacet=t.first),vc(t=Cc())&&(e.footerFacet=t.first),vc(t=Cc())&&(e.templates=t)}},viewQuery:function(t,e){if(1&t&&(_c(Qd,5),_c(Zd,5),_c(Jd,5)),2&t){let t;vc(t=Cc())&&(e.headerViewChild=t.first),vc(t=Cc())&&(e.contentViewChild=t.first),vc(t=Cc())&&(e.footerViewChild=t.first)}},inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:wp,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(t,e){1&t&&(Br(bp),kr(0,mp,2,15,"div",0)),2&t&&xr("ngIf",e.maskVisible)},directives:[Oh,xh,qd,Mh,Dh,Gd],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[vd("animation",[Sd("void => visible",[Td(yp)]),Sd("visible => void",[Td(vp)])])]},changeDetection:0}),t})(),kp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,Kd,Yd],Wd]}),t})();function Cp(t,e){return new w(n=>{const i=t.length;if(0===i)return void n.complete();const s=new Array(i);let o=0,r=0;for(let a=0;a<i;a++){const l=V(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,r++),s[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==i&&c||(r===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=s[n],t),{}):s),n.complete())}}))}})}let Sp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Sr(Ga),Sr(Wa))},t.\u0275dir=Kt({type:t}),t})(),xp=(()=>{class t extends Sp{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Hn(t)))(n||t)}}(),t.\u0275dir=Kt({type:t,features:[or]}),t})();const Tp=new Kn("NgValueAccessor"),Ep={provide:Tp,useExisting:it(()=>Op),multi:!0},Ip=new Kn("CompositionEventMode");let Op=(()=>{class t extends Sp{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=xu()?xu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Sr(Ga),Sr(Wa),Sr(Ip,8))},t.\u0275dir=Kt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Nr("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[Va([Ep]),or]}),t})();const Ap=new Kn("NgValidators"),Pp=new Kn("NgAsyncValidators");function Mp(t){return null}function Dp(t){return null!=t}function Lp(t){const e=Lr(t)?V(t):t;return Rr(e),e}function Rp(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Np(t,e){return e.map(e=>e(t))}function Fp(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Vp(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Dp);return 0==e.length?null:function(t){return Rp(Np(t,e))}}(Fp(t)):null}function jp(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Dp);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(l(e))return Cp(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Cp(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Cp(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(L(t=>e(...t)))}return Cp(t,null)}(Np(t,e).map(Lp)).pipe(L(Rp))}}(Fp(t)):null}function zp(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Bp=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Vp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=jp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t}),t})(),Hp=(()=>{class t extends Bp{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Hn(t)))(n||t)}}(),t.\u0275dir=Kt({type:t,features:[or]}),t})();class Up extends Bp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let $p=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===i?void 0:i[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Sr(Up,2))},t.\u0275dir=Kt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&ea("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[or]}),t})();function Wp(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function qp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Kp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Gp="VALID",Yp="INVALID",Qp="PENDING",Zp="DISABLED";function Jp(t){return(nf(t)?t.validators:t)||null}function Xp(t){return Array.isArray(t)?Vp(t):t||null}function tf(t,e){return(nf(e)?e.asyncValidators:t)||null}function ef(t){return Array.isArray(t)?jp(t):t||null}function nf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class sf{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Xp(this._rawValidators),this._composedAsyncValidatorFn=ef(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Gp}get invalid(){return this.status===Yp}get pending(){return this.status==Qp}get disabled(){return this.status===Zp}get enabled(){return this.status!==Zp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Xp(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ef(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Qp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zp,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Gp,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Gp&&this.status!==Qp||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zp:Gp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Qp,this._hasOwnPendingAsyncValidator=!0;const e=Lp(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof rf?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof af&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new lc,this.statusChanges=new lc}_calculateStatus(){return this._allControlsDisabled()?Zp:this.errors?Yp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qp)?Qp:this._anyControlsHaveStatus(Yp)?Yp:Gp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class of extends sf{constructor(t=null,e,n){super(Jp(e),tf(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Kp(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Kp(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class rf extends sf{constructor(t,e,n){super(Jp(e),tf(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof of?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class af extends sf{constructor(t,e,n){super(Jp(e),tf(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof of?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const lf={provide:Up,useExisting:it(()=>uf)},cf=(()=>Promise.resolve(null))();let uf=(()=>{class t extends Up{constructor(t,e,n,i){super(),this.control=new of,this._registered=!1,this.update=new lc,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,i,s;return Array.isArray(e),e.forEach(t=>{t.constructor===Op?n=t:Object.getPrototypeOf(t.constructor)===xp?i=t:s=t}),s||i||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(zp(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(zp(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const s=()=>t.updateValueAndValidity();Wp(e._rawValidators,s),Wp(e._rawAsyncValidators,s)})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&qp(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&qp(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){cf.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;cf.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Sr(Hp,9),Sr(Ap,10),Sr(Pp,10),Sr(Tp,10))},t.\u0275dir=Kt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Va([lf]),or,ae]}),t})(),hf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})();const df={provide:Ap,useExisting:it(()=>pf),multi:!0};let pf=(()=>{class t{constructor(){this._validator=Mp}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){var t;this._validator=(t="number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10),e=>{return null!=(n=e.value)&&"number"==typeof n.length&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null;var n})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&_r("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Va([df]),ae]}),t})(),ff=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[hf]]}),t})(),gf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[ff]}),t})(),mf=(()=>{class t{constructor(t,e){this.el=t,this.ngModel=e}ngDoCheck(){this.updateFilledState()}onInput(t){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(uf,8))},t.\u0275dir=Kt({type:t,selectors:[["","pInputText",""]],hostVars:6,hostBindings:function(t,e){1&t&&Nr("input",function(t){return e.onInput(t)}),2&t&&ea("p-inputtext",!0)("p-component",!0)("p-filled",e.filled)}}),t})(),bf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh]]}),t})();const wf=["input"],yf={provide:Tp,useExisting:it(()=>vf),multi:!0};let vf=(()=>{class t{constructor(t,e){this.el=t,this.cd=e,this.type="text",this.slotChar="_",this.autoClear=!0,this.characterPattern="[A-Za-z]",this.onComplete=new lc,this.onFocus=new lc,this.onBlur=new lc,this.onInput=new lc,this.onKeydown=new lc,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){let t=Ad.getUserAgent();this.androidChrome=/chrome/i.test(t)&&/android/i.test(t),this.initMask()}get mask(){return this._mask}set mask(t){this._mask=t,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let t=this.mask.split("");for(let e=0;e<t.length;e++){let n=t[e];"?"==n?(this.len--,this.partialPosition=e):this.defs[n]?(this.tests.push(new RegExp(this.defs[n])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),e<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let e=0;e<t.length;e++){let n=t[e];"?"!=n&&this.buffer.push(this.defs[n]?this.getPlaceholder(e):n)}this.defaultBuffer=this.buffer.join("")}writeValue(t){this.value=t,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}caret(t,e){let n,i,s;if(this.inputViewChild.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement)return"number"!=typeof t?(this.inputViewChild.nativeElement.setSelectionRange?(i=this.inputViewChild.nativeElement.selectionStart,s=this.inputViewChild.nativeElement.selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),i=0-n.duplicate().moveStart("character",-1e5),s=i+n.text.length),{begin:i,end:s}):(i=t,s="number"==typeof e?e:i,void(this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(i,s):this.inputViewChild.nativeElement.createTextRange&&(n=this.inputViewChild.nativeElement.createTextRange(),n.collapse(!0),n.moveEnd("character",s),n.moveStart("character",i),n.select())))}isCompleted(){for(let t=this.firstNonMaskPos;t<=this.lastRequiredNonMaskPos;t++)if(this.tests[t]&&this.buffer[t]===this.getPlaceholder(t))return!1;return!0}getPlaceholder(t){return this.slotChar.charAt(t<this.slotChar.length?t:0)}seekNext(t){for(;++t<this.len&&!this.tests[t];);return t}seekPrev(t){for(;--t>=0&&!this.tests[t];);return t}shiftL(t,e){let n,i;if(!(t<0)){for(n=t,i=this.seekNext(e);n<this.len;n++)if(this.tests[n]){if(!(i<this.len&&this.tests[n].test(this.buffer[i])))break;this.buffer[n]=this.buffer[i],this.buffer[i]=this.getPlaceholder(i),i=this.seekNext(i)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}}shiftR(t){let e,n,i,s;for(e=t,n=this.getPlaceholder(t);e<this.len;e++)if(this.tests[e]){if(i=this.seekNext(e),s=this.buffer[e],this.buffer[e]=n,!(i<this.len&&this.tests[i].test(s)))break;n=s}}handleAndroidInput(t){var e=this.inputViewChild.nativeElement.value,n=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>e.length){for(this.checkVal(!0);n.begin>0&&!this.tests[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<this.firstNonMaskPos&&!this.tests[n.begin];)n.begin++;setTimeout(()=>{this.caret(n.begin,n.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);n.begin<this.len&&!this.tests[n.begin];)n.begin++;setTimeout(()=>{this.caret(n.begin,n.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(t){if(this.focused=!1,this.onModelTouched(),this.checkVal(),this.updateFilledState(),this.onBlur.emit(t),this.inputViewChild.nativeElement.value!=this.focusText||this.inputViewChild.nativeElement.value!=this.value){this.updateModel(t);let e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.inputViewChild.nativeElement.dispatchEvent(e)}}onInputKeydown(t){if(this.readonly)return;let e,n,i,s=t.which||t.keyCode,o=/iphone/i.test(Ad.getUserAgent());this.oldVal=this.inputViewChild.nativeElement.value,this.onKeydown.emit(t),8===s||46===s||o&&127===s?(e=this.caret(),n=e.begin,i=e.end,i-n==0&&(n=46!==s?this.seekPrev(n):i=this.seekNext(n-1),i=46===s?this.seekNext(i):i),this.clearBuffer(n,i),this.shiftL(n,i-1),this.updateModel(t),this.onInput.emit(t),t.preventDefault()):13===s?(this.onInputBlur(t),this.updateModel(t)):27===s&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(t),t.preventDefault())}onKeyPress(t){if(!this.readonly){var e,n,i,s,o=t.which||t.keyCode,r=this.caret();t.ctrlKey||t.altKey||t.metaKey||o<32||o>34&&o<41||(o&&13!==o&&(r.end-r.begin!=0&&(this.clearBuffer(r.begin,r.end),this.shiftL(r.begin,r.end-1)),(e=this.seekNext(r.begin-1))<this.len&&(n=String.fromCharCode(o),this.tests[e].test(n))&&(this.shiftR(e),this.buffer[e]=n,this.writeBuffer(),i=this.seekNext(e),/android/i.test(Ad.getUserAgent())?setTimeout(()=>{this.caret(i)},0):this.caret(i),r.begin<=this.lastRequiredNonMaskPos&&(s=this.isCompleted()),this.onInput.emit(t)),t.preventDefault()),this.updateModel(t),this.updateFilledState(),s&&this.onComplete.emit())}}clearBuffer(t,e){let n;for(n=t;n<e&&n<this.len;n++)this.tests[n]&&(this.buffer[n]=this.getPlaceholder(n))}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(t){let e,n,i,s=this.inputViewChild.nativeElement.value,o=-1;for(e=0,i=0;e<this.len;e++)if(this.tests[e]){for(this.buffer[e]=this.getPlaceholder(e);i++<s.length;)if(n=s.charAt(i-1),this.tests[e].test(n)){this.buffer[e]=n,o=e;break}if(i>s.length){this.clearBuffer(e+1,this.len);break}}else this.buffer[e]===s.charAt(i)&&i++,e<this.partialPosition&&(o=e);return t?this.writeBuffer():o+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild.nativeElement.value.substring(0,o+1)),this.partialPosition?e:this.firstNonMaskPos}onInputFocus(t){if(this.readonly)return;let e;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild.nativeElement.value,e=this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),e==this.mask.replace("?","").length?this.caret(0,e):this.caret(e))},10),this.onFocus.emit(t)}onInputChange(t){this.androidChrome?this.handleAndroidInput(t):this.handleInputChange(t),this.onInput.emit(t)}handleInputChange(t){this.readonly||setTimeout(()=>{var e=this.checkVal(!0);this.caret(e),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let t=[];for(let e=0;e<this.buffer.length;e++){let n=this.buffer[e];this.tests[e]&&n!=this.getPlaceholder(e)&&t.push(n)}return t.join("")}updateModel(t){const e=this.unmask?this.getUnmaskedValue():t.target.value;null===e&&void 0===e||(this.value=e,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(bl))},t.\u0275cmp=Bt({type:t,selectors:[["p-inputMask"]],viewQuery:function(t,e){if(1&t&&_c(wf,7),2&t){let t;vc(t=Cc())&&(e.inputViewChild=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&ea("p-inputwrapper-filled",e.filled)("p-inputwrapper-focus",e.focused)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown"},features:[Va([yf])],decls:2,vars:17,consts:[["pInputText","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","focus","blur","keydown","keypress","input","paste"],["input",""]],template:function(t,e){1&t&&(Er(0,"input",0,1),Nr("focus",function(t){return e.onInputFocus(t)})("blur",function(t){return e.onInputBlur(t)})("keydown",function(t){return e.onInputKeydown(t)})("keypress",function(t){return e.onKeyPress(t)})("input",function(t){return e.onInputChange(t)})("paste",function(t){return e.handleInputChange(t)}),Ir()),2&t&&(xr("ngStyle",e.style)("ngClass",e.styleClass)("disabled",e.disabled)("readonly",e.readonly),_r("id",e.inputId)("type",e.type)("name",e.name)("placeholder",e.placeholder)("title",e.title)("size",e.size)("autocomplete",e.autocomplete)("maxlength",e.maxlength)("tabindex",e.tabindex)("aria-label",e.ariaLabel)("aria-required",e.ariaRequired)("required",e.required)("autofocus",e.autoFocus))},directives:[mf,Mh,xh],encapsulation:2,changeDetection:0}),t})(),_f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,bf]]}),t})(),kf=(()=>{class t{constructor(t){this.el=t,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,Ad.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon&&this.createIconEl();let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",this.label?t.appendChild(document.createTextNode(this.label)):t.innerHTML="&nbsp;",this.el.nativeElement.appendChild(t),this.initialized=!0}getStyleClass(){let t="p-button p-component";return this.icon&&!this.label&&(t+=" p-button-icon-only"),this.loading&&(t+=" p-disabled p-button-loading",!this.icon&&this.label&&(t+=" p-button-loading-label-only")),t}setStyleClass(){let t=this.getStyleClass();this.el.nativeElement.className=t+" "+this._initialStyleClass}createIconEl(){let t=document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let e=this.label?"p-button-icon-"+this.iconPos:null;e&&Ad.addClass(t,e),Ad.addMultipleClasses(t,this.getIconClass());let n=Ad.findSingle(this.el.nativeElement,".p-button-label");n?this.el.nativeElement.insertBefore(t,n):this.el.nativeElement.appendChild(t)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let t=Ad.findSingle(this.el.nativeElement,".p-button-icon");t?t.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let t=Ad.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(t)}get label(){return this._label}set label(t){this._label=t,this.initialized&&(Ad.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa))},t.\u0275dir=Kt({type:t,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),t})(),Cf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,Yd]]}),t})();function Sf(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function xf(...t){let e=t[t.length-1];return x(e)?(t.pop(),F(t,e)):$(t)}function Tf(t,e,n,s){return i(n)&&(s=n,n=void 0),s?Tf(t,e,n).pipe(L(t=>l(t)?s(...t):s(t))):new w(i=>{Ef(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function Ef(t,e,n,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,s),o=()=>i.removeEventListener(e,n,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),o=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),o=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,r=t.length;o<r;o++)Ef(t[o],e,n,i,s)}i.add(o)}class If extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Of extends If{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(s){i=!0,n=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Af=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Pf extends Af{constructor(t,e=Af.now){super(t,()=>Pf.delegate&&Pf.delegate!==this?Pf.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Pf.delegate&&Pf.delegate!==this?Pf.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Mf=new class extends Pf{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,s=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<s&&(t=e.shift()));if(this.active=!1,n){for(;++i<s&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends Of{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let Df=1;const Lf={},Rf={setImmediate(t){const e=Df++;return Lf[e]=t,Promise.resolve().then(()=>function(t){const e=Lf[t];e&&e()}(e)),e},clearImmediate(t){delete Lf[t]}},Nf=new class extends Pf{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,s=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<s&&(t=e.shift()));if(this.active=!1,n){for(;++i<s&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends Of{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Rf.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Rf.clearImmediate(e),t.scheduled=void 0)}});function Ff(t){return!!t&&(t instanceof w||"function"==typeof t.lift&&"function"==typeof t.subscribe)}class Vf{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new jf(t,this.compare,this.keySelector))}}class jf extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const zf=new Pf(Of);class Bf{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Hf(t,this.durationSelector))}}class Hf extends D{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=M(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Uf(t){return!l(t)&&t-parseFloat(t)+1>=0}function $f(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Wf(t,e=zf){return n=()=>function(t=0,e,n){let i=-1;return Uf(e)?i=Number(e)<1?1:Number(e):x(e)&&(n=e),x(n)||(n=zf),new w(e=>{const s=Uf(t)?t:+t-n.now();return n.schedule($f,s,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new Bf(n))};var n}function qf(t,e){return function(n){return n.lift(new Kf(t,e))}}class Kf{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Gf(t,this.predicate,this.thisArg))}}class Gf extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Yf(t){return e=>e.lift(new Qf(t))}class Qf{constructor(t){this.notifier=t}call(t,e){const n=new Zf(t),i=M(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Zf extends D{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,s){this.seenValue=!0,this.complete()}notifyComplete(){}}function Jf(...t){return U(1)(xf(...t))}function Xf(...t){const e=t[t.length-1];return x(e)?(t.pop(),n=>Jf(t,n,e)):e=>Jf(t,e)}class tg{call(t,e){return e.subscribe(new eg(t))}}class eg extends f{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function ng(t,e){return"function"==typeof e?n=>n.pipe(ng((n,i)=>V(t(n,i)).pipe(L((t,s)=>e(n,t,i,s))))):e=>e.lift(new ig(t))}class ig{constructor(t){this.project=t}call(t,e){return e.subscribe(new sg(t,this.project))}}class sg extends D{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const s=new T(this,void 0,void 0);this.destination.add(s),this.innerSubscription=M(this,t,e,n,s)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,s){this.destination.next(e)}}const og=new class extends Pf{}(class extends Of{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),rg=new w(t=>t.complete());function ag(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):rg}class lg{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return xf(this.value);case"E":return t=this.error,new w(e=>e.error(t));case"C":return ag()}var t;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new lg("N",t):lg.undefinedValueNotification}static createError(t){return new lg("E",void 0,t)}static createComplete(){return lg.completeNotification}}lg.completeNotification=new lg("C"),lg.undefinedValueNotification=new lg("N",void 0);class cg extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(cg.dispatch,this.delay,new ug(t,this.destination)))}_next(t){this.scheduleMessage(lg.createNext(t))}_error(t){this.scheduleMessage(lg.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(lg.createComplete()),this.unsubscribe()}}class ug{constructor(t,e){this.notification=t,this.destination=e}}class hg extends C{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new dg(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=n.length;let o;if(this.closed)throw new v;if(this.isStopped||this.hasError?o=h.EMPTY:(this.observers.push(t),o=new _(this,t)),i&&t.add(t=new cg(t,i)),e)for(let r=0;r<s&&!t.closed;r++)t.next(n[r]);else for(let r=0;r<s&&!t.closed;r++)t.next(n[r].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||og).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,s=i.length;let o=0;for(;o<s&&!(t-i[o].time<n);)o++;return s>e&&(o=Math.max(o,s-e)),o>0&&i.splice(0,o),i}}class dg{constructor(t,e){this.time=t,this.value=e}}let pg;try{pg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(DN){pg=!1}let fg,gg,mg=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(hi(Lc))},t.\u0275prov=ut({factory:function(){return new t(hi(Lc))},token:t,providedIn:"root"}),t})(),bg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})();function wg(){if("object"!=typeof document||!document)return 0;if(null==fg){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),fg=0,0===t.scrollLeft&&(t.scrollLeft=1,fg=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return fg}const yg=new Kn("cdk-dir-doc",{providedIn:"root",factory:function(){return di(Tu)}});let vg=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new lc,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(hi(yg,8))},t.\u0275prov=ut({factory:function(){return new t(hi(yg,8))},token:t,providedIn:"root"}),t})(),_g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})();class kg extends class{}{constructor(t){super(),this._data=t}connect(){return Ff(this._data)?this._data:xf(this._data)}disconnect(){}}class Cg{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,n,i,s){t.forEachOperation((t,o,r)=>{let a,l;null==t.previousIndex?(a=this._insertView(()=>n(t,o,r),r,e,i(t)),l=a?1:0):null==r?(this._detachAndCacheView(o,e),l=3):(a=this._moveView(o,r,e,i(t)),l=2),s&&s({context:null==a?void 0:a.context,operation:l,record:t})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,n,i){const s=this._insertViewFromCache(e,n);if(s)return void(s.context.$implicit=i);const o=t();return n.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(t,e){const n=e.detach(t);this._maybeCacheView(n,e)}_moveView(t,e,n,i){const s=n.get(t);return n.move(s,e),s.context.$implicit=i,s}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const n=e.indexOf(t);-1===n?t.destroy():e.remove(n)}}_insertViewFromCache(t,e){const n=this._viewCache.pop();return n&&e.insert(n,t),n||null}}const Sg=new Kn("_ViewRepeater"),xg=["contentWrapper"],Tg=["*"],Eg=new Kn("VIRTUAL_SCROLL_STRATEGY");class Ig{constructor(t,e,n){this._scrolledIndexChange=new C,this.scrolledIndexChange=this._scrolledIndexChange.pipe(t=>t.lift(new Vf(void 0,void 0))),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,n){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},n=this._viewport.getViewportSize(),i=this._viewport.getDataLength();let s=this._viewport.measureScrollOffset(),o=this._itemSize>0?s/this._itemSize:0;if(e.end>i){const t=Math.ceil(n/this._itemSize),r=Math.max(0,Math.min(o,i-t));o!=r&&(o=r,s=r*this._itemSize,e.start=Math.floor(o)),e.end=Math.max(0,Math.min(i,e.start+t))}const r=s-e.start*this._itemSize;if(r<this._minBufferPx&&0!=e.start){const t=Math.ceil((this._maxBufferPx-r)/this._itemSize);e.start=Math.max(0,e.start-t),e.end=Math.min(i,Math.ceil(o+(n+this._minBufferPx)/this._itemSize))}else{const t=e.end*this._itemSize-(s+n);if(t<this._minBufferPx&&e.end!=i){const n=Math.ceil((this._maxBufferPx-t)/this._itemSize);n>0&&(e.end=Math.min(i,e.end+n),e.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(o))}}function Og(t){return t._scrollStrategy}let Ag=(()=>{class t{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Ig(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=Sf(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=Sf(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=Sf(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[Va([{provide:Eg,useFactory:Og,deps:[it(()=>t)]}]),ae]}),t})(),Pg=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new C,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new w(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Wf(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):xf()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(qf(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=(i=e)instanceof Wa?i.nativeElement:i;var i;let s=t.getElementRef().nativeElement;do{if(n==s)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Tf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(hi(Yc),hi(mg),hi(Tu,8))},t.\u0275prov=ut({factory:function(){return new t(hi(Yc),hi(mg),hi(Tu,8))},token:t,providedIn:"root"}),t})(),Mg=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new C,this._elementScrolled=new w(t=>this.ngZone.runOutsideAngular(()=>Tf(this.elementRef.nativeElement,"scroll").pipe(Yf(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=wg()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==wg()?t.left=t.right:1==wg()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;!function(){if(null==gg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return gg=!1,gg;if("scrollBehavior"in document.documentElement.style)gg=!0;else{const t=Element.prototype.scrollTo;gg=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return gg}()?(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left)):e.scrollTo(t)}measureScrollOffset(t){const e="left",n="right",i=this.elementRef.nativeElement;if("top"==t)return i.scrollTop;if("bottom"==t)return i.scrollHeight-i.clientHeight-i.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?n:e:"end"==t&&(t=s?e:n),s&&2==wg()?t==e?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:s&&1==wg()?t==e?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:t==e?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(Pg),Sr(Yc),Sr(vg,8))},t.\u0275dir=Kt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),Dg=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new C,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Wf(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(hi(mg),hi(Yc),hi(Tu,8))},t.\u0275prov=ut({factory:function(){return new t(hi(mg),hi(Yc),hi(Tu,8))},token:t,providedIn:"root"}),t})();const Lg="undefined"!=typeof requestAnimationFrame?Mf:Nf;let Rg=(()=>{class t extends Mg{constructor(t,e,n,i,s,o,r){super(t,o,n,s),this.elementRef=t,this._changeDetectorRef=e,this._scrollStrategy=i,this._detachedSubject=new C,this._renderedRangeSubject=new C,this._orientation="vertical",this.scrolledIndexChange=new w(t=>this._scrollStrategy.scrolledIndexChange.subscribe(e=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(e))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=h.EMPTY,this._viewportChanges=r.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Xf(null),Wf(0,Lg)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Yf(this._detachedSubject)).subscribe(t=>{const e=t.length;e!==this._dataLength&&(this._dataLength=e,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){var e,n;((e=this._renderedRange).start!=(n=t).start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,e="to-start"){const n="horizontal"==this.orientation,i=n?"X":"Y";let s=`translate${i}(${Number((n&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===e&&(s+=` translate${i}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=s&&(this._renderedContentTransform=s,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,e="auto"){const n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}scrollToIndex(t,e="auto"){this._scrollStrategy.scrollToIndex(t,e)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const e of t)e()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(bl),Sr(Yc),Sr(Eg,8),Sr(vg,8),Sr(Pg),Sr(Dg))},t.\u0275cmp=Bt({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){if(1&t&&_c(xg,7),2&t){let t;vc(t=Cc())&&(e._contentWrapper=t.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&ea("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[Va([{provide:Mg,useExisting:t}]),or],ngContentSelectors:Tg,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&(Br(),Er(0,"div",0,1),Hr(2),Ir(),Or(3,"div",2)),2&t&&(Ws(3),ta("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t})();function Ng(t,e,n){if(!n.getBoundingClientRect)return 0;const i=n.getBoundingClientRect();return"horizontal"===t?"start"===e?i.left:i.right:"start"===e?i.top:i.bottom}let Fg=(()=>{class t{constructor(t,e,n,i,s,o){this._viewContainerRef=t,this._template=e,this._differs=n,this._viewRepeater=i,this._viewport=s,this.viewChange=new C,this._dataSourceChanges=new C,this.dataStream=this._dataSourceChanges.pipe(Xf(null),t=>t.lift(new tg),ng(([t,e])=>this._changeDataSource(t,e)),function(t,e,n){let i;return i={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let s,o,r=0,a=!1,l=!1;return function(c){r++,s&&!a||(a=!1,s=new hg(t,e,i),o=c.subscribe({next(t){s.next(t)},error(t){a=!0,s.error(t)},complete(){l=!0,s.complete()}}));const u=s.subscribe(this);this.add(()=>{r--,u.unsubscribe(),o&&!l&&n&&0===r&&(o.unsubscribe(),o=void 0,s=void 0)})}}(i))}()),this._differ=null,this._needsUpdate=!1,this._destroyed=new C,this.dataStream.subscribe(t=>{this._data=t,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Yf(this._destroyed)).subscribe(t=>{this._renderedRange=t,o.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,function(t){return t&&"function"==typeof t.connect}(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new kg(Ff(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(e,n)=>t(e+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=Sf(t)}measureRangeSize(t,e){if(t.start>=t.end)return 0;const n=t.start-this._renderedRange.start,i=t.end-t.start;let s,o;for(let r=0;r<i;r++){const t=this._viewContainerRef.get(r+n);if(t&&t.rootNodes.length){s=o=t.rootNodes[0];break}}for(let r=i-1;r>-1;r--){const t=this._viewContainerRef.get(r+n);if(t&&t.rootNodes.length){o=t.rootNodes[t.rootNodes.length-1];break}}return s&&o?Ng(e,"end",o)-Ng(e,"start",s):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,e)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,e):e)),this._needsUpdate=!0)}_changeDataSource(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):xf()}_updateContext(){const t=this._data.length;let e=this._viewContainerRef.length;for(;e--;){const n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(t,e,n)=>this._getEmbeddedViewArgs(t,n),t=>t.item),t.forEachIdentityChange(t=>{this._viewContainerRef.get(t.currentIndex).context.$implicit=t.item});const e=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const t=this._viewContainerRef.get(n);t.context.index=this._renderedRange.start+n,t.context.count=e,this._updateComputedContextProperties(t.context)}}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_getEmbeddedViewArgs(t,e){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:e}}}return t.\u0275fac=function(e){return new(e||t)(Sr(Ol),Sr(kl),Sr(ul),Sr(Sg),Sr(Rg,4),Sr(Yc))},t.\u0275dir=Kt({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[Va([{provide:Sg,useClass:Cg}])]}),t})(),Vg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})(),jg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[_g,bg,Vg],_g,Vg]}),t})();const zg=["container"],Bg=["in"],Hg=["multiIn"],Ug=["multiContainer"],$g=["ddBtn"],Wg=function(t,e){return{"p-autocomplete-dd-input":t,"p-disabled":e}};function qg(t,e){if(1&t){const t=Dr();Er(0,"input",7,8),Nr("click",function(e){return Me(t),jr().onInputClick(e)})("input",function(e){return Me(t),jr().onInput(e)})("keydown",function(e){return Me(t),jr().onKeydown(e)})("keyup",function(e){return Me(t),jr().onKeyup(e)})("focus",function(e){return Me(t),jr().onInputFocus(e)})("blur",function(e){return Me(t),jr().onInputBlur(e)})("change",function(e){return Me(t),jr().onInputChange(e)})("paste",function(e){return Me(t),jr().onInputPaste(e)}),Ir()}if(2&t){const t=jr();sa(t.inputStyleClass),xr("ngStyle",t.inputStyle)("autocomplete",t.autocomplete)("ngClass",ql(23,Wg,t.dropdown,t.disabled))("value",t.inputFieldValue)("readonly",t.readonly)("disabled",t.disabled),_r("type",t.type)("id",t.inputId)("required",t.required)("name",t.name)("aria-controls",t.listId)("aria-expanded",t.overlayVisible)("aria-activedescendant","p-highlighted-option")("autofocus",t.autofocus)("placeholder",t.placeholder)("size",t.size)("maxlength",t.maxlength)("tabindex",t.tabindex)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy)("aria-required",t.required)}}function Kg(t,e){1&t&&Mr(0)}function Gg(t,e){if(1&t&&(Er(0,"span",20),ba(1),Ir()),2&t){const t=jr().$implicit,e=jr(2);Ws(1),wa(e.resolveFieldData(t))}}function Yg(t,e){if(1&t){const t=Dr();Er(0,"span",21),Nr("click",function(){Me(t),jr();const e=Cr(1);return jr(2).removeItem(e)}),Ir()}}const Qg=function(t){return{$implicit:t}};function Zg(t,e){if(1&t&&(Er(0,"li",15,16),kr(2,Kg,1,0,"ng-container",17),kr(3,Gg,2,1,"span",18),kr(4,Yg,1,0,"span",19),Ir()),2&t){const t=e.$implicit,n=jr(2);Ws(2),xr("ngTemplateOutlet",n.selectedItemTemplate)("ngTemplateOutletContext",Wl(4,Qg,t)),Ws(1),xr("ngIf",!n.selectedItemTemplate),Ws(1),xr("ngIf",!n.disabled&&!n.readonly)}}const Jg=function(t,e){return{"p-disabled":t,"p-focus":e}};function Xg(t,e){if(1&t){const t=Dr();Er(0,"ul",9,10),Nr("click",function(){return Me(t),Cr(5).focus()}),kr(2,Zg,5,6,"li",11),Er(3,"li",12),Er(4,"input",13,14),Nr("input",function(e){return Me(t),jr().onInput(e)})("click",function(e){return Me(t),jr().onInputClick(e)})("keydown",function(e){return Me(t),jr().onKeydown(e)})("keyup",function(e){return Me(t),jr().onKeyup(e)})("focus",function(e){return Me(t),jr().onInputFocus(e)})("blur",function(e){return Me(t),jr().onInputBlur(e)})("change",function(e){return Me(t),jr().onInputChange(e)})("paste",function(e){return Me(t),jr().onInputPaste(e)}),Ir(),Ir(),Ir()}if(2&t){const t=jr();xr("ngClass",ql(20,Jg,t.disabled,t.focus)),Ws(2),xr("ngForOf",t.value),Ws(2),sa(t.inputStyleClass),xr("disabled",t.disabled)("readonly",t.readonly)("autocomplete",t.autocomplete)("ngStyle",t.inputStyle),_r("type",t.type)("id",t.inputId)("placeholder",t.value&&t.value.length?null:t.placeholder)("tabindex",t.tabindex)("maxlength",t.maxlength)("autofocus",t.autofocus)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy)("aria-required",t.required)("aria-controls",t.listId)("aria-expanded",t.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function tm(t,e){1&t&&Or(0,"i",22)}function em(t,e){if(1&t){const t=Dr();Er(0,"button",23,24),Nr("click",function(e){return Me(t),jr().handleDropdownClick(e)}),Ir()}if(2&t){const t=jr();xr("icon",t.dropdownIcon)("disabled",t.disabled),_r("tabindex",t.tabindex)}}function nm(t,e){1&t&&Mr(0)}function im(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr().$implicit,e=jr(3);Ws(1),wa(e.getOptionGroupLabel(t)||"empty")}}function sm(t,e){1&t&&Mr(0)}function om(t,e){1&t&&Mr(0)}function rm(t,e){if(1&t&&(Er(0,"li",31),kr(1,im,2,1,"span",28),kr(2,sm,1,0,"ng-container",17),Ir(),kr(3,om,1,0,"ng-container",17)),2&t){const t=e.$implicit;jr(2);const n=Cr(7),i=jr();Ws(1),xr("ngIf",!i.groupTemplate),Ws(1),xr("ngTemplateOutlet",i.groupTemplate)("ngTemplateOutletContext",Wl(5,Qg,t)),Ws(1),xr("ngTemplateOutlet",n)("ngTemplateOutletContext",Wl(7,Qg,i.getOptionGroupChildren(t)))}}function am(t,e){if(1&t&&(Ar(0),kr(1,rm,4,9,"ng-template",30),Pr()),2&t){const t=jr(2);Ws(1),xr("ngForOf",t.suggestions)}}function lm(t,e){1&t&&Mr(0)}function cm(t,e){if(1&t&&(Ar(0),kr(1,lm,1,0,"ng-container",17),Pr()),2&t){jr();const t=Cr(7),e=jr();Ws(1),xr("ngTemplateOutlet",t)("ngTemplateOutletContext",Wl(2,Qg,e.suggestions))}}function um(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr().$implicit,e=jr(4);Ws(1),wa(e.resolveFieldData(t))}}function hm(t,e){1&t&&Mr(0)}const dm=function(t){return{"p-highlight":t}},pm=function(t,e){return{$implicit:t,index:e}};function fm(t,e){if(1&t){const t=Dr();Er(0,"li",36),Nr("click",function(){const e=Me(t).$implicit;return jr(4).selectItem(e)}),kr(1,um,2,1,"span",28),kr(2,hm,1,0,"ng-container",17),Ir()}if(2&t){const t=e.$implicit,n=e.index,i=jr(4);xr("ngClass",Wl(5,dm,t===i.highlightOption))("id",i.highlightOption==t?"p-highlighted-option":""),Ws(1),xr("ngIf",!i.itemTemplate),Ws(1),xr("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",ql(7,pm,t,n))}}function gm(t,e){if(1&t&&(Ar(0),kr(1,fm,3,10,"li",35),Pr()),2&t){const t=jr().$implicit;Ws(1),xr("ngForOf",t)}}function mm(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr().$implicit,e=jr(5);Ws(1),wa(e.resolveFieldData(t))}}function bm(t,e){1&t&&Mr(0)}const wm=function(t){return{height:t}};function ym(t,e){if(1&t){const t=Dr();Ar(0),Er(1,"li",40),Nr("click",function(){const e=Me(t).$implicit;return jr(5).selectItem(e)}),kr(2,mm,2,1,"span",28),kr(3,bm,1,0,"ng-container",17),Ir(),Pr()}if(2&t){const t=e.$implicit,n=e.index,i=jr(5);Ws(1),xr("ngClass",Wl(6,dm,t===i.highlightOption))("ngStyle",Wl(8,wm,i.itemSize+"px"))("id",i.highlightOption==t?"p-highlighted-option":""),Ws(1),xr("ngIf",!i.itemTemplate),Ws(1),xr("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",ql(10,pm,t,n))}}function vm(t,e){if(1&t&&(Er(0,"cdk-virtual-scroll-viewport",38),kr(1,ym,4,13,"ng-container",39),Ir()),2&t){const t=jr(2).$implicit,e=jr(2);xr("ngStyle",Wl(3,wm,e.scrollHeight))("itemSize",e.itemSize),Ws(1),xr("cdkVirtualForOf",t)}}function _m(t,e){if(1&t&&kr(0,vm,2,5,"cdk-virtual-scroll-viewport",37),2&t){const t=jr(3);xr("ngIf",t.virtualScroll&&!t.noResults)}}function km(t,e){if(1&t&&(Ar(0),ba(1),Pr()),2&t){const t=jr(4);Ws(1),ya(" ",t.emptyMessageLabel," ")}}function Cm(t,e){1&t&&Mr(0,null,42)}function Sm(t,e){if(1&t&&(Er(0,"li",41),kr(1,km,2,1,"ng-container",32),kr(2,Cm,2,0,"ng-container",26),Ir()),2&t){const t=jr(3);Ws(1),xr("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),Ws(1),xr("ngTemplateOutlet",t.emptyTemplate)}}function xm(t,e){if(1&t&&(kr(0,gm,2,1,"ng-container",32),kr(1,_m,1,1,"ng-template",null,33,Ec),kr(3,Sm,3,3,"li",34)),2&t){const t=Cr(2),e=jr(2);xr("ngIf",!e.virtualScroll)("ngIfElse",t),Ws(3),xr("ngIf",e.noResults&&e.showEmptyMessage)}}function Tm(t,e){1&t&&Mr(0)}const Em=function(){return["p-autocomplete-panel p-component"]},Im=function(t,e){return{showTransitionParams:t,hideTransitionParams:e}},Om=function(t){return{value:"visible",params:t}},Am=function(t){return{"p-autocomplete-virtualscroll":t}};function Pm(t,e){if(1&t){const t=Dr();Er(0,"div",0,25),Nr("@overlayAnimation.start",function(e){return Me(t),jr().onOverlayAnimationStart(e)}),kr(2,nm,1,0,"ng-container",26),Er(3,"ul",27),kr(4,am,2,1,"ng-container",28),kr(5,cm,2,4,"ng-container",28),kr(6,xm,4,3,"ng-template",null,29,Ec),Ir(),kr(8,Tm,1,0,"ng-container",26),Ir()}if(2&t){const t=jr();sa(t.panelStyleClass),ta("max-height",t.virtualScroll?"auto":t.scrollHeight),xr("ngClass",$l(13,Em))("ngStyle",t.panelStyle)("@overlayAnimation",Wl(17,Om,ql(14,Im,t.showTransitionOptions,t.hideTransitionOptions))),Ws(2),xr("ngTemplateOutlet",t.headerTemplate),Ws(1),xr("ngClass",Wl(19,Am,t.virtualScroll)),_r("id",t.listId),Ws(1),xr("ngIf",t.group),Ws(1),xr("ngIf",!t.group),Ws(3),xr("ngTemplateOutlet",t.footerTemplate)}}const Mm=function(t,e){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":t,"p-autocomplete-multiple":e}},Dm={provide:Tp,useExisting:it(()=>Lm),multi:!0};let Lm=(()=>{class t{constructor(t,e,n,i,s){this.el=t,this.renderer=e,this.cd=n,this.differs=i,this.config=s,this.minLength=1,this.delay=300,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.completeMethod=new lc,this.onSelect=new lc,this.onUnselect=new lc,this.onFocus=new lc,this.onBlur=new lc,this.onDropdownClick=new lc,this.onClear=new lc,this.onKeyUp=new lc,this.onShow=new lc,this.onHide=new lc,this.scrollHeight="200px",this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.differ=i.find([]).create(null),this.listId=Ld()+"_list"}get suggestions(){return this._suggestions}set suggestions(t){this._suggestions=t,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay&&this.itemsWrapper){let t=Ad.findSingle(this.overlay,"li.p-highlight");if(t&&Ad.scrollInView(this.itemsWrapper,t),this.virtualScroll&&this.viewPort){let t=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(),(t.start>this.virtualScrollSelectedIndex||t.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.showEmptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.itemTemplate=t.template}})}updateVirtualScrollSelectedIndex(){this.highlightOption&&this.suggestions&&this.suggestions.length&&(this.virtualScrollSelectedIndex=this.findOptionIndex(this.highlightOption,this.suggestions))}writeValue(t){this.value=t,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(t){return this.optionGroupChildren?Md.resolveFieldData(t,this.optionGroupChildren):t.items}getOptionGroupLabel(t){return this.optionGroupLabel?Md.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInput(t){if(!this.inputKeyDown&&Ad.isIE())return;this.timeout&&clearTimeout(this.timeout);let e=t.target.value;this.multiple||this.forceSelection||this.onModelChange(e),0!==e.length||this.multiple||(this.hide(),this.onClear.emit(t),this.onModelChange(e)),e.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(t,e)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(t){this.documentClickListener&&(this.inputClick=!0)}search(t,e){null!=e&&(this.loading=!0,this.completeMethod.emit({originalEvent:t,query:e}))}selectItem(t,e=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],this.isSelected(t)&&this.unique||(this.value=[...this.value,t],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.resolveFieldData(t),this.value=t,this.onModelChange(this.value)),this.onSelect.emit(t),this.updateFilledState(),e&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let t=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&t&&(this.overlayVisible=!0)}}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.overlay=t.element,this.itemsWrapper=this.virtualScroll?Ad.findSingle(this.overlay,".cdk-virtual-scroll-viewport"):this.overlay,this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++Ad.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(t);break;case"void":this.onOverlayHide()}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Ad.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Ad.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(t){let e=this.field?Md.resolveFieldData(t,this.field):t;return void 0!==e?e:""}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?Ad.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):Ad.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(t){if(this.overlayVisible)this.hide();else{this.focusInput();let e=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(t,""):"current"===this.dropdownMode&&this.search(t,e),this.onDropdownClick.emit({originalEvent:t,query:e})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Vd.EMPTY_MESSAGE)}removeItem(t){let e=Ad.index(t),n=this.value[e];this.value=this.value.filter((t,n)=>n!=e),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(n)}onKeydown(t){if(this.overlayVisible)switch(t.which){case 40:if(this.group){let t=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==t){let e=t.itemIndex+1;e<this.getOptionGroupChildren(this.suggestions[t.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[t.groupIndex])[e],this.highlightOptionChanged=!0):this.suggestions[t.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[t.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let t=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=t){var e=t+1;e!=this.suggestions.length&&(this.highlightOption=this.suggestions[e],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}t.preventDefault();break;case 38:if(this.group){let t=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==t){let e=t.itemIndex-1;if(e>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[t.groupIndex])[e],this.highlightOptionChanged=!0;else if(e<0){let e=this.suggestions[t.groupIndex-1];e&&(this.highlightOption=this.getOptionGroupChildren(e)[this.getOptionGroupChildren(e).length-1],this.highlightOptionChanged=!0)}}}else{let t=this.findOptionIndex(this.highlightOption,this.suggestions);t>0&&(this.highlightOption=this.suggestions[t-1],this.highlightOptionChanged=!0)}t.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),t.preventDefault();break;case 27:this.hide(),t.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===t.which&&this.suggestions&&this.search(t,t.target.value);if(this.multiple)switch(t.which){case 8:if(this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const t=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(t)}}this.inputKeyDown=!0}onKeyup(t){this.onKeyUp.emit(t)}onInputFocus(t){!this.itemClicked&&this.completeOnFocus&&this.search(t,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(t),this.itemClicked=!1}onInputBlur(t){this.focus=!1,this.onModelTouched(),this.onBlur.emit(t)}onInputChange(t){if(this.forceSelection){let e=!1,n=t.target.value.trim();if(this.suggestions)for(let t of this.suggestions){let i=this.field?Md.resolveFieldData(t,this.field):t;if(i&&n===i.trim()){e=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(t,!1)},250);break}}e||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(t),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(t){this.onKeydown(t)}isSelected(t){let e=!1;if(this.value&&this.value.length)for(let n=0;n<this.value.length;n++)if(Md.equals(this.value[n],t,this.dataKey)){e=!0;break}return e}findOptionIndex(t,e){let n=-1;if(e)for(let i=0;i<e.length;i++)if(Md.equals(t,e[i])){n=i;break}return n}findOptionGroupIndex(t,e){let n,i;if(e)for(let s=0;s<e.length&&(n=s,i=this.findOptionIndex(t,this.getOptionGroupChildren(e[s])),-1===i);s++);return-1!==i?{groupIndex:n,itemIndex:i}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let t=this.resolveFieldData(this.value);this.inputFieldValue=t,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=t),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",t=>{3!==t.which&&(this.inputClick||this.isDropdownClick(t)||this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(t){if(this.dropdown){let e=t.target;return e===this.dropdownButton.nativeElement||e.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Pd(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onHide.emit()}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide()}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(Ga),Sr(bl),Sr(ul),Sr(Fd))},t.\u0275cmp=Bt({type:t,selectors:[["p-autoComplete"]],contentQueries:function(t,e,n){if(1&t&&kc(n,$d,4),2&t){let t;vc(t=Cc())&&(e.templates=t)}},viewQuery:function(t,e){if(1&t&&(_c(zg,5),_c(Bg,5),_c(Hg,5),_c(Ug,5),_c($g,5),_c(Rg,5)),2&t){let t;vc(t=Cc())&&(e.containerEL=t.first),vc(t=Cc())&&(e.inputEL=t.first),vc(t=Cc())&&(e.multiInputEL=t.first),vc(t=Cc())&&(e.multiContainerEL=t.first),vc(t=Cc())&&(e.dropdownButton=t.first),vc(t=Cc())&&(e.viewPort=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&ea("p-inputwrapper-filled",e.filled)("p-inputwrapper-focus",e.focus&&!e.disabled||e.overlayVisible)},inputs:{minLength:"minLength",delay:"delay",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",virtualScroll:"virtualScroll",itemSize:"itemSize",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:"unique",group:"group",completeOnFocus:"completeOnFocus",field:"field",scrollHeight:"scrollHeight",dropdown:"dropdown",showEmptyMessage:"showEmptyMessage",dropdownMode:"dropdownMode",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:"autofocus",autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",suggestions:"suggestions"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide"},features:[Va([Dm])],decls:7,vars:12,consts:[[3,"ngClass","ngStyle"],["container",""],["class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class",4,"ngIf"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",1,"p-autocomplete-input","p-inputtext","p-component",3,"ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],["panel",""],[4,"ngTemplateOutlet"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],[4,"ngIf"],["itemslist",""],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["class","p-autocomplete-empty-message",4,"ngIf"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngClass","id","click",4,"ngFor","ngForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","id","click"],[3,"ngStyle","itemSize",4,"ngIf"],[3,"ngStyle","itemSize"],[4,"cdkVirtualFor","cdkVirtualForOf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","ngStyle","id","click"],[1,"p-autocomplete-empty-message"],["empty",""]],template:function(t,e){1&t&&(Er(0,"span",0,1),kr(2,qg,2,26,"input",2),kr(3,Xg,6,23,"ul",3),kr(4,tm,1,0,"i",4),kr(5,em,2,3,"button",5),kr(6,Pm,9,21,"div",6),Ir()),2&t&&(sa(e.styleClass),xr("ngClass",ql(9,Mm,e.dropdown,e.multiple))("ngStyle",e.style),Ws(2),xr("ngIf",!e.multiple),Ws(1),xr("ngIf",e.multiple),Ws(1),xr("ngIf",e.loading),Ws(1),xr("ngIf",e.dropdown),Ws(1),xr("ngIf",e.overlayVisible))},directives:[xh,Mh,Oh,Eh,Dh,kf,Gd,Rg,Ag,Fg],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%}.p-autocomplete-panel{position:absolute;overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}"],encapsulation:2,data:{animation:[vd("overlayAnimation",[Sd(":enter",[Cd({opacity:0,transform:"scaleY(0.8)"}),_d("{{showTransitionParams}}")]),Sd(":leave",[_d("{{hideTransitionParams}}",Cd({opacity:0}))])])]},changeDetection:0}),t})(),Rm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,bf,Cf,Wd,Yd,jg],Wd,jg]}),t})();function Nm(t,e,n,i){return new(n||(n=Promise))(function(s,o){function r(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}l((i=i.apply(t,e||[])).next())})}const Fm=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Vm="object"==typeof global&&global&&global.Object===Object&&global;var jm="object"==typeof self&&self&&self.Object===Object&&self;const zm=Vm||jm||Function("return this")(),Bm=function(){return zm.Date.now()};var Hm=/\s/,Um=/^\s+/;const $m=zm.Symbol;var Wm=Object.prototype,qm=Wm.hasOwnProperty,Km=Wm.toString,Gm=$m?$m.toStringTag:void 0,Ym=Object.prototype.toString,Qm=$m?$m.toStringTag:void 0;const Zm=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Qm&&Qm in Object(t)?function(t){var e=qm.call(t,Gm),n=t[Gm];try{t[Gm]=void 0;var i=!0}catch(o){}var s=Km.call(t);return i&&(e?t[Gm]=n:delete t[Gm]),s}(t):function(t){return Ym.call(t)}(t)},Jm=function(t){return null!=t&&"object"==typeof t};var Xm=/^[-+]0x[0-9a-f]+$/i,tb=/^0b[01]+$/i,eb=/^0o[0-7]+$/i,nb=parseInt;const ib=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||Jm(t)&&"[object Symbol]"==Zm(t)}(t))return NaN;if(Fm(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Fm(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;var n;t=(n=t)?n.slice(0,function(t){for(var e=t.length;e--&&Hm.test(t.charAt(e)););return e}(n)+1).replace(Um,""):n;var i=tb.test(t);return i||eb.test(t)?nb(t.slice(2),i?2:8):Xm.test(t)?NaN:+t};var sb=Math.max,ob=Math.min;const rb=function(t,e){return t===e||t!=t&&e!=e},ab=function(t,e){for(var n=t.length;n--;)if(rb(t[n][0],e))return n;return-1};var lb=Array.prototype.splice;function cb(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}cb.prototype.clear=function(){this.__data__=[],this.size=0},cb.prototype.delete=function(t){var e=this.__data__,n=ab(e,t);return!(n<0||(n==e.length-1?e.pop():lb.call(e,n,1),--this.size,0))},cb.prototype.get=function(t){var e=this.__data__,n=ab(e,t);return n<0?void 0:e[n][1]},cb.prototype.has=function(t){return ab(this.__data__,t)>-1},cb.prototype.set=function(t,e){var n=this.__data__,i=ab(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};const ub=cb,hb=function(t){if(!Fm(t))return!1;var e=Zm(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},db=zm["__core-js_shared__"];var pb,fb=(pb=/[^.]+$/.exec(db&&db.keys&&db.keys.IE_PROTO||""))?"Symbol(src)_1."+pb:"",gb=Function.prototype.toString;const mb=function(t){if(null!=t){try{return gb.call(t)}catch(e){}try{return t+""}catch(e){}}return""};var bb=/^\[object .+?Constructor\]$/,wb=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const yb=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Fm(t)||(e=t,fb&&fb in e))&&(hb(t)?wb:bb).test(mb(t));var e}(n)?n:void 0},vb=yb(zm,"Map"),_b=yb(Object,"create");var kb=Object.prototype.hasOwnProperty,Cb=Object.prototype.hasOwnProperty;function Sb(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Sb.prototype.clear=function(){this.__data__=_b?_b(null):{},this.size=0},Sb.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Sb.prototype.get=function(t){var e=this.__data__;if(_b){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return kb.call(e,t)?e[t]:void 0},Sb.prototype.has=function(t){var e=this.__data__;return _b?void 0!==e[t]:Cb.call(e,t)},Sb.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_b&&void 0===e?"__lodash_hash_undefined__":e,this};const xb=Sb,Tb=function(t,e){var n,i,s=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?s["string"==typeof e?"string":"hash"]:s.map};function Eb(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Eb.prototype.clear=function(){this.size=0,this.__data__={hash:new xb,map:new(vb||ub),string:new xb}},Eb.prototype.delete=function(t){var e=Tb(this,t).delete(t);return this.size-=e?1:0,e},Eb.prototype.get=function(t){return Tb(this,t).get(t)},Eb.prototype.has=function(t){return Tb(this,t).has(t)},Eb.prototype.set=function(t,e){var n=Tb(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};const Ib=Eb;function Ob(t){var e=this.__data__=new ub(t);this.size=e.size}Ob.prototype.clear=function(){this.__data__=new ub,this.size=0},Ob.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ob.prototype.get=function(t){return this.__data__.get(t)},Ob.prototype.has=function(t){return this.__data__.has(t)},Ob.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ub){var i=n.__data__;if(!vb||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ib(i)}return n.set(t,e),this.size=n.size,this};const Ab=Ob,Pb=function(){try{var t=yb(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),Mb=function(t,e,n){"__proto__"==e&&Pb?Pb(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var Db=Object.prototype.hasOwnProperty;const Lb=function(t,e,n){var i=t[e];Db.call(t,e)&&rb(i,n)&&(void 0!==n||e in t)||Mb(t,e,n)},Rb=function(t,e,n,i){var s=!n;n||(n={});for(var o=-1,r=e.length;++o<r;){var a=e[o],l=i?i(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),s?Mb(n,a,l):Lb(n,a,l)}return n},Nb=function(t){return Jm(t)&&"[object Arguments]"==Zm(t)};var Fb=Object.prototype,Vb=Fb.hasOwnProperty,jb=Fb.propertyIsEnumerable;const zb=Nb(function(){return arguments}())?Nb:function(t){return Jm(t)&&Vb.call(t,"callee")&&!jb.call(t,"callee")},Bb=Array.isArray;var Hb="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ub=Hb&&"object"==typeof module&&module&&!module.nodeType&&module,$b=Ub&&Ub.exports===Hb?zm.Buffer:void 0;const Wb=($b?$b.isBuffer:void 0)||function(){return!1};var qb=/^(?:0|[1-9]\d*)$/;const Kb=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&qb.test(t))&&t>-1&&t%1==0&&t<e},Gb=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var Yb={};Yb["[object Float32Array]"]=Yb["[object Float64Array]"]=Yb["[object Int8Array]"]=Yb["[object Int16Array]"]=Yb["[object Int32Array]"]=Yb["[object Uint8Array]"]=Yb["[object Uint8ClampedArray]"]=Yb["[object Uint16Array]"]=Yb["[object Uint32Array]"]=!0,Yb["[object Arguments]"]=Yb["[object Array]"]=Yb["[object ArrayBuffer]"]=Yb["[object Boolean]"]=Yb["[object DataView]"]=Yb["[object Date]"]=Yb["[object Error]"]=Yb["[object Function]"]=Yb["[object Map]"]=Yb["[object Number]"]=Yb["[object Object]"]=Yb["[object RegExp]"]=Yb["[object Set]"]=Yb["[object String]"]=Yb["[object WeakMap]"]=!1;const Qb=function(t){return function(e){return t(e)}};var Zb="object"==typeof exports&&exports&&!exports.nodeType&&exports,Jb=Zb&&"object"==typeof module&&module&&!module.nodeType&&module,Xb=Jb&&Jb.exports===Zb&&Vm.process;const tw=function(){try{return Jb&&Jb.require&&Jb.require("util").types||Xb&&Xb.binding&&Xb.binding("util")}catch(t){}}();var ew=tw&&tw.isTypedArray;const nw=ew?Qb(ew):function(t){return Jm(t)&&Gb(t.length)&&!!Yb[Zm(t)]};var iw=Object.prototype.hasOwnProperty;const sw=function(t,e){var n=Bb(t),i=!n&&zb(t),s=!n&&!i&&Wb(t),o=!n&&!i&&!s&&nw(t),r=n||i||s||o,a=r?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],l=a.length;for(var c in t)!e&&!iw.call(t,c)||r&&("length"==c||s&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Kb(c,l))||a.push(c);return a};var ow=Object.prototype;const rw=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ow)},aw=function(t,e){return function(n){return t(e(n))}},lw=aw(Object.keys,Object);var cw=Object.prototype.hasOwnProperty;const uw=function(t){return null!=t&&Gb(t.length)&&!hb(t)},hw=function(t){return uw(t)?sw(t):function(t){if(!rw(t))return lw(t);var e=[];for(var n in Object(t))cw.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)};var dw=Object.prototype.hasOwnProperty;const pw=function(t){return uw(t)?sw(t,!0):function(t){if(!Fm(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=rw(t),n=[];for(var i in t)("constructor"!=i||!e&&dw.call(t,i))&&n.push(i);return n}(t)};var fw="object"==typeof exports&&exports&&!exports.nodeType&&exports,gw=fw&&"object"==typeof module&&module&&!module.nodeType&&module,mw=gw&&gw.exports===fw?zm.Buffer:void 0,bw=mw?mw.allocUnsafe:void 0;const ww=function(){return[]};var yw=Object.prototype.propertyIsEnumerable,vw=Object.getOwnPropertySymbols;const _w=vw?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var i=-1,s=null==e?0:e.length,o=0,r=[];++i<s;){var a=e[i];yw.call(t,a)&&(r[o++]=a)}return r}(vw(t)))}:ww,kw=function(t,e){for(var n=-1,i=e.length,s=t.length;++n<i;)t[s+n]=e[n];return t},Cw=aw(Object.getPrototypeOf,Object),Sw=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)kw(e,_w(t)),t=Cw(t);return e}:ww,xw=function(t,e,n){var i=e(t);return Bb(t)?i:kw(i,n(t))},Tw=function(t){return xw(t,hw,_w)},Ew=function(t){return xw(t,pw,Sw)},Iw=yb(zm,"DataView"),Ow=yb(zm,"Promise"),Aw=yb(zm,"Set"),Pw=yb(zm,"WeakMap");var Mw="[object Map]",Dw="[object Promise]",Lw="[object Set]",Rw="[object WeakMap]",Nw="[object DataView]",Fw=mb(Iw),Vw=mb(vb),jw=mb(Ow),zw=mb(Aw),Bw=mb(Pw),Hw=Zm;(Iw&&Hw(new Iw(new ArrayBuffer(1)))!=Nw||vb&&Hw(new vb)!=Mw||Ow&&Hw(Ow.resolve())!=Dw||Aw&&Hw(new Aw)!=Lw||Pw&&Hw(new Pw)!=Rw)&&(Hw=function(t){var e=Zm(t),n="[object Object]"==e?t.constructor:void 0,i=n?mb(n):"";if(i)switch(i){case Fw:return Nw;case Vw:return Mw;case jw:return Dw;case zw:return Lw;case Bw:return Rw}return e});const Uw=Hw;var $w=Object.prototype.hasOwnProperty;const Ww=zm.Uint8Array,qw=function(t){var e=new t.constructor(t.byteLength);return new Ww(e).set(new Ww(t)),e};var Kw=/\w*$/,Gw=$m?$m.prototype:void 0,Yw=Gw?Gw.valueOf:void 0;var Qw=Object.create;const Zw=function(){function t(){}return function(e){if(!Fm(e))return{};if(Qw)return Qw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var Jw=tw&&tw.isMap;const Xw=Jw?Qb(Jw):function(t){return Jm(t)&&"[object Map]"==Uw(t)};var ty=tw&&tw.isSet;const ey=ty?Qb(ty):function(t){return Jm(t)&&"[object Set]"==Uw(t)};var ny="[object Arguments]",iy="[object Function]",sy={};sy[ny]=sy["[object Array]"]=sy["[object ArrayBuffer]"]=sy["[object DataView]"]=sy["[object Boolean]"]=sy["[object Date]"]=sy["[object Float32Array]"]=sy["[object Float64Array]"]=sy["[object Int8Array]"]=sy["[object Int16Array]"]=sy["[object Int32Array]"]=sy["[object Map]"]=sy["[object Number]"]=sy["[object Object]"]=sy["[object RegExp]"]=sy["[object Set]"]=sy["[object String]"]=sy["[object Symbol]"]=sy["[object Uint8Array]"]=sy["[object Uint8ClampedArray]"]=sy["[object Uint16Array]"]=sy["[object Uint32Array]"]=!0,sy["[object Error]"]=sy[iy]=sy["[object WeakMap]"]=!1;const oy=function t(e,n,i,s,o,r){var a,l=1&n,c=2&n,u=4&n;if(i&&(a=o?i(e,s,o,r):i(e)),void 0!==a)return a;if(!Fm(e))return e;var h=Bb(e);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&$w.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!l)return function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}(e,a)}else{var d=Uw(e),p=d==iy||"[object GeneratorFunction]"==d;if(Wb(e))return function(t,e){if(e)return t.slice();var n=t.length,i=bw?bw(n):new t.constructor(n);return t.copy(i),i}(e,l);if("[object Object]"==d||d==ny||p&&!o){if(a=c||p?{}:function(t){return"function"!=typeof t.constructor||rw(t)?{}:Zw(Cw(t))}(e),!l)return c?function(t,e){return Rb(t,Sw(t),e)}(e,function(t,e){return t&&Rb(e,pw(e),t)}(a,e)):function(t,e){return Rb(t,_w(t),e)}(e,function(t,e){return t&&Rb(e,hw(e),t)}(a,e))}else{if(!sy[d])return o?e:{};a=function(t,e,n){var i,s,o=t.constructor;switch(e){case"[object ArrayBuffer]":return qw(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var n=e?qw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?qw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(s=new(i=t).constructor(i.source,Kw.exec(i))).lastIndex=i.lastIndex,s;case"[object Set]":return new o;case"[object Symbol]":return Yw?Object(Yw.call(t)):{}}}(e,d,l)}}r||(r=new Ab);var f=r.get(e);if(f)return f;r.set(e,a),ey(e)?e.forEach(function(s){a.add(t(s,n,i,s,e,r))}):Xw(e)&&e.forEach(function(s,o){a.set(o,t(s,n,i,o,e,r))});var g=h?void 0:(u?c?Ew:Tw:c?pw:hw)(e);return function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n););}(g||e,function(s,o){g&&(s=e[o=s]),Lb(a,o,t(s,n,i,o,e,r))}),a};var ry=Function.prototype.toString,ay=Object.prototype.hasOwnProperty,ly=ry.call(Object);function cy(t,e=new Set){const n=[t],i=new Set;for(;n.length>0;){const t=n.shift();if(!(i.has(t)||uy(t)||e.has(t)))if(i.add(t),t[Symbol.iterator])try{for(const e of t)n.push(e)}catch(s){}else for(const e in t)"defaultValue"!==e&&n.push(t[e])}return i}function uy(t){const e=Object.prototype.toString.call(t),n=typeof t;return"number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t instanceof EventTarget||t instanceof Event}class hy extends class{constructor(t){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const e=t.error||t.reason;e instanceof Error&&this._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(t=>t!==e)}_fire(t,...e){const n=this._listeners[t]||[];for(const i of n)i.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e.filename,lineno:e.lineno,colno:e.colno,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&null!=t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(t,e={}){super(e),this._editor=null,this._throttledSave=function(t,e,n){var i=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Fm(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),function(t,e,n){var i,s,o,r,a,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,o=s;return i=s=void 0,c=e,r=t.apply(o,n)}function f(t){return c=t,a=setTimeout(m,e),u?p(t):r}function g(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-c>=o}function m(){var t=Bm();if(g(t))return b(t);a=setTimeout(m,function(t){var n=e-(t-l);return h?ob(n,o-(t-c)):n}(t))}function b(t){return a=void 0,d&&i?p(t):(i=s=void 0,r)}function w(){var t=Bm(),n=g(t);if(i=arguments,s=this,l=t,n){if(void 0===a)return f(l);if(h)return clearTimeout(a),a=setTimeout(m,e),p(l)}return void 0===a&&(a=setTimeout(m,e)),r}return e=ib(e)||0,Fm(n)&&(u=!!n.leading,o=(h="maxWait"in n)?sb(ib(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),w.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=s=a=void 0},w.flush=function(){return void 0===a?r:b(Bm())},w}(t,e,{leading:i,maxWait:e,trailing:s})}(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),this._creator=(e,n)=>t.create(e,n),this._destructor=t=>t.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,e=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(e)||{},this._config.context=n,this._creator(t,this._config))).then(t=>{this._editor=t,t.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=t.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,this._destructor(t)})}_save(){const t=this._editor.model.document.version;if(t!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const e of this._editor.model.document.getRootNames())t[e]=this._editor.data.get({rootName:e});return t}_isErrorComingFromThisItem(t){return function(t,e,n=new Set){if(t===e&&"object"==typeof(i=t)&&null!==i)return!0;var i;const s=cy(t,n),o=cy(e,n);for(const r of s)if(o.has(r))return!0;return!1}(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return oy(t,5,e="function"==typeof(e=(t,e)=>function(t){return Jm(t)&&1===t.nodeType&&!function(t){if(!Jm(t)||"[object Object]"!=Zm(t))return!1;var e=Cw(t);if(null===e)return!0;var n=ay.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ry.call(n)==ly}(t)}(t)||"context"===e?t:void 0)?e:void 0);var e}}const dy=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),py=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function fy(t){return e=>0===t?ag():e.lift(new gy(t))}class gy{constructor(t){if(this.total=t,this.total<0)throw new py}call(t,e){return e.subscribe(new my(t,this.total))}}class my extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function by(t=null){return e=>e.lift(new wy(t))}class wy{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new yy(t,this.defaultValue))}}class yy extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function vy(t=Cy){return e=>e.lift(new _y(t))}class _y{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ky(t,this.errorFactory))}}class ky extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Cy(){return new dy}function Sy(t,e){const n=arguments.length>=2;return i=>i.pipe(t?qf((e,n)=>t(e,n,i)):H,fy(1),n?by(e):vy(()=>new dy))}function xy(t,e){}const Ty=new Array(256).fill(0).map((t,e)=>("0"+e.toString(16)).slice(-2));let Ey=(()=>{class t{constructor(t,e){this.config={},this.data="",this.tagName="div",this.ready=new lc,this.change=new lc,this.blur=new lc,this.focus=new lc,this.error=new lc,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+Ty[t>>0&255]+Ty[t>>8&255]+Ty[t>>16&255]+Ty[t>>24&255]+Ty[e>>0&255]+Ty[e>>8&255]+Ty[e>>16&255]+Ty[e>>24&255]+Ty[n>>0&255]+Ty[n>>8&255]+Ty[n>>16&255]+Ty[n>>24&255]+Ty[i>>0&255]+Ty[i>>8&255]+Ty[i>>16&255]+Ty[i>>24&255]}(),this.ngZone=e,this.elementRef=t}set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return Nm(this,void 0,void 0,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(t),this.isEditorSettingData=!1):(this.data=t,this.ready.pipe(Sy()).subscribe(t=>{t.setData(this.data)}))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(this.editorInstance.isReadOnly=t),this.initiallyDisabled=t}attachToWatchdog(){const t=(t,e)=>Nm(this,void 0,void 0,function*(){return this.ngZone.runOutsideAngular(()=>Nm(this,void 0,void 0,function*(){this.elementRef.nativeElement.appendChild(t);const n=yield this.editor.create(t,e);return this.initiallyDisabled&&(n.isReadOnly=this.initiallyDisabled),this.ngZone.run(()=>{this.ready.emit(n)}),this.setUpEditorEvents(n),n}))}),e=t=>Nm(this,void 0,void 0,function*(){yield t.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),n=()=>{this.ngZone.run(()=>{this.error.emit()})},i=document.createElement(this.tagName),s=this.getConfig();if(this.editorElement=i,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:t,destructor:e,sourceElementOrData:i,config:s}),this.watchdog.on("itemError",(t,{itemId:e})=>{e===this.id&&n()});else{const o=new hy(this.editor);o.setCreator(t),o.setDestructor(e),o.on("error",n),this.editorWatchdog=o,this.editorWatchdog.create(i,s)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const t=Object.assign({},this.config),e=this.config.initialData||this.data;return e&&(t.initialData=e),t}setUpEditorEvents(t){const e=t.editing.view.document;t.model.document.on("change:data",e=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const e=t.getData();this.cvaOnChange(e)}this.change.emit({event:e,editor:t})})}),e.on("focus",e=>{this.ngZone.run(()=>{this.focus.emit({event:e,editor:t})})}),e.on("blur",e=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:e,editor:t})})})}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(Yc))},t.\u0275cmp=Bt({type:t,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[Va([{provide:Tp,useExisting:it(()=>t),multi:!0}])],decls:1,vars:0,template:function(t,e){1&t&&kr(0,xy,0,0,"ng-template")},encapsulation:2}),t})(),Iy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[gf,Fh]]}),t})(),Oy=(()=>{class t{constructor(t,e){this.el=t,this.zone=e,this.tooltipPosition="right",this.tooltipEvent="hover",this.appendTo="body",this.tooltipZIndex="auto",this.escape=!0}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.tooltipEvent?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}onMouseEnter(t){this.container||this.showTimeout||this.activate()}onMouseLeave(t){this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onClick(t){this.deactivate()}activate(){this.active=!0,this.clearHideTimeout(),this.showDelay?this.showTimeout=setTimeout(()=>{this.show()},this.showDelay):this.show(),this.life&&(this.hideTimeout=setTimeout(()=>{this.hide()},this.showDelay?this.life+this.showDelay:this.life))}deactivate(){this.active=!1,this.clearShowTimeout(),this.hideDelay?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.hideDelay)):this.hide()}get text(){return this._text}set text(t){this._text=t,this.active&&(this._text?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.positionStyle&&(this.container.style.position=this.positionStyle),this.container.appendChild(this.tooltipText),"body"===this.appendTo?document.body.appendChild(this.container):Ad.appendChild(this.container,"target"===this.appendTo?this.el.nativeElement:this.appendTo),this.container.style.display="inline-block"}show(){this.text&&!this.disabled&&(this.create(),this.align(),Ad.fadeIn(this.container,250),this.container.style.zIndex="auto"===this.tooltipZIndex?++Ad.zindex:this.tooltipZIndex,this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){this.remove()}updateText(){this.escape?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this._text))):this.tooltipText.innerHTML=this._text}align(){switch(this.tooltipPosition){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.appendTo||"target"===this.appendTo){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+Ad.getWindowScrollLeft(),top:t.top+Ad.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),e=t.left+Ad.getOuterWidth(this.el.nativeElement),n=t.top+(Ad.getOuterHeight(this.el.nativeElement)-Ad.getOuterHeight(this.container))/2;this.container.style.left=e+"px",this.container.style.top=n+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),e=t.left-Ad.getOuterWidth(this.container),n=t.top+(Ad.getOuterHeight(this.el.nativeElement)-Ad.getOuterHeight(this.container))/2;this.container.style.left=e+"px",this.container.style.top=n+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),e=t.left+(Ad.getOuterWidth(this.el.nativeElement)-Ad.getOuterWidth(this.container))/2,n=t.top-Ad.getOuterHeight(this.container);this.container.style.left=e+"px",this.container.style.top=n+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),e=t.left+(Ad.getOuterWidth(this.el.nativeElement)-Ad.getOuterWidth(this.container))/2,n=t.top+Ad.getOuterHeight(this.el.nativeElement);this.container.style.left=e+"px",this.container.style.top=n+"px"}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let e="p-tooltip p-component p-tooltip-"+t;this.container.className=this.tooltipStyleClass?e+" "+this.tooltipStyleClass:e}isOutOfBounds(){let t=this.container.getBoundingClientRect(),e=t.top,n=t.left,i=Ad.getOuterWidth(this.container),s=Ad.getOuterHeight(this.container),o=Ad.getViewport();return n+i>o.width||n<0||e<0||e+s>o.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Pd(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.tooltipEvent?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.appendTo?document.body.removeChild(this.container):"target"===this.appendTo?this.el.nativeElement.removeChild(this.container):Ad.removeChild(this.container,this.appendTo)),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(Yc))},t.\u0275dir=Kt({type:t,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",disabled:["tooltipDisabled","disabled"],text:["pTooltip","text"]}}),t})(),Ay=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh]]}),t})();function Py(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr();Ws(1),wa(t.label||"empty")}}function My(t,e){1&t&&Mr(0)}const Dy=function(t){return{height:t}},Ly=function(t,e){return{"p-dropdown-item":!0,"p-highlight":t,"p-disabled":e}},Ry=function(t){return{$implicit:t}},Ny=["container"],Fy=["filter"],Vy=["in"],jy=["editableInput"];function zy(t,e){if(1&t&&(Ar(0),ba(1),Pr()),2&t){const t=jr(2);Ws(1),wa(t.label||"empty")}}function By(t,e){1&t&&Mr(0)}const Hy=function(t){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":t}};function Uy(t,e){if(1&t&&(Er(0,"span",12),kr(1,zy,2,1,"ng-container",13),kr(2,By,1,0,"ng-container",14),Ir()),2&t){const t=jr();xr("ngClass",Wl(8,Hy,null==t.label||0===t.label.length))("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),Ws(1),xr("ngIf",!t.selectedItemTemplate),Ws(1),xr("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",Wl(10,Ry,t.selectedOption))}}const $y=function(t){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":t}};function Wy(t,e){if(1&t&&(Er(0,"span",15),ba(1),Ir()),2&t){const t=jr();xr("ngClass",Wl(2,$y,null==t.placeholder||0===t.placeholder.length)),Ws(1),wa(t.placeholder||"empty")}}function qy(t,e){if(1&t){const t=Dr();Er(0,"input",16,17),Nr("click",function(){return Me(t),jr().onEditableInputClick()})("input",function(e){return Me(t),jr().onEditableInputChange(e)})("focus",function(e){return Me(t),jr().onEditableInputFocus(e)})("blur",function(e){return Me(t),jr().onInputBlur(e)}),Ir()}if(2&t){const t=jr();xr("disabled",t.disabled),_r("maxlength",t.maxlength)("placeholder",t.placeholder)("aria-expanded",t.overlayVisible)}}function Ky(t,e){if(1&t){const t=Dr();Er(0,"i",18),Nr("click",function(e){return Me(t),jr().clear(e)}),Ir()}}function Gy(t,e){1&t&&Mr(0)}function Yy(t,e){if(1&t){const t=Dr();Er(0,"div",26),Er(1,"div",27),Nr("click",function(t){return t.stopPropagation()}),Er(2,"input",28,29),Nr("keydown.enter",function(t){return t.preventDefault()})("keydown",function(e){return Me(t),jr(2).onKeydown(e,!1)})("input",function(e){return Me(t),jr(2).onFilterInputChange(e)}),Ir(),Or(4,"span",30),Ir(),Ir()}if(2&t){const t=jr(2);Ws(2),xr("value",t.filterValue||""),_r("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)}}function Qy(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr().$implicit,e=jr(3);Ws(1),wa(e.getOptionGroupLabel(t)||"empty")}}function Zy(t,e){1&t&&Mr(0)}function Jy(t,e){1&t&&Mr(0)}const Xy=function(t,e){return{$implicit:t,selectedOption:e}};function tv(t,e){if(1&t&&(Er(0,"li",32),kr(1,Qy,2,1,"span",13),kr(2,Zy,1,0,"ng-container",14),Ir(),kr(3,Jy,1,0,"ng-container",14)),2&t){const t=e.$implicit;jr(2);const n=Cr(8),i=jr();Ws(1),xr("ngIf",!i.groupTemplate),Ws(1),xr("ngTemplateOutlet",i.groupTemplate)("ngTemplateOutletContext",Wl(5,Ry,t)),Ws(1),xr("ngTemplateOutlet",n)("ngTemplateOutletContext",ql(7,Xy,i.getOptionGroupChildren(t),i.selectedOption))}}function ev(t,e){if(1&t&&(Ar(0),kr(1,tv,4,10,"ng-template",31),Pr()),2&t){const t=jr(2);Ws(1),xr("ngForOf",t.optionsToDisplay)}}function nv(t,e){1&t&&Mr(0)}function iv(t,e){if(1&t&&(Ar(0),kr(1,nv,1,0,"ng-container",14),Pr()),2&t){jr();const t=Cr(8),e=jr();Ws(1),xr("ngTemplateOutlet",t)("ngTemplateOutletContext",ql(2,Xy,e.optionsToDisplay,e.selectedOption))}}function sv(t,e){if(1&t){const t=Dr();Er(0,"p-dropdownItem",35),Nr("onClick",function(e){return Me(t),jr(4).onItemClick(e)}),Ir()}if(2&t){const t=e.$implicit,n=jr(2).selectedOption,i=jr(2);xr("option",t)("selected",n==t)("label",i.getOptionLabel(t))("disabled",i.isOptionDisabled(t))("template",i.itemTemplate)}}function ov(t,e){if(1&t&&(Ar(0),kr(1,sv,1,5,"ng-template",31),Pr()),2&t){const t=jr().$implicit;Ws(1),xr("ngForOf",t)}}function rv(t,e){if(1&t){const t=Dr();Ar(0),Er(1,"p-dropdownItem",35),Nr("onClick",function(e){return Me(t),jr(5).onItemClick(e)}),Ir(),Pr()}if(2&t){const t=e.$implicit,n=jr(3).selectedOption,i=jr(2);Ws(1),xr("option",t)("selected",n==t)("label",i.getOptionLabel(t))("disabled",i.isOptionDisabled(t))("template",i.itemTemplate)}}function av(t,e){if(1&t){const t=Dr();Er(0,"cdk-virtual-scroll-viewport",37,38),Nr("scrolledIndexChange",function(){return Me(t),jr(4).scrollToSelectedVirtualScrollElement()}),kr(2,rv,2,5,"ng-container",39),Ir()}if(2&t){const t=jr(2).$implicit,e=jr(2);xr("ngStyle",Wl(3,Dy,e.scrollHeight))("itemSize",e.itemSize),Ws(2),xr("cdkVirtualForOf",t)}}function lv(t,e){if(1&t&&kr(0,av,3,5,"cdk-virtual-scroll-viewport",36),2&t){const t=jr(3);xr("ngIf",t.virtualScroll&&t.optionsToDisplay&&t.optionsToDisplay.length)}}function cv(t,e){if(1&t&&(kr(0,ov,2,1,"ng-container",33),kr(1,lv,1,1,"ng-template",null,34,Ec)),2&t){const t=Cr(2);xr("ngIf",!jr(2).virtualScroll)("ngIfElse",t)}}function uv(t,e){if(1&t&&(Ar(0),ba(1),Pr()),2&t){const t=jr(3);Ws(1),ya(" ",t.emptyFilterMessageLabel," ")}}function hv(t,e){1&t&&Mr(0,null,41)}function dv(t,e){if(1&t&&(Er(0,"li",40),kr(1,uv,2,1,"ng-container",33),kr(2,hv,2,0,"ng-container",20),Ir()),2&t){const t=jr(2);Ws(1),xr("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),Ws(1),xr("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function pv(t,e){if(1&t&&(Ar(0),ba(1),Pr()),2&t){const t=jr(3);Ws(1),ya(" ",t.emptyMessageLabel," ")}}function fv(t,e){1&t&&Mr(0,null,42)}function gv(t,e){if(1&t&&(Er(0,"li",40),kr(1,pv,2,1,"ng-container",33),kr(2,fv,2,0,"ng-container",20),Ir()),2&t){const t=jr(2);Ws(1),xr("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),Ws(1),xr("ngTemplateOutlet",t.emptyTemplate)}}function mv(t,e){1&t&&Mr(0)}const bv=function(t,e){return{showTransitionParams:t,hideTransitionParams:e}},wv=function(t){return{value:"visible",params:t}},yv=function(t){return{"p-dropdown-virtualscroll":t}};function vv(t,e){if(1&t){const t=Dr();Er(0,"div",19),Nr("@overlayAnimation.start",function(e){return Me(t),jr().onOverlayAnimationStart(e)}),kr(1,Gy,1,0,"ng-container",20),kr(2,Yy,5,3,"div",21),Er(3,"div",22),Er(4,"ul",23),kr(5,ev,2,1,"ng-container",13),kr(6,iv,2,5,"ng-container",13),kr(7,cv,3,2,"ng-template",null,24,Ec),kr(9,dv,3,3,"li",25),kr(10,gv,3,3,"li",25),Ir(),Ir(),kr(11,mv,1,0,"ng-container",20),Ir()}if(2&t){const t=jr();sa(t.panelStyleClass),xr("ngClass","p-dropdown-panel p-component")("@overlayAnimation",Wl(18,wv,ql(15,bv,t.showTransitionOptions,t.hideTransitionOptions)))("ngStyle",t.panelStyle),Ws(1),xr("ngTemplateOutlet",t.headerTemplate),Ws(1),xr("ngIf",t.filter),Ws(1),ta("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),Ws(1),xr("ngClass",Wl(20,yv,t.virtualScroll)),Ws(1),xr("ngIf",t.group),Ws(1),xr("ngIf",!t.group),Ws(3),xr("ngIf",t.filterValue&&t.isEmpty()),Ws(1),xr("ngIf",!t.filterValue&&t.isEmpty()),Ws(1),xr("ngTemplateOutlet",t.footerTemplate)}}const _v=function(t,e,n,i){return{"p-dropdown p-component":!0,"p-disabled":t,"p-dropdown-open":e,"p-focus":n,"p-dropdown-clearable":i}},kv={provide:Tp,useExisting:it(()=>Sv),multi:!0};let Cv=(()=>{class t{constructor(){this.onClick=new lc}onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["p-dropdownItem"]],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:14,consts:[["role","option","pRipple","",3,"ngStyle","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(Er(0,"li",0),Nr("click",function(t){return e.onOptionClick(t)}),kr(1,Py,2,1,"span",1),kr(2,My,1,0,"ng-container",2),Ir()),2&t&&(xr("ngStyle",Wl(7,Dy,e.itemSize+"px"))("ngClass",ql(9,Ly,e.selected,e.disabled)),_r("aria-label",e.label)("aria-selected",e.selected),Ws(1),xr("ngIf",!e.template),Ws(1),xr("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Wl(12,Ry,e.option)))},directives:[Gd,Mh,xh,Oh,Dh],encapsulation:2}),t})(),Sv=(()=>{class t{constructor(t,e,n,i,s,o){this.el=t,this.renderer=e,this.cd=n,this.zone=i,this.filterService=s,this.config=o,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new lc,this.onFilter=new lc,this.onFocus=new lc,this.onBlur=new lc,this.onClick=new lc,this.onShow=new lc,this.onHide=new lc,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0}get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;default:this.itemTemplate=t.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)}get options(){return this._options}set options(t){this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Vd.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Vd.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(t){return this.optionLabel?Md.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?Md.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}isOptionDisabled(t){return this.optionDisabled?Md.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled}getOptionGroupLabel(t){return this.optionGroupLabel?Md.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?Md.resolveFieldData(t,this.optionGroupChildren):t.items}onItemClick(t){const e=t.option;this.isOptionDisabled(e)||(this.selectItem(t,e),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(t,e){this.selectedOption!=e&&(this.selectedOption=e,this.value=this.getOptionValue(e),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let t=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(t.start>this.virtualScrollSelectedIndex||t.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}Ad.findSingle(this.overlay,"li.p-highlight")&&Ad.scrollInView(this.itemsWrapper,Ad.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onMouseclick(t){this.disabled||this.readonly||this.isInputClick(t)||(this.onClick.emit(t),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(t){return Ad.hasClass(t.target,"p-dropdown-clear-icon")||t.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&t.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(t){this.focused=!0,this.hide(),this.onFocus.emit(t)}onEditableInputChange(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}show(){this.overlayVisible=!0}onOverlayAnimationStart(t){switch(t.toState){case"visible":if(this.overlay=t.element,this.itemsWrapper=Ad.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++Ad.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let t=Ad.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");t&&Ad.scrollInView(this.itemsWrapper,t)}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t);break;case"void":this.onOverlayHide(),this.onHide.emit(t)}}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(t){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(t&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Ad.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Ad.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?Ad.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Ad.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(t){let e;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let n=t-1;0<=n;n--){let t=this.optionsToDisplay[n];if(!t.disabled){e=t;break}}if(!e)for(let n=this.optionsToDisplay.length-1;n>=t;n--){let t=this.optionsToDisplay[n];if(!this.isOptionDisabled(t)){e=t;break}}}return e}findNextEnabledOption(t){let e;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let n=t+1;n<this.optionsToDisplay.length-1;n++){let t=this.optionsToDisplay[n];if(!this.isOptionDisabled(t)){e=t;break}}if(!e)for(let n=0;n<t;n++){let t=this.optionsToDisplay[n];if(!this.isOptionDisabled(t)){e=t;break}}}return e}onKeydown(t,e){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(t.which){case 40:if(!this.overlayVisible&&t.altKey)this.show();else if(this.group){let e=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==e){let n=e.itemIndex+1;n<this.getOptionGroupChildren(this.optionsToDisplay[e.groupIndex]).length?(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[e.groupIndex])[n]),this.selectedOptionUpdated=!0):this.optionsToDisplay[e.groupIndex+1]&&(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[e.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let e=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,n=this.findNextEnabledOption(e);n&&(this.selectItem(t,n),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 38:if(this.group){let e=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==e){let n=e.itemIndex-1;if(n>=0)this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[e.groupIndex])[n]),this.selectedOptionUpdated=!0;else if(n<0){let n=this.optionsToDisplay[e.groupIndex-1];n&&(this.selectItem(t,this.getOptionGroupChildren(n)[this.getOptionGroupChildren(n).length-1]),this.selectedOptionUpdated=!0)}}}else{let e=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,n=this.findPrevEnabledOption(e);n&&(this.selectItem(t,n),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 32:case 32:this.overlayVisible||(this.show(),t.preventDefault());break;case 13:(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)&&this.hide(),t.preventDefault();break;case 27:case 9:this.hide();break;default:e&&!t.metaKey&&this.search(t)}}search(t){this.searchTimeout&&clearTimeout(this.searchTimeout);const e=t.key;let n;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=e,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+e:e,this.group){let t=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};n=this.searchOptionWithinGroup(t)}else{let t=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;n=this.searchOption(++t)}n&&!this.isOptionDisabled(n)&&(this.selectItem(t,n),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(t){let e;return this.searchValue&&(e=this.searchOptionInRange(t,this.optionsToDisplay.length),e||(e=this.searchOptionInRange(0,t))),e}searchOptionInRange(t,e){for(let n=t;n<e;n++){let t=this.optionsToDisplay[n];if(this.getOptionLabel(t).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(t))return t}return null}searchOptionWithinGroup(t){if(this.searchValue){for(let e=t.groupIndex;e<this.optionsToDisplay.length;e++)for(let n=t.groupIndex===e?t.itemIndex+1:0;n<this.getOptionGroupChildren(this.optionsToDisplay[e]).length;n++){let t=this.getOptionGroupChildren(this.optionsToDisplay[e])[n];if(this.getOptionLabel(t).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(t))return t}for(let e=0;e<=t.groupIndex;e++)for(let n=0;n<(t.groupIndex===e?t.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[e]).length);n++){let t=this.getOptionGroupChildren(this.optionsToDisplay[e])[n];if(this.getOptionLabel(t).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(t))return t}}return null}findOptionIndex(t,e){let n=-1;if(e)for(let i=0;i<e.length;i++)if(null==t&&null==this.getOptionValue(e[i])||Md.equals(t,this.getOptionValue(e[i]),this.dataKey)){n=i;break}return n}findOptionGroupIndex(t,e){let n,i;if(e)for(let s=0;s<e.length&&(n=s,i=this.findOptionIndex(t,this.getOptionGroupChildren(e[s])),-1===i);s++);return-1!==i?{groupIndex:n,itemIndex:i}:-1}findOption(t,e,n){if(this.group&&!n){let n;if(e&&e.length)for(let i of e)if(n=this.findOption(t,this.getOptionGroupChildren(i),!0),n)break;return n}{let n=this.findOptionIndex(t,e);return-1!=n?e[n]:null}}onFilterInputChange(t){let e=t.target.value;e&&e.length?(this._filterValue=e,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:t,filter:this._filterValue})}activateFilter(){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let e=[];for(let n of this.options){let i=this.filterService.filter(this.getOptionGroupChildren(n),t,this.filterValue,this.filterMatchMode,this.filterLocale);i&&i.length&&e.push(Object.assign(Object.assign({},n),{[this.optionGroupChildren]:i}))}this.optionsToDisplay=e}else this.optionsToDisplay=this.filterService.filter(this.options,t,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Ad.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Ad.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",t=>{this.isOutsideClicked(t)&&(this.hide(),this.unbindDocumentClickListener()),this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){Ad.isAndroid()||this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Pd(this.containerViewChild.nativeElement,t=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(t){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide()}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(Ga),Sr(bl),Sr(Yc),Sr(jd),Sr(Fd))},t.\u0275cmp=Bt({type:t,selectors:[["p-dropdown"]],contentQueries:function(t,e,n){if(1&t&&kc(n,$d,4),2&t){let t;vc(t=Cc())&&(e.templates=t)}},viewQuery:function(t,e){if(1&t&&(_c(Ny,5),_c(Fy,5),_c(Vy,5),_c(Rg,5),_c(jy,5)),2&t){let t;vc(t=Cc())&&(e.containerViewChild=t.first),vc(t=Cc())&&(e.filterViewChild=t.first),vc(t=Cc())&&(e.accessibleViewChild=t.first),vc(t=Cc())&&(e.viewPort=t.first),vc(t=Cc())&&(e.editableInputViewChild=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&ea("p-inputwrapper-filled",e.filled)("p-inputwrapper-focus",e.focused||e.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide"},features:[Va([kv])],decls:12,vars:22,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(t,e){1&t&&(Er(0,"div",0,1),Nr("click",function(t){return e.onMouseclick(t)}),Er(2,"div",2),Er(3,"input",3,4),Nr("focus",function(t){return e.onInputFocus(t)})("blur",function(t){return e.onInputBlur(t)})("keydown",function(t){return e.onKeydown(t,!0)}),Ir(),Ir(),kr(5,Uy,3,12,"span",5),kr(6,Wy,2,4,"span",6),kr(7,qy,2,4,"input",7),kr(8,Ky,1,0,"i",8),Er(9,"div",9),Or(10,"span",10),Ir(),kr(11,vv,12,22,"div",11),Ir()),2&t&&(sa(e.styleClass),xr("ngClass",Gl(17,_v,e.disabled,e.overlayVisible,e.focused,e.showClear&&!e.disabled))("ngStyle",e.style),Ws(3),xr("disabled",e.disabled),_r("id",e.inputId)("aria-expanded",e.overlayVisible)("aria-labelledby",e.ariaLabelledBy)("tabindex",e.tabindex)("autofocus",e.autofocus),Ws(2),xr("ngIf",!e.editable&&null!=e.label),Ws(1),xr("ngIf",!e.editable&&null==e.label),Ws(1),xr("ngIf",e.editable),Ws(1),xr("ngIf",null!=e.value&&e.showClear&&!e.disabled),Ws(1),_r("aria-expanded",e.overlayVisible),Ws(1),xr("ngClass",e.dropdownIcon),Ws(1),xr("ngIf",e.overlayVisible))},directives:[xh,Mh,Oh,Oy,Dh,Eh,Cv,Rg,Ag,Fg],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}"],encapsulation:2,data:{animation:[vd("overlayAnimation",[Sd(":enter",[Cd({opacity:0,transform:"scaleY(0.8)"}),_d("{{showTransitionParams}}")]),Sd(":leave",[_d("{{hideTransitionParams}}",Cd({opacity:0}))])])]},changeDetection:0}),t})(),xv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,Wd,jg,Ay,Yd],Wd,jg]}),t})();class Tv extends C{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new v;return this._value}next(t){super.next(this._value=t)}}const Ev={};class Iv{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ov(t,this.resultSelector))}}class Ov extends D{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ev),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(M(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,s){const o=this.values,r=this.toRespond?o[n]===Ev?--this.toRespond:this.toRespond:0;o[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Av(t){return new w(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?V(n):ag()).subscribe(e)})}function Pv(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Mv(t,e,n))}}class Mv{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Dv(t,this.accumulator,this.seed,this.hasSeed))}}class Dv extends f{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function Lv(t){return function(e){const n=new Rv(t),i=e.lift(n);return n.caught=i}}class Rv{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Nv(t,this.selector,this.caught))}}class Nv extends D{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new T(this,void 0,void 0);this.add(i),M(this,n,void 0,void 0,i)}}}function Fv(t,e){return j(t,e,1)}function Vv(t){return function(e){return 0===t?ag():e.lift(new jv(t))}}class jv{constructor(t){if(this.total=t,this.total<0)throw new py}call(t,e){return e.subscribe(new zv(t,this.total))}}class zv extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<n;s++){const s=e++%n;t.next(i[s])}}t.complete()}}function Bv(t,e,n){return function(i){return i.lift(new Hv(t,e,n))}}class Hv{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Uv(t,this.nextOrObserver,this.error,this.complete))}}class Uv extends f{constructor(t,e,n,s){super(t),this._tapNext=b,this._tapError=b,this._tapComplete=b,this._tapError=n||b,this._tapComplete=s||b,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||b,this._tapError=e.error||b,this._tapComplete=e.complete||b)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class $v{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Wv(t,this.callback))}}class Wv extends f{constructor(t,e){super(t),this.add(new h(e))}}class qv{constructor(t,e){this.id=t,this.url=e}}class Kv extends qv{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gv extends qv{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yv extends qv{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qv extends qv{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zv extends qv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jv extends qv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xv extends qv{constructor(t,e,n,i,s){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class t_ extends qv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e_ extends qv{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n_{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class i_{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class s_{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o_{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r_{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a_{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l_{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const c_="primary";class u_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function h_(t){return new u_(t)}function d_(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function p_(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const s={};for(let o=0;o<i.length;o++){const e=i[o],n=t[o];if(e.startsWith(":"))s[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:s}}function f_(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let s;for(let o=0;o<n.length;o++)if(s=n[o],!g_(t[s],e[s]))return!1;return!0}function g_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function m_(t){return Array.prototype.concat.apply([],t)}function b_(t){return t.length>0?t[t.length-1]:null}function w_(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function y_(t){return Rr(t)?t:Lr(t)?V(Promise.resolve(t)):xf(t)}const v_={exact:function t(e,n,i){if(!O_(e.segments,n.segments))return!1;if(!x_(e.segments,n.segments,i))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children){if(!e.children[s])return!1;if(!t(e.children[s],n.children[s],i))return!1}return!0},subset:C_},__={exact:function(t,e){return f_(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>g_(t[n],e[n]))},ignored:()=>!0};function k_(t,e,n){return v_[n.paths](t.root,e.root,n.matrixParams)&&__[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function C_(t,e,n){return S_(t,e,e.segments,n)}function S_(t,e,n,i){if(t.segments.length>n.length){const s=t.segments.slice(0,n.length);return!!O_(s,n)&&!e.hasChildren()&&!!x_(s,n,i)}if(t.segments.length===n.length){if(!O_(t.segments,n))return!1;if(!x_(t.segments,n,i))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!C_(t.children[n],e.children[n],i))return!1}return!0}{const s=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!O_(t.segments,s)&&!!x_(t.segments,s,i)&&!!t.children.primary&&S_(t.children.primary,e,o,i)}}function x_(t,e,n){return e.every((e,i)=>__[n](t[i].parameters,e.parameters))}class T_{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=h_(this.queryParams)),this._queryParamMap}toString(){return M_.serialize(this)}}class E_{constructor(t,e){this.segments=t,this.children=e,this.parent=null,w_(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return D_(this)}}class I_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=h_(this.parameters)),this._parameterMap}toString(){return z_(this)}}function O_(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class A_{}class P_{parse(t){const e=new W_(t);return new T_(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${L_(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${N_(e)}=${N_(t)}`).join("&"):`${N_(e)}=${N_(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const M_=new P_;function D_(t){return t.segments.map(t=>z_(t)).join("/")}function L_(t,e){if(!t.hasChildren())return D_(t);if(e){const e=t.children.primary?L_(t.children.primary,!1):"",n=[];return w_(t.children,(t,e)=>{e!==c_&&n.push(`${e}:${L_(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return w_(t.children,(t,i)=>{i===c_&&(n=n.concat(e(t,i)))}),w_(t.children,(t,i)=>{i!==c_&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===c_?[L_(t.children.primary,!1)]:[`${n}:${L_(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${D_(t)}/${e[0]}`:`${D_(t)}/(${e.join("//")})`}}function R_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function N_(t){return R_(t).replace(/%3B/gi,";")}function F_(t){return R_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V_(t){return decodeURIComponent(t)}function j_(t){return V_(t.replace(/\+/g,"%20"))}function z_(t){return`${F_(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${F_(t)}=${F_(e[t])}`).join("")}`;var e}const B_=/^[^\/()?;=#]+/;function H_(t){const e=t.match(B_);return e?e[0]:""}const U_=/^[^=?&#]+/,$_=/^[^?&#]+/;class W_{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new E_([],{}):new E_([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new E_(t,e)),n}parseSegment(){const t=H_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new I_(V_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=H_(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=H_(this.remaining);t&&(n=t,this.capture(n))}t[V_(e)]=V_(n)}parseQueryParam(t){const e=function(t){const e=t.match(U_);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match($_);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=j_(e),s=j_(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=H_(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=c_);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o.primary:new E_([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class q_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=K_(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=K_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=G_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return G_(t,this._root).map(t=>t.value)}}function K_(t,e){if(t===e.value)return e;for(const n of e.children){const e=K_(t,n);if(e)return e}return null}function G_(t,e){if(t===e.value)return[e];for(const n of e.children){const i=G_(t,n);if(i.length)return i.unshift(e),i}return[]}class Y_{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Q_(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Z_ extends q_{constructor(t,e){super(t),this.snapshot=e,ik(this,t)}toString(){return this.snapshot.toString()}}function J_(t,e){const n=function(t,e){const n=new ek([],{},{},"",{},c_,e,null,t.root,-1,{});return new nk("",new Y_(n,[]))}(t,e),i=new Tv([new I_("",{})]),s=new Tv({}),o=new Tv({}),r=new Tv({}),a=new Tv(""),l=new X_(i,s,r,a,o,c_,e,n.root);return l.snapshot=n.root,new Z_(new Y_(l,[]),n)}class X_{constructor(t,e,n,i,s,o,r,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=r,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(L(t=>h_(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(L(t=>h_(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tk(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class ek{constructor(t,e,n,i,s,o,r,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=r,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=h_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=h_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nk extends q_{constructor(t,e){super(e),this.url=t,ik(this,e)}toString(){return sk(this._root)}}function ik(t,e){e.value._routerState=t,e.children.forEach(e=>ik(t,e))}function sk(t){const e=t.children.length>0?` { ${t.children.map(sk).join(", ")} } `:"";return`${t.value}${e}`}function ok(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,f_(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),f_(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!f_(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),f_(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function rk(t,e){var n,i;return f_(t.params,e.params)&&O_(n=t.url,i=e.url)&&n.every((t,e)=>f_(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||rk(t.parent,e.parent))}function ak(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const s=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return ak(t,e,i);return ak(t,e)})}(t,e,n);return new Y_(i,s)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return lk(e,t),t}}const n=new X_(new Tv((i=e.value).url),new Tv(i.params),new Tv(i.queryParams),new Tv(i.fragment),new Tv(i.data),i.outlet,i.component,i),s=e.children.map(e=>ak(t,e));return new Y_(n,s)}var i}function lk(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)lk(t.children[n],e.children[n])}function ck(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function uk(t){return"object"==typeof t&&null!=t&&t.outlets}function hk(t,e,n,i,s){let o={};return i&&w_(i,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new T_(n.root===t?e:dk(n.root,t,e),o,s)}function dk(t,e,n){const i={};return w_(t.children,(t,s)=>{i[s]=t===e?n:dk(t,e,n)}),new E_(t.segments,i)}class pk{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ck(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(uk);if(i&&i!==b_(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fk{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function gk(t,e,n){if(t||(t=new E_([],{})),0===t.segments.length&&t.hasChildren())return mk(t,e,n);const i=function(t,e,n){let i=0,s=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(i>=n.length)return o;const e=t.segments[s],r=n[i];if(uk(r))break;const a=`${r}`,l=i<n.length-1?n[i+1]:null;if(s>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!vk(a,l,e))return o;i+=2}else{if(!vk(a,{},e))return o;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(t,e,n),s=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new E_(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new E_(t.segments.slice(i.pathIndex),t.children),mk(e,0,s)}return i.match&&0===s.length?new E_(t.segments,{}):i.match&&!t.hasChildren()?bk(t,e,n):i.match?mk(t,0,s):bk(t,e,n)}function mk(t,e,n){if(0===n.length)return new E_(t.segments,{});{const i=function(t){return uk(t[0])?t[0].outlets:{[c_]:t}}(n),s={};return w_(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(s[i]=gk(t.children[i],e,n))}),w_(t.children,(t,e)=>{void 0===i[e]&&(s[e]=t)}),new E_(t.segments,s)}}function bk(t,e,n){const i=t.segments.slice(0,e);let s=0;for(;s<n.length;){const o=n[s];if(uk(o)){const t=wk(o.outlets);return new E_(i,t)}if(0===s&&ck(n[0])){i.push(new I_(t.segments[e].path,yk(n[0]))),s++;continue}const r=uk(o)?o.outlets.primary:`${o}`,a=s<n.length-1?n[s+1]:null;r&&a&&ck(a)?(i.push(new I_(r,yk(a))),s+=2):(i.push(new I_(r,{})),s++)}return new E_(i,{})}function wk(t){const e={};return w_(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=bk(new E_([],{}),0,t))}),e}function yk(t){const e={};return w_(t,(t,n)=>e[n]=`${t}`),e}function vk(t,e,n){return t==n.path&&f_(e,n.parameters)}class _k{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ok(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Q_(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),w_(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,s=Q_(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=Q_(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new a_(t.value.snapshot))}),t.children.length&&this.forwardEvent(new o_(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,s=e?e.value:null;if(ok(i),i===s)if(i.component){const s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),kk(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),s=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=s,e.outlet&&e.outlet.activateWith(i,s),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function kk(t){ok(t.value),t.children.forEach(kk)}class Ck{constructor(t,e){this.routes=t,this.module=e}}function Sk(t){return"function"==typeof t}function xk(t){return t instanceof T_}const Tk=Symbol("INITIAL_VALUE");function Ek(){return ng(t=>function(...t){let e=null,n=null;return x(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),$(t,n).lift(new Iv(e))}(t.map(t=>t.pipe(fy(1),Xf(Tk)))).pipe(Pv((t,e)=>{let n=!1;return e.reduce((t,i,s)=>{if(t!==Tk)return t;if(i===Tk&&(n=!0),!n){if(!1===i)return i;if(s===e.length-1||xk(i))return i}return t},t)},Tk),qf(t=>t!==Tk),L(t=>xk(t)?t:!0===t),fy(1)))}let Ik=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Or(0,"router-outlet")},directives:function(){return[TC]},encapsulation:2}),t})();function Ok(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Ak(i,Pk(e,i))}}function Ak(t,e){t.children&&Ok(t.children,e)}function Pk(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Mk(t){const e=t.children&&t.children.map(Mk),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==c_&&(n.component=Ik),n}function Dk(t){return t.outlet||c_}function Lk(t,e){const n=t.filter(t=>Dk(t)===e);return n.push(...t.filter(t=>Dk(t)!==e)),n}const Rk={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Nk(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Rk):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||p_)(n,t,e);if(!s)return Object.assign({},Rk);const o={};w_(s.posParams,(t,e)=>{o[e]=t.path});const r=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:r,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Fk(t,e,n,i,s="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Vk(t,e,n)&&Dk(n)!==c_)}(t,n,i)){const s=new E_(e,function(t,e,n,i){const s={};s.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Dk(o)!==c_){const n=new E_([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,s[Dk(o)]=n}return s}(t,e,i,new E_(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Vk(t,e,n))}(t,n,i)){const o=new E_(t.segments,function(t,e,n,i,s,o){const r={};for(const a of i)if(Vk(t,n,a)&&!s[Dk(a)]){const n=new E_([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,r[Dk(a)]=n}return Object.assign(Object.assign({},s),r)}(t,e,n,i,t.children,s));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new E_(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Vk(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function jk(t,e,n,i){return!!(Dk(t)===i||i!==c_&&Vk(e,n,t))&&("**"===t.path||Nk(e,t,n).matched)}function zk(t,e,n){return 0===e.length&&!t.children[n]}class Bk{constructor(t){this.segmentGroup=t||null}}class Hk{constructor(t){this.urlTree=t}}function Uk(t){return new w(e=>e.error(new Bk(t)))}function $k(t){return new w(e=>e.error(new Hk(t)))}function Wk(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class qk{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(Tl)}apply(){const t=Fk(this.urlTree.root,[],[],this.config).segmentGroup,e=new E_(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,c_).pipe(L(t=>this.createUrlTree(Kk(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Lv(t=>{if(t instanceof Hk)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Bk)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,c_).pipe(L(e=>this.createUrlTree(Kk(e),t.queryParams,t.fragment))).pipe(Lv(t=>{if(t instanceof Bk)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new E_([],{[c_]:t}):t;return new T_(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(L(t=>new E_([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const s of Object.keys(n.children))"primary"===s?i.unshift(s):i.push(s);return V(i).pipe(Fv(i=>{const s=n.children[i],o=Lk(e,i);return this.expandSegmentGroup(t,o,s,i).pipe(L(t=>({segment:t,outlet:i})))}),Pv((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?qf((e,n)=>t(e,n,i)):H,Vv(1),n?by(e):vy(()=>new dy))}())}expandSegment(t,e,n,i,s,o){return V(n).pipe(Fv(r=>this.expandSegmentAgainstRoute(t,e,n,r,i,s,o).pipe(Lv(t=>{if(t instanceof Bk)return xf(null);throw t}))),Sy(t=>!!t),Lv((t,n)=>{if(t instanceof dy||"EmptyError"===t.name){if(zk(e,i,s))return xf(new E_([],{}));throw new Bk(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,s,o,r){return jk(i,e,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,s,o):r&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,s,o):Uk(e):Uk(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?$k(s):this.lineralizeSegments(n,s).pipe(j(n=>{const s=new E_(n,{});return this.expandSegment(t,s,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,s,o){const{matched:r,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Nk(e,i,s);if(!r)return Uk(e);const u=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?$k(u):this.lineralizeSegments(i,u).pipe(j(i=>this.expandSegment(t,e,n,i.concat(s.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,i,s){if("**"===n.path)return n.loadChildren?(n._loadedConfig?xf(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(L(t=>(n._loadedConfig=t,new E_(i,{})))):xf(new E_(i,{}));const{matched:o,consumedSegments:r,lastChild:a}=Nk(e,n,i);if(!o)return Uk(e);const l=i.slice(a);return this.getChildConfig(t,n,i).pipe(j(t=>{const i=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Fk(e,r,l,o),u=new E_(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(i,o,u).pipe(L(t=>new E_(r,t)));if(0===o.length&&0===c.length)return xf(new E_(r,{}));const h=Dk(n)===s;return this.expandSegment(i,u,o,c,h?c_:s,!0).pipe(L(t=>new E_(r.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?xf(new Ck(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?xf(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(j(n=>n?this.configLoader.load(t.injector,e).pipe(L(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(d_(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):xf(new Ck([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;return i&&0!==i.length?xf(i.map(i=>{const s=t.get(i);let o;if(function(t){return t&&Sk(t.canLoad)}(s))o=s.canLoad(e,n);else{if(!Sk(s))throw new Error("Invalid CanLoad guard");o=s(e,n)}return y_(o)})).pipe(Ek(),Bv(t=>{if(!xk(t))return;const e=d_(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),L(t=>!0===t)):xf(!0)}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return xf(n);if(i.numberOfChildren>1||!i.children.primary)return Wk(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const s=this.createSegmentGroup(t,e.root,n,i);return new T_(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return w_(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const s=t.substring(1);n[i]=e[s]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const s=this.createSegments(t,e.segments,n,i);let o={};return w_(e.children,(e,s)=>{o[s]=this.createSegmentGroup(t,e,n,i)}),new E_(s,o)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Kk(t){const e={};for(const n of Object.keys(t.children)){const i=Kk(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new E_(t.segments.concat(e.segments),e.children)}return t}(new E_(t.segments,e))}class Gk{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yk{constructor(t,e){this.component=t,this.route=e}}function Qk(t,e,n){const i=t._root;return Jk(i,e?e._root:null,n,[i.value])}function Zk(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Jk(t,e,n,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Q_(e);return t.children.forEach(t=>{!function(t,e,n,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,r=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(r&&o.routeConfig===r.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!O_(t.url,e.url);case"pathParamsOrQueryParamsChange":return!O_(t.url,e.url)||!f_(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rk(t,e)||!f_(t.queryParams,e.queryParams);case"paramsChange":default:return!rk(t,e)}}(r,o,o.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new Gk(i)):(o.data=r.data,o._resolvedData=r._resolvedData),Jk(t,e,o.component?a?a.children:null:n,i,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new Yk(a.outlet.component,r))}else r&&Xk(e,a,s),s.canActivateChecks.push(new Gk(i)),Jk(t,null,o.component?a?a.children:null:n,i,s)}(t,o[t.value.outlet],n,i.concat([t.value]),s),delete o[t.value.outlet]}),w_(o,(t,e)=>Xk(t,n.getContext(e),s)),s}function Xk(t,e,n){const i=Q_(t),s=t.value;w_(i,(t,i)=>{Xk(t,s.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Yk(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class tC{}function eC(t){return new w(e=>e.error(t))}class nC{constructor(t,e,n,i,s,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const t=Fk(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,c_);if(null===e)return null;const n=new ek([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},c_,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Y_(n,e),s=new nk(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,n=tk(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const s of Object.keys(e.children)){const i=e.children[s],o=Lk(t,s),r=this.processSegmentGroup(o,i,s);if(null===r)return null;n.push(...r)}const i=sC(n);return i.sort((t,e)=>t.value.outlet===c_?-1:e.value.outlet===c_?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const s of t){const t=this.processSegmentAgainstRoute(s,e,n,i);if(null!==t)return t}return zk(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!jk(t,e,n,i))return null;let s,o=[],r=[];if("**"===t.path){const i=n.length>0?b_(n).parameters:{};s=new ek(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,aC(t),Dk(t),t.component,t,oC(e),rC(e)+n.length,lC(t))}else{const i=Nk(e,t,n);if(!i.matched)return null;o=i.consumedSegments,r=n.slice(i.lastChild),s=new ek(o,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,aC(t),Dk(t),t.component,t,oC(e),rC(e)+o.length,lC(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=Fk(e,o,r,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new Y_(s,t)]}if(0===a.length&&0===c.length)return[new Y_(s,[])];const u=Dk(t)===i,h=this.processSegment(a,l,c,u?c_:i);return null===h?null:[new Y_(s,h)]}}function iC(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function sC(t){const e=[],n=new Set;for(const i of t){if(!iC(i)){e.push(i);continue}const t=e.find(t=>i.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...i.children),n.add(t)):e.push(i)}for(const i of n){const t=sC(i.children);e.push(new Y_(i.value,t))}return e.filter(t=>!n.has(t))}function oC(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rC(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function aC(t){return t.data||{}}function lC(t){return t.resolve||{}}function cC(t){return ng(e=>{const n=t(e);return n?V(n).pipe(L(()=>e)):xf(e)})}class uC extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const hC=new Kn("ROUTES");class dC{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(L(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Ck(m_(i.injector.get(hC,void 0,yt.Self|yt.Optional)).map(Mk),i)}),Lv(t=>{throw e._loader$=void 0,t}));return e._loader$=new G(n,()=>new C).pipe(W()),e._loader$}loadModuleFactory(t){return"string"==typeof t?V(this.loader.load(t)):y_(t()).pipe(j(t=>t instanceof El?xf(t):V(this.compiler.compileModuleAsync(t))))}}class pC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fC,this.attachRef=null}}class fC{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new pC,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class gC{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function mC(t){throw t}function bC(t,e,n){return e.parse("/")}function wC(t,e){return xf(null)}const yC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _C=(()=>{class t{constructor(t,e,n,i,s,o,r,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=mC,this.malformedUriErrorHandler=bC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wC,afterPreactivation:wC},this.urlHandlingStrategy=new gC,this.routeReuseStrategy=new uC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(Tl),this.console=s.get(Nc);const l=s.get(Yc);this.isNgZoneEnabled=l instanceof Yc&&Yc.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new T_(new E_([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new dC(o,r,t=>this.triggerEvent(new n_(t)),t=>this.triggerEvent(new i_(t))),this.routerState=J_(this.currentUrlTree,this.rootComponentType),this.transitions=new Tv({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(qf(t=>0!==t.id),L(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ng(t=>{let n=!1,i=!1;return xf(t).pipe(Bv(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ng(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return xf(t).pipe(ng(t=>{const n=this.transitions.getValue();return e.next(new Kv(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?rg:Promise.resolve(t)}),function(t,e,n,i){return ng(s=>function(t,e,n,i,s){return new qk(t,e,n,i,s).apply()}(t,e,n,s.extractedUrl,i).pipe(L(t=>Object.assign(Object.assign({},s),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Bv(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,s){return j(o=>function(t,e,n,i,s="emptyOnly",o="legacy"){try{const r=new nC(t,e,n,i,s,o).recognize();return null===r?eC(new tC):xf(r)}catch(r){return eC(r)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,s).pipe(L(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Bv(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new Zv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:s,restoredState:o,extras:r}=t,a=new Kv(n,this.serializeUrl(i),s,o);e.next(a);const l=J_(i,this.rootComponentType).snapshot;return xf(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},r),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),rg}),cC(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:s,extras:{skipLocationChange:o,replaceUrl:r}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:s,skipLocationChange:!!o,replaceUrl:!!r})}),Bv(t=>{const e=new Jv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),L(t=>Object.assign(Object.assign({},t),{guards:Qk(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return j(n=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:r}}=n;return 0===r.length&&0===o.length?xf(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return V(t).pipe(j(t=>function(t,e,n,i,s){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?xf(o.map(o=>{const r=Zk(o,e,s);let a;if(function(t){return t&&Sk(t.canDeactivate)}(r))a=y_(r.canDeactivate(t,e,n,i));else{if(!Sk(r))throw new Error("Invalid CanDeactivate guard");a=y_(r(t,e,n,i))}return a.pipe(Sy())})).pipe(Ek()):xf(!0)}(t.component,t.route,n,e,i)),Sy(t=>!0!==t,!0))}(r,i,s,t).pipe(j(n=>n&&"boolean"==typeof n?function(t,e,n,i){return V(e).pipe(Fv(e=>Jf(function(t,e){return null!==t&&e&&e(new s_(t)),xf(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new r_(t)),xf(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Av(()=>xf(e.guards.map(s=>{const o=Zk(s,e.node,n);let r;if(function(t){return t&&Sk(t.canActivateChild)}(o))r=y_(o.canActivateChild(i,t));else{if(!Sk(o))throw new Error("Invalid CanActivateChild guard");r=y_(o(i,t))}return r.pipe(Sy())})).pipe(Ek())));return xf(s).pipe(Ek())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?xf(i.map(i=>Av(()=>{const s=Zk(i,e,n);let o;if(function(t){return t&&Sk(t.canActivate)}(s))o=y_(s.canActivate(e,t));else{if(!Sk(s))throw new Error("Invalid CanActivate guard");o=y_(s(e,t))}return o.pipe(Sy())}))).pipe(Ek()):xf(!0)}(t,e.route,n))),Sy(t=>!0!==t,!0))}(i,o,t,e):xf(n)),L(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Bv(t=>{if(xk(t.guardsResult)){const e=d_(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Xv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),qf(t=>!!t.guardsResult||(this.cancelNavigationTransitionRestoreHistory(t,""),!1)),cC(t=>{if(t.guards.canActivateChecks.length)return xf(t).pipe(Bv(t=>{const e=new t_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ng(t=>{let e=!1;return xf(t).pipe((n=this.paramsInheritanceStrategy,i=this.ngModule.injector,j(t=>{const{targetSnapshot:e,guards:{canActivateChecks:s}}=t;if(!s.length)return xf(t);let o=0;return V(s).pipe(Fv(t=>function(t,e,n,i){return function(t,e,n,i){const s=Object.keys(t);if(0===s.length)return xf({});const o={};return V(s).pipe(j(s=>function(t,e,n,i){const s=Zk(t,e,i);return y_(s.resolve?s.resolve(e,n):s(e,n))}(t[s],e,n,i).pipe(Bv(t=>{o[s]=t}))),Vv(1),j(()=>Object.keys(o).length===s.length?xf(o):rg))}(t._resolve,t,e,i).pipe(L(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),tk(t,n).resolve),null)))}(t.route,e,n,i)),Bv(()=>o++),Vv(1),j(e=>o===s.length?xf(t):rg))})),Bv({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransitionRestoreHistory(t,"At least one route resolver didn't emit any value.")}}));var n,i}),Bv(t=>{const e=new e_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),cC(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:s,extras:{skipLocationChange:o,replaceUrl:r}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:s,skipLocationChange:!!o,replaceUrl:!!r})}),L(t=>{const e=function(t,e,n){const i=ak(t,e._root,n?n._root:void 0);return new Z_(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Bv(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,r=this.routeReuseStrategy,a=t=>this.triggerEvent(t),L(t=>(new _k(r,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Bv({next(){n=!0},complete(){n=!0}}),(s=()=>{if(!n&&!i){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?this.cancelNavigationTransitionRestoreHistory(t,e):this.cancelNavigationTransition(t,e)}this.currentNavigation=null},t=>t.lift(new $v(s))),Lv(n=>{if(i=!0,(s=n)&&s.ngNavigationCancelingError){const i=xk(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const s=new Yv(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(s),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Qv(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var s;return rg}));var s,o,r,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,s={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(s.state=t)}this.scheduleNavigation(i,t,n,s)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ok(t),this.config=t.map(Mk),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,queryParamsHandling:o,preserveFragment:r}=e,a=n||this.routerState.root,l=r?this.currentUrlTree.fragment:s;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,s){if(0===n.length)return hk(e.root,e.root,e,i,s);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pk(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return w_(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===s?(i.split("/").forEach((i,s)=>{0==s&&"."===i||(0==s&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new pk(n,e,i)}(n);if(o.toRoot())return hk(e.root,new E_([],{}),e,i,s);const r=function(t,e,n){if(t.isAbsolute)return new fk(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new fk(t,t===e.root,0)}const i=ck(t.commands[0])?0:1;return function(t,e,n){let i=t,s=e,o=n;for(;o>s;){if(o-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new fk(i,!1,s-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=r.processChildren?mk(r.segmentGroup,r.index,o.commands):gk(r.segmentGroup,r.index,o.commands);return hk(r.segmentGroup,a,e,i,s)}(a,this.currentUrlTree,t,c,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=xk(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},yC):!1===e?Object.assign({},vC):e,xk(t))return k_(this.currentUrlTree,t,n);const i=this.parseUrl(t);return k_(this.currentUrlTree,i,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Gv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,s){var o,r;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l="imperative"!==e&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(l&&c)return Promise.resolve(!0);let u,h,d;s?(u=s.resolve,h=s.reject,d=s.promise):d=new Promise((t,e)=>{u=t,h=e});const p=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(r=this.browserPageId)&&void 0!==r?r:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),i=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",i):this.location.go(n,"",i)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransitionRestoreHistory(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree(),this.cancelNavigationTransition(t,e)}cancelNavigationTransition(t,e){const n=new Yv(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(hi(Yn),hi(A_),hi(fC),hi(Bu),hi(ir),hi(mu),hi(qc),hi(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),kC=(()=>{class t{constructor(t,e,n,i,s){this.router=t,this.route=e,this.commands=[],this.onChanges=new C,null==n&&i.setAttribute(s.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:SC(this.skipLocationChange),replaceUrl:SC(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:SC(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Sr(_C),Sr(X_),$n("tabindex"),Sr(Ga),Sr(Wa))},t.\u0275dir=Kt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Nr("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[ae]}),t})(),CC=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new C,this.subscription=t.events.subscribe(t=>{t instanceof Gv&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i,s){if(0!==t||e||n||i||s)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:SC(this.skipLocationChange),replaceUrl:SC(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:SC(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Sr(_C),Sr(X_),Sr(Nu))},t.\u0275dir=Kt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Nr("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(_a("href",e.href,Yi),_r("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[ae]}),t})();function SC(t){return""===t||!!t}let xC=(()=>{class t{constructor(t,e,n,i,s,o){this.router=t,this.element=e,this.renderer=n,this.cdr=i,this.link=s,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Gv&&this.update()})}ngAfterContentInit(){xf(this.links.changes,this.linksWithHrefs.changes,xf(null)).pipe(U()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=V(e).pipe(U()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(Sr(_C),Sr(Wa),Sr(Ga),Sr(bl),Sr(kC,8),Sr(CC,8))},t.\u0275dir=Kt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(kc(n,kC,5),kc(n,CC,5)),2&t){let t;vc(t=Cc())&&(e.links=t),vc(t=Cc())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ae]}),t})(),TC=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new lc,this.deactivateEvents=new lc,this.name=i||c_,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,s=new EC(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Sr(fC),Sr(Ol),Sr(Ba),$n("name"),Sr(bl))},t.\u0275dir=Kt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class EC{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===X_?this.route:t===fC?this.childContexts:this.parent.get(t,e)}}class IC{}class OC{preload(t,e){return xf(null)}}let AC=(()=>{class t{constructor(t,e,n,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new dC(e,n,e=>t.triggerEvent(new n_(e)),e=>t.triggerEvent(new i_(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(qf(t=>t instanceof Gv),Fv(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Tl);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return V(n).pipe(U(),L(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?xf(e._loadedConfig):this.loader.load(t.injector,e)).pipe(j(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(hi(_C),hi(mu),hi(qc),hi(ir),hi(IC))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),PC=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Kv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gv&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof l_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new l_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(hi(_C),hi(Vh),hi(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const MC=new Kn("ROUTER_CONFIGURATION"),DC=new Kn("ROUTER_FORROOT_GUARD"),LC=[Bu,{provide:A_,useClass:P_},{provide:_C,useFactory:function(t,e,n,i,s,o,r,a={},l,c){const u=new _C(null,t,e,n,i,s,o,m_(r));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[A_,fC,Bu,ir,mu,qc,hC,MC,[class{},new mi],[class{},new mi]]},fC,{provide:X_,useFactory:function(t){return t.routerState.root},deps:[_C]},{provide:mu,useClass:yu},AC,OC,class{preload(t,e){return e().pipe(Lv(()=>xf(null)))}},{provide:MC,useValue:{enableTracing:!1}}];function RC(){return new cu("Router",_C)}let NC=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[LC,zC(e),{provide:DC,useFactory:jC,deps:[[_C,new mi,new bi]]},{provide:MC,useValue:n||{}},{provide:Nu,useFactory:VC,deps:[Eu,[new gi(Vu),new mi],MC]},{provide:PC,useFactory:FC,deps:[_C,Vh,MC]},{provide:IC,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:OC},{provide:cu,multi:!0,useFactory:RC},[BC,{provide:Ic,multi:!0,useFactory:HC,deps:[BC]},{provide:$C,useFactory:UC,deps:[BC]},{provide:Rc,multi:!0,useExisting:$C}]]}}static forChild(e){return{ngModule:t,providers:[zC(e)]}}}return t.\u0275fac=function(e){return new(e||t)(hi(DC,8),hi(_C,8))},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})();function FC(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new PC(t,e,n)}function VC(t,e,n={}){return n.useHash?new zu(t,e):new ju(t,e)}function jC(t){return"guarded"}function zC(t){return[{provide:Gn,multi:!0,useValue:t},{provide:hC,multi:!0,useValue:t}]}let BC=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(Ou,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(_C),i=this.injector.get(MC);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?xf(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(MC),n=this.injector.get(AC),i=this.injector.get(PC),s=this.injector.get(_C),o=this.injector.get(fu);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(hi(ir))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function HC(t){return t.appInitializer.bind(t)}function UC(t){return t.bootstrapListener.bind(t)}const $C=new Kn("Router Initializer"),WC=["pMenuItemContent",""];function qC(t,e){1&t&&Or(0,"span",6),2&t&&xr("ngClass",jr(2).item.icon)}function KC(t,e){if(1&t&&(Er(0,"span",7),ba(1),Ir()),2&t){const t=jr(2);Ws(1),wa(t.item.label)}}function GC(t,e){1&t&&Or(0,"span",8),2&t&&xr("innerHTML",jr(2).item.label,Gi)}const YC=function(t){return{"p-disabled":t}};function QC(t,e){if(1&t){const t=Dr();Er(0,"a",2),Nr("click",function(e){Me(t);const n=jr();return n.menu.itemClick(e,n.item)}),kr(1,qC,1,1,"span",3),kr(2,KC,2,1,"span",4),kr(3,GC,1,1,"ng-template",null,5,Ec),Ir()}if(2&t){const t=Cr(4),e=jr();xr("ngClass",Wl(10,YC,e.item.disabled)),_r("href",e.item.url||null,Yi)("tabindex",e.item.disabled?null:"0")("data-automationid",e.item.automationId)("target",e.item.target)("title",e.item.title)("id",e.item.id),Ws(1),xr("ngIf",e.item.icon),Ws(1),xr("ngIf",!1!==e.item.escape)("ngIfElse",t)}}function ZC(t,e){1&t&&Or(0,"span",6),2&t&&xr("ngClass",jr(2).item.icon)}function JC(t,e){if(1&t&&(Er(0,"span",7),ba(1),Ir()),2&t){const t=jr(2);Ws(1),wa(t.item.label)}}function XC(t,e){1&t&&Or(0,"span",8),2&t&&xr("innerHTML",jr(2).item.label,Gi)}const tS=function(){return{exact:!1}};function eS(t,e){if(1&t){const t=Dr();Er(0,"a",9),Nr("click",function(e){Me(t);const n=jr();return n.menu.itemClick(e,n.item)}),kr(1,ZC,1,1,"span",3),kr(2,JC,2,1,"span",4),kr(3,XC,1,1,"ng-template",null,10,Ec),Ir()}if(2&t){const t=Cr(4),e=jr();xr("routerLink",e.item.routerLink)("queryParams",e.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",e.item.routerLinkActiveOptions||$l(19,tS))("ngClass",Wl(20,YC,e.item.disabled))("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state),_r("data-automationid",e.item.automationId)("target",e.item.target)("id",e.item.id)("tabindex",e.item.disabled?null:"0")("title",e.item.title),Ws(1),xr("ngIf",e.item.icon),Ws(1),xr("ngIf",!1!==e.item.escape)("ngIfElse",t)}}const nS=["container"],iS=function(t){return{"p-hidden":t}};function sS(t,e){if(1&t&&Or(0,"li",8),2&t){const t=jr().$implicit;xr("ngClass",Wl(1,iS,!1===t.visible))}}function oS(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr(2).$implicit;Ws(1),wa(t.label)}}function rS(t,e){1&t&&Or(0,"span",12),2&t&&xr("innerHTML",jr(2).$implicit.label,Gi)}function aS(t,e){if(1&t&&(Er(0,"li",9),kr(1,oS,2,1,"span",10),kr(2,rS,1,1,"ng-template",null,11,Ec),Ir()),2&t){const t=Cr(3),e=jr().$implicit;xr("ngClass",Wl(4,iS,!1===e.visible)),_r("data-automationid",e.automationId),Ws(1),xr("ngIf",!1!==e.escape)("ngIfElse",t)}}function lS(t,e){if(1&t&&Or(0,"li",8),2&t){const t=jr().$implicit,e=jr().$implicit;xr("ngClass",Wl(1,iS,!1===t.visible||!1===e.visible))}}function cS(t,e){if(1&t&&Or(0,"li",14),2&t){const t=jr().$implicit,e=jr().$implicit;sa(t.styleClass),xr("pMenuItemContent",t)("ngClass",Wl(5,iS,!1===t.visible||!1===e.visible))("ngStyle",t.style)}}function uS(t,e){if(1&t&&(kr(0,lS,1,3,"li",6),kr(1,cS,1,7,"li",13)),2&t){const t=e.$implicit;xr("ngIf",t.separator),Ws(1),xr("ngIf",!t.separator)}}function hS(t,e){if(1&t&&(kr(0,sS,1,3,"li",6),kr(1,aS,4,6,"li",7),kr(2,uS,2,2,"ng-template",5)),2&t){const t=e.$implicit;xr("ngIf",t.separator),Ws(1),xr("ngIf",!t.separator),Ws(1),xr("ngForOf",t.items)}}function dS(t,e){1&t&&kr(0,hS,3,3,"ng-template",5),2&t&&xr("ngForOf",jr(2).model)}function pS(t,e){if(1&t&&Or(0,"li",8),2&t){const t=jr().$implicit;xr("ngClass",Wl(1,iS,!1===t.visible))}}function fS(t,e){if(1&t&&Or(0,"li",14),2&t){const t=jr().$implicit;sa(t.styleClass),xr("pMenuItemContent",t)("ngClass",Wl(5,iS,!1===t.visible))("ngStyle",t.style)}}function gS(t,e){if(1&t&&(kr(0,pS,1,3,"li",6),kr(1,fS,1,7,"li",13)),2&t){const t=e.$implicit;xr("ngIf",t.separator),Ws(1),xr("ngIf",!t.separator)}}function mS(t,e){1&t&&kr(0,gS,2,2,"ng-template",5),2&t&&xr("ngForOf",jr(2).model)}const bS=function(t){return{"p-menu p-component":!0,"p-menu-overlay":t}},wS=function(t,e){return{showTransitionParams:t,hideTransitionParams:e}},yS=function(t){return{value:"visible",params:t}};function vS(t,e){if(1&t){const t=Dr();Er(0,"div",1,2),Nr("click",function(){return Me(t),jr().preventDocumentDefault=!0})("@overlayAnimation.start",function(e){return Me(t),jr().onOverlayAnimationStart(e)}),Er(2,"ul",3),kr(3,dS,1,1,void 0,4),kr(4,mS,1,1,void 0,4),Ir(),Ir()}if(2&t){const t=jr();sa(t.styleClass),xr("ngClass",Wl(8,bS,t.popup))("ngStyle",t.style)("@overlayAnimation",Wl(13,yS,ql(10,wS,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",!0!==t.popup),Ws(3),xr("ngIf",t.hasSubMenu()),Ws(1),xr("ngIf",!t.hasSubMenu())}}let _S=(()=>{class t{constructor(t){this.menu=t}}return t.\u0275fac=function(e){return new(e||t)(Sr(it(()=>kS)))},t.\u0275cmp=Bt({type:t,selectors:[["","pMenuItemContent",""]],inputs:{item:["pMenuItemContent","item"]},attrs:WC,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"ngClass","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"ngClass","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""]],template:function(t,e){1&t&&(kr(0,QC,5,12,"a",0),kr(1,eS,5,22,"a",1)),2&t&&(xr("ngIf",!e.item.routerLink),Ws(1),xr("ngIf",e.item.routerLink))},directives:[Oh,xh,CC,Gd,xC],encapsulation:2}),t})(),kS=(()=>{class t{constructor(t,e,n){this.el=t,this.renderer=e,this.cd=n,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new lc,this.onHide=new lc}toggle(t){this.visible?this.hide():this.show(t),this.preventDocumentDefault=!0}show(t){this.target=t.currentTarget,this.relativeAlign=t.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.popup&&(this.container=t.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}alignOverlay(){this.relativeAlign?Ad.relativePosition(this.container,this.target):Ad.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Ad.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++Ad.zindex))}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.hide()}itemClick(t,e){e.disabled?t.preventDefault():(e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e}),this.popup&&this.hide())}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Pd(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.target=null}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var t of this.model)if(t.items)return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(Ga),Sr(bl))},t.\u0275cmp=Bt({type:t,selectors:[["p-menu"]],viewQuery:function(t,e){if(1&t&&_c(nS,5),2&t){let t;vc(t=Cc())&&(e.containerViewChild=t.first)}},inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],[1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header",3,"ngClass",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],[1,"p-submenu-header",3,"ngClass"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","class",4,"ngIf"],[1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle"]],template:function(t,e){1&t&&kr(0,vS,5,15,"div",0),2&t&&xr("ngIf",!e.popup||e.visible)},directives:[Oh,xh,Mh,Eh,_S],styles:[".p-menu-overlay{position:absolute}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}"],encapsulation:2,data:{animation:[vd("overlayAnimation",[Sd(":enter",[Cd({opacity:0,transform:"scaleY(0.8)"}),_d("{{showTransitionParams}}")]),Sd(":leave",[_d("{{hideTransitionParams}}",Cd({opacity:0}))])])]},changeDetection:0}),t})(),CS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,NC,Yd],NC]}),t})();const SS=["container"],xS=["defaultbtn"],TS=["menu"];let ES=(()=>{class t{constructor(){this.iconPos="left",this.onClick=new lc,this.onDropdownClick=new lc,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear"}onDefaultButtonClick(t){this.onClick.emit(t)}onDropdownButtonClick(t){this.onDropdownClick.emit(t),this.menu.toggle({currentTarget:this.containerViewChild.nativeElement,relativeAlign:null==this.appendTo})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["p-splitButton"]],viewQuery:function(t,e){if(1&t&&(_c(SS,5),_c(xS,5),_c(TS,5)),2&t){let t;vc(t=Cc())&&(e.containerViewChild=t.first),vc(t=Cc())&&(e.buttonViewChild=t.first),vc(t=Cc())&&(e.menu=t.first)}},inputs:{model:"model",icon:"icon",iconPos:"iconPos",label:"label",style:"style",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",disabled:"disabled",tabindex:"tabindex",appendTo:"appendTo",dir:"dir",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClick:"onClick",onDropdownClick:"onDropdownClick"},decls:7,vars:18,consts:[[3,"ngClass","ngStyle"],["container",""],["type","button","pButton","",1,"p-splitbutton-defaultbutton",3,"icon","iconPos","label","disabled","click"],["defaultbtn",""],["type","button","pButton","","icon","pi pi-chevron-down",1,"p-splitbutton-menubutton",3,"disabled","click"],[3,"popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions"],["menu",""]],template:function(t,e){1&t&&(Er(0,"div",0,1),Er(2,"button",2,3),Nr("click",function(t){return e.onDefaultButtonClick(t)}),Ir(),Er(4,"button",4),Nr("click",function(t){return e.onDropdownButtonClick(t)}),Ir(),Or(5,"p-menu",5,6),Ir()),2&t&&(sa(e.styleClass),xr("ngClass","p-splitbutton p-component")("ngStyle",e.style),Ws(2),xr("icon",e.icon)("iconPos",e.iconPos)("label",e.label)("disabled",e.disabled),_r("tabindex",e.tabindex),Ws(2),xr("disabled",e.disabled),Ws(1),na(e.menuStyle),xr("popup",!0)("model",e.model)("styleClass",e.menuStyleClass)("appendTo",e.appendTo)("showTransitionOptions",e.showTransitionOptions)("hideTransitionOptions",e.hideTransitionOptions))},directives:[xh,Mh,kf,kS],styles:[".p-splitbutton{display:inline-flex;position:relative}.p-splitbutton .p-splitbutton-defaultbutton{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0;border-right:0}.p-splitbutton-menubutton{display:flex;align-items:center;justify-content:center;border-top-left-radius:0;border-bottom-left-radius:0}.p-splitbutton .p-menu{min-width:100%}.p-fluid .p-splitbutton{display:flex}"],encapsulation:2,changeDetection:0}),t})(),IS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,Cf,CS],Cf]}),t})();const OS=["container"],AS=["inputfield"],PS=["contentWrapper"];function MS(t,e){if(1&t){const t=Dr();Er(0,"button",7),Nr("click",function(e){Me(t),jr();const n=Cr(1);return jr().onButtonClick(e,n)}),Ir()}if(2&t){const t=jr(2);xr("icon",t.icon)("disabled",t.disabled)}}function DS(t,e){if(1&t){const t=Dr();Er(0,"input",4,5),Nr("focus",function(e){return Me(t),jr().onInputFocus(e)})("keydown",function(e){return Me(t),jr().onInputKeydown(e)})("click",function(){return Me(t),jr().onInputClick()})("blur",function(e){return Me(t),jr().onInputBlur(e)})("input",function(e){return Me(t),jr().onUserInput(e)}),Ir(),kr(2,MS,1,2,"button",6)}if(2&t){const t=jr();sa(t.inputStyleClass),xr("value",t.inputFieldValue)("readonly",t.readonlyInput)("ngStyle",t.inputStyle)("placeholder",t.placeholder||"")("disabled",t.disabled)("ngClass","p-inputtext p-component"),_r("id",t.inputId)("name",t.name)("required",t.required)("aria-required",t.required)("tabindex",t.tabindex)("inputmode",t.touchUI?"off":null)("aria-labelledby",t.ariaLabelledBy),Ws(2),xr("ngIf",t.showIcon)}}function LS(t,e){1&t&&Mr(0)}function RS(t,e){if(1&t){const t=Dr();Er(0,"button",27),Nr("keydown",function(e){return Me(t),jr(4).onContainerButtonKeydown(e)})("click",function(e){return Me(t),jr(4).onPrevButtonClick(e)}),Or(1,"span",28),Ir()}}function NS(t,e){if(1&t&&(Er(0,"span",29),ba(1),Ir()),2&t){const t=jr().$implicit,e=jr(3);Ws(1),wa(e.getTranslation("monthNames")[t.month])}}function FS(t,e){if(1&t&&(Er(0,"option",32),ba(1),Ir()),2&t){const t=e.$implicit,n=e.index,i=jr(2).$implicit;xr("value",n)("selected",n===i.month),Ws(1),wa(t)}}function VS(t,e){if(1&t){const t=Dr();Er(0,"select",30),Nr("change",function(e){return Me(t),jr(4).onMonthDropdownChange(e.target.value)}),kr(1,FS,2,3,"option",31),Ir()}if(2&t){const t=jr(4);Ws(1),xr("ngForOf",t.getTranslation("monthNames"))}}function jS(t,e){if(1&t&&(Er(0,"option",32),ba(1),Ir()),2&t){const t=e.$implicit,n=jr(5);xr("value",t)("selected",t===n.currentYear),Ws(1),wa(t)}}function zS(t,e){if(1&t){const t=Dr();Er(0,"select",33),Nr("change",function(e){return Me(t),jr(4).onYearDropdownChange(e.target.value)}),kr(1,jS,2,3,"option",31),Ir()}if(2&t){const t=jr(4);Ws(1),xr("ngForOf",t.yearOptions)}}function BS(t,e){if(1&t&&(Er(0,"span",34),ba(1),Ir()),2&t){const t=jr().$implicit,e=jr(3);Ws(1),wa("month"===e.view?e.currentYear:t.year)}}function HS(t,e){if(1&t){const t=Dr();Er(0,"button",35),Nr("keydown",function(e){return Me(t),jr(4).onContainerButtonKeydown(e)})("click",function(e){return Me(t),jr(4).onNextButtonClick(e)}),Or(1,"span",36),Ir()}}function US(t,e){if(1&t&&(Er(0,"th",42),Er(1,"span"),ba(2),Ir(),Ir()),2&t){const t=jr(5);Ws(2),wa(t.getTranslation("weekHeader"))}}function $S(t,e){if(1&t&&(Er(0,"th",43),Er(1,"span"),ba(2),Ir(),Ir()),2&t){const t=e.$implicit;Ws(2),wa(t)}}function WS(t,e){if(1&t&&(Er(0,"td",46),Er(1,"span",47),ba(2),Ir(),Ir()),2&t){const t=jr().index,e=jr(2).$implicit;Ws(2),ya(" ",e.weekNumbers[t]," ")}}function qS(t,e){if(1&t&&(Ar(0),ba(1),Pr()),2&t){const t=jr(2).$implicit;Ws(1),wa(t.day)}}function KS(t,e){1&t&&Mr(0)}const GS=function(t,e){return{"p-highlight":t,"p-disabled":e}},YS=function(t){return{$implicit:t}};function QS(t,e){if(1&t){const t=Dr();Ar(0),Er(1,"span",49),Nr("click",function(e){Me(t);const n=jr().$implicit;return jr(6).onDateSelect(e,n)})("keydown",function(e){Me(t);const n=jr().$implicit,i=jr(3).index;return jr(3).onDateCellKeydown(e,n,i)}),kr(2,qS,2,1,"ng-container",11),kr(3,KS,1,0,"ng-container",50),Ir(),Pr()}if(2&t){const t=jr().$implicit,e=jr(6);Ws(1),xr("ngClass",ql(4,GS,e.isSelected(t),!t.selectable)),Ws(1),xr("ngIf",!e.dateTemplate),Ws(1),xr("ngTemplateOutlet",e.dateTemplate)("ngTemplateOutletContext",Wl(7,YS,t))}}const ZS=function(t,e){return{"p-datepicker-other-month":t,"p-datepicker-today":e}};function JS(t,e){if(1&t&&(Er(0,"td",48),kr(1,QS,4,9,"ng-container",11),Ir()),2&t){const t=e.$implicit,n=jr(6);xr("ngClass",ql(2,ZS,t.otherMonth,t.today)),Ws(1),xr("ngIf",!t.otherMonth||n.showOtherMonths)}}function XS(t,e){if(1&t&&(Er(0,"tr"),kr(1,WS,3,1,"td",44),kr(2,JS,2,5,"td",45),Ir()),2&t){const t=e.$implicit,n=jr(5);Ws(1),xr("ngIf",n.showWeek),Ws(1),xr("ngForOf",t)}}function tx(t,e){if(1&t&&(Er(0,"div",37),Er(1,"table",38),Er(2,"thead"),Er(3,"tr"),kr(4,US,3,1,"th",39),kr(5,$S,3,1,"th",40),Ir(),Ir(),Er(6,"tbody"),kr(7,XS,3,2,"tr",41),Ir(),Ir(),Ir()),2&t){const t=jr().$implicit,e=jr(3);Ws(4),xr("ngIf",e.showWeek),Ws(1),xr("ngForOf",e.weekDays),Ws(2),xr("ngForOf",t.dates)}}function ex(t,e){if(1&t&&(Er(0,"div",17),Er(1,"div",18),kr(2,RS,2,0,"button",19),Er(3,"div",20),kr(4,NS,2,1,"span",21),kr(5,VS,2,1,"select",22),kr(6,zS,2,1,"select",23),kr(7,BS,2,1,"span",24),Ir(),kr(8,HS,2,0,"button",25),Ir(),kr(9,tx,8,3,"div",26),Ir()),2&t){const t=e.index,n=jr(3);Ws(2),xr("ngIf",0===t),Ws(2),xr("ngIf",!n.monthNavigator&&"month"!==n.view),Ws(1),xr("ngIf",n.monthNavigator&&"month"!==n.view&&1===n.numberOfMonths),Ws(1),xr("ngIf",n.yearNavigator&&1===n.numberOfMonths),Ws(1),xr("ngIf",!n.yearNavigator),Ws(1),xr("ngIf",1===n.numberOfMonths||t===n.numberOfMonths-1),Ws(1),xr("ngIf","date"===n.view)}}function nx(t,e){if(1&t){const t=Dr();Er(0,"span",53),Nr("click",function(e){const n=Me(t).index;return jr(4).onMonthSelect(e,n)})("keydown",function(e){const n=Me(t).index;return jr(4).onMonthCellKeydown(e,n)}),ba(1),Ir()}if(2&t){const t=e.$implicit,n=e.index,i=jr(4);xr("ngClass",ql(2,GS,i.isMonthSelected(n),!i.isSelectable(1,n,i.currentYear,!1))),Ws(1),ya(" ",t," ")}}function ix(t,e){if(1&t&&(Er(0,"div",51),kr(1,nx,2,5,"span",52),Ir()),2&t){const t=jr(3);Ws(1),xr("ngForOf",t.monthPickerValues)}}function sx(t,e){if(1&t&&(Ar(0),Er(1,"div",14),kr(2,ex,10,7,"div",15),Ir(),kr(3,ix,2,1,"div",16),Pr()),2&t){const t=jr(2);Ws(2),xr("ngForOf",t.months),Ws(1),xr("ngIf","month"===t.view)}}function ox(t,e){1&t&&(Ar(0),ba(1,"0"),Pr())}function rx(t,e){1&t&&(Ar(0),ba(1,"0"),Pr())}function ax(t,e){if(1&t&&(Er(0,"div",59),Er(1,"span"),ba(2),Ir(),Ir()),2&t){const t=jr(3);Ws(2),wa(t.timeSeparator)}}function lx(t,e){1&t&&(Ar(0),ba(1,"0"),Pr())}function cx(t,e){if(1&t){const t=Dr();Er(0,"div",64),Er(1,"button",56),Nr("keydown",function(e){return Me(t),jr(3).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Me(t),jr(3).incrementSecond(e)})("mousedown",function(e){return Me(t),jr(3).onTimePickerElementMouseDown(e,2,1)})("mouseup",function(e){return Me(t),jr(3).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Me(t),jr(3).onTimePickerElementMouseLeave()}),Or(2,"span",57),Ir(),Er(3,"span"),kr(4,lx,2,0,"ng-container",11),ba(5),Ir(),Er(6,"button",56),Nr("keydown",function(e){return Me(t),jr(3).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Me(t),jr(3).decrementSecond(e)})("mousedown",function(e){return Me(t),jr(3).onTimePickerElementMouseDown(e,2,-1)})("mouseup",function(e){return Me(t),jr(3).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Me(t),jr(3).onTimePickerElementMouseLeave()}),Or(7,"span",58),Ir(),Ir()}if(2&t){const t=jr(3);Ws(4),xr("ngIf",t.currentSecond<10),Ws(1),wa(t.currentSecond)}}function ux(t,e){if(1&t){const t=Dr();Er(0,"div",65),Er(1,"button",66),Nr("keydown",function(e){return Me(t),jr(3).onContainerButtonKeydown(e)})("click",function(e){return Me(t),jr(3).toggleAMPM(e)})("keydown.enter",function(e){return Me(t),jr(3).toggleAMPM(e)}),Or(2,"span",57),Ir(),Er(3,"span"),ba(4),Ir(),Er(5,"button",66),Nr("keydown",function(e){return Me(t),jr(3).onContainerButtonKeydown(e)})("click",function(e){return Me(t),jr(3).toggleAMPM(e)})("keydown.enter",function(e){return Me(t),jr(3).toggleAMPM(e)}),Or(6,"span",58),Ir(),Ir()}if(2&t){const t=jr(3);Ws(4),wa(t.pm?"PM":"AM")}}function hx(t,e){if(1&t){const t=Dr();Er(0,"div",54),Er(1,"div",55),Er(2,"button",56),Nr("keydown",function(e){return Me(t),jr(2).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Me(t),jr(2).incrementHour(e)})("mousedown",function(e){return Me(t),jr(2).onTimePickerElementMouseDown(e,0,1)})("mouseup",function(e){return Me(t),jr(2).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Me(t),jr(2).onTimePickerElementMouseLeave()}),Or(3,"span",57),Ir(),Er(4,"span"),kr(5,ox,2,0,"ng-container",11),ba(6),Ir(),Er(7,"button",56),Nr("keydown",function(e){return Me(t),jr(2).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Me(t),jr(2).decrementHour(e)})("mousedown",function(e){return Me(t),jr(2).onTimePickerElementMouseDown(e,0,-1)})("mouseup",function(e){return Me(t),jr(2).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Me(t),jr(2).onTimePickerElementMouseLeave()}),Or(8,"span",58),Ir(),Ir(),Er(9,"div",59),Er(10,"span"),ba(11),Ir(),Ir(),Er(12,"div",60),Er(13,"button",56),Nr("keydown",function(e){return Me(t),jr(2).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Me(t),jr(2).incrementMinute(e)})("mousedown",function(e){return Me(t),jr(2).onTimePickerElementMouseDown(e,1,1)})("mouseup",function(e){return Me(t),jr(2).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Me(t),jr(2).onTimePickerElementMouseLeave()}),Or(14,"span",57),Ir(),Er(15,"span"),kr(16,rx,2,0,"ng-container",11),ba(17),Ir(),Er(18,"button",56),Nr("keydown",function(e){return Me(t),jr(2).onContainerButtonKeydown(e)})("keydown.enter",function(e){return Me(t),jr(2).decrementMinute(e)})("mousedown",function(e){return Me(t),jr(2).onTimePickerElementMouseDown(e,1,-1)})("mouseup",function(e){return Me(t),jr(2).onTimePickerElementMouseUp(e)})("mouseleave",function(){return Me(t),jr(2).onTimePickerElementMouseLeave()}),Or(19,"span",58),Ir(),Ir(),kr(20,ax,3,1,"div",61),kr(21,cx,8,2,"div",62),kr(22,ux,7,1,"div",63),Ir()}if(2&t){const t=jr(2);Ws(5),xr("ngIf",t.currentHour<10),Ws(1),wa(t.currentHour),Ws(5),wa(t.timeSeparator),Ws(5),xr("ngIf",t.currentMinute<10),Ws(1),wa(t.currentMinute),Ws(3),xr("ngIf",t.showSeconds),Ws(1),xr("ngIf",t.showSeconds),Ws(1),xr("ngIf","12"==t.hourFormat)}}const dx=function(t){return[t]};function px(t,e){if(1&t){const t=Dr();Er(0,"div",67),Er(1,"button",68),Nr("keydown",function(e){return Me(t),jr(2).onContainerButtonKeydown(e)})("click",function(e){return Me(t),jr(2).onTodayButtonClick(e)}),Ir(),Er(2,"button",68),Nr("keydown",function(e){return Me(t),jr(2).onContainerButtonKeydown(e)})("click",function(e){return Me(t),jr(2).onClearButtonClick(e)}),Ir(),Ir()}if(2&t){const t=jr(2);Ws(1),xr("label",t.getTranslation("today"))("ngClass",Wl(4,dx,t.todayButtonStyleClass)),Ws(1),xr("label",t.getTranslation("clear"))("ngClass",Wl(6,dx,t.clearButtonStyleClass))}}function fx(t,e){1&t&&Mr(0)}const gx=function(t,e,n,i,s,o){return{"p-datepicker p-component":!0,"p-datepicker-inline":t,"p-disabled":e,"p-datepicker-timeonly":n,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":s,"p-datepicker-touch-ui":o}},mx=function(t,e){return{showTransitionParams:t,hideTransitionParams:e}},bx=function(t){return{value:"visibleTouchUI",params:t}},wx=function(t){return{value:"visible",params:t}};function yx(t,e){if(1&t){const t=Dr();Er(0,"div",8,9),Nr("@overlayAnimation.start",function(e){return Me(t),jr().onOverlayAnimationStart(e)})("@overlayAnimation.done",function(e){return Me(t),jr().onOverlayAnimationDone(e)}),Hr(2),kr(3,LS,1,0,"ng-container",10),kr(4,sx,4,2,"ng-container",11),kr(5,hx,23,8,"div",12),kr(6,px,3,8,"div",13),Hr(7,1),kr(8,fx,1,0,"ng-container",10),Ir()}if(2&t){const t=jr();sa(t.panelStyleClass),xr("ngStyle",t.panelStyle)("ngClass",Ql(11,gx,t.inline,t.disabled,t.timeOnly,t.numberOfMonths>1,"month"===t.view,t.touchUI))("@overlayAnimation",t.touchUI?Wl(21,bx,ql(18,mx,t.showTransitionOptions,t.hideTransitionOptions)):Wl(26,wx,ql(23,mx,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",!0===t.inline),Ws(3),xr("ngTemplateOutlet",t.headerTemplate),Ws(1),xr("ngIf",!t.timeOnly),Ws(1),xr("ngIf",t.showTime||t.timeOnly),Ws(1),xr("ngIf",t.showButtonBar),Ws(2),xr("ngTemplateOutlet",t.footerTemplate)}}const vx=[[["p-header"]],[["p-footer"]]],_x=function(t,e,n,i){return{"p-calendar":!0,"p-calendar-w-btn":t,"p-calendar-timeonly":e,"p-calendar-disabled":n,"p-focus":i}},kx=["p-header","p-footer"],Cx={provide:Tp,useExisting:it(()=>Sx),multi:!0};let Sx=(()=>{class t{constructor(t,e,n,i,s){this.el=t,this.renderer=e,this.cd=n,this.zone=i,this.config=s,this.dateFormat="mm/dd/yy",this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.numberOfMonths=1,this.view="date",this.timeSeparator=":",this.focusTrap=!0,this.firstDayOfWeek=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new lc,this.onBlur=new lc,this.onClose=new lc,this.onSelect=new lc,this.onInput=new lc,this.onTodayClick=new lc,this.onClearClick=new lc,this.onMonthChange=new lc,this.onYearChange=new lc,this.onClickOutside=new lc,this.onShow=new lc,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this.convertTo24Hour=function(t,e){return"12"==this.hourFormat?12===t?e?12:0:e?t+12:t:t}}set content(t){this.contentViewChild=t,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.initFocusableCell())}get defaultDate(){return this._defaultDate}set defaultDate(t){if(this._defaultDate=t,this.initialized){const e=t||new Date;this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(t){this._minDate=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(t){this._disabledDates=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(t){this._disabledDays=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(t){if(this._yearRange=t,t){const e=t.split(":"),n=parseInt(e[0]),i=parseInt(e[1]);this.populateYearOptions(n,i)}}get showTime(){return this._showTime}set showTime(t){this._showTime=t,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}set locale(t){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){const t=this.defaultDate||new Date;this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),"date"===this.view?(this.createWeekDays(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7):"month"===this.view&&this.createMonthPickerValues(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"date":this.dateTemplate=t.template;break;case"disabledDate":this.disabledDateTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.dateTemplate=t.template}})}getTranslation(t){return this.config.getTranslation(t)}populateYearOptions(t,e){this.yearOptions=[];for(let n=t;n<=e;n++)this.yearOptions.push(n)}createWeekDays(){this.weekDays=[];let t=this.firstDayOfWeek,e=this.getTranslation(Vd.DAY_NAMES_MIN);for(let n=0;n<7;n++)this.weekDays.push(e[t]),t=6==t?0:++t}createMonthPickerValues(){this.monthPickerValues=[];let t=this.getTranslation(Vd.MONTH_NAMES_SHORT);for(let e=0;e<=11;e++)this.monthPickerValues.push(t[e])}createMonths(t,e){this.months=this.months=[];for(let n=0;n<this.numberOfMonths;n++){let i=t+n,s=e;i>11&&(i=i%11-1,s=e+1),this.months.push(this.createMonth(i,s))}}getWeekNumber(t){let e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));let n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e.getTime())/864e5)/7)+1}createMonth(t,e){let n=[],i=this.getFirstDayOfMonthIndex(t,e),s=this.getDaysCountInMonth(t,e),o=this.getDaysCountInPrevMonth(t,e),r=1,a=new Date,l=[],c=Math.ceil((s+i)/7);for(let u=0;u<c;u++){let c=[];if(0==u){for(let s=o-i+1;s<=o;s++){let n=this.getPreviousMonthAndYear(t,e);c.push({day:s,month:n.month,year:n.year,otherMonth:!0,today:this.isToday(a,s,n.month,n.year),selectable:this.isSelectable(s,n.month,n.year,!0)})}let n=7-c.length;for(let i=0;i<n;i++)c.push({day:r,month:t,year:e,today:this.isToday(a,r,t,e),selectable:this.isSelectable(r,t,e,!1)}),r++}else for(let n=0;n<7;n++){if(r>s){let n=this.getNextMonthAndYear(t,e);c.push({day:r-s,month:n.month,year:n.year,otherMonth:!0,today:this.isToday(a,r-s,n.month,n.year),selectable:this.isSelectable(r-s,n.month,n.year,!0)})}else c.push({day:r,month:t,year:e,today:this.isToday(a,r,t,e),selectable:this.isSelectable(r,t,e,!1)});r++}this.showWeek&&l.push(this.getWeekNumber(new Date(c[0].year,c[0].month,c[0].day))),n.push(c)}return{month:t,year:e,dates:n,weekNumbers:l}}initTime(t){this.pm=t.getHours()>11,this.showTime?(this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds(),this.setCurrentHourPM(t.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(t){t.stopPropagation(),this.disabled?t.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(t){t.stopPropagation(),this.disabled?t.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let t=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-t,this.yearOptions[this.yearOptions.length-1]-t)}}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let t=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+t,this.yearOptions[this.yearOptions.length-1]+t)}}onDateSelect(t,e){!this.disabled&&e.selectable?(this.isMultipleSelection()&&this.isSelected(e)?(this.value=this.value.filter((t,n)=>!this.isDateEquals(t,e)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(e)&&this.selectDate(e),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{t.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),t.preventDefault()):t.preventDefault()}shouldSelectDate(t){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(t,e){Ad.hasClass(t.target,"p-disabled")||this.onDateSelect(t,{year:this.currentYear,month:e,day:1,selectable:!0})}updateInputfield(){let t="";if(this.value)if(this.isSingleSelection())t=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let e=0;e<this.value.length;e++)t+=this.formatDateTime(this.value[e]),e!==this.value.length-1&&(t+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let e=this.value[1];t=this.formatDateTime(this.value[0]),e&&(t+=" "+this.rangeSeparator+" "+this.formatDateTime(e))}this.inputFieldValue=t,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(t){let e=null;return t&&(this.timeOnly?e=this.formatTime(t):(e=this.formatDate(t,this.getDateFormat()),this.showTime&&(e+=" "+this.formatTime(t)))),e}setCurrentHourPM(t){"12"==this.hourFormat?(this.pm=t>11,this.currentHour=t>=12?12==t?12:t-12:0==t?12:t):this.currentHour=t}selectDate(t){let e=new Date(t.year,t.month,t.day);if(this.showTime&&(e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond)),this.minDate&&this.minDate>e&&(e=this.minDate,this.setCurrentHourPM(e.getHours()),this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds()),this.maxDate&&this.maxDate<e&&(e=this.maxDate,this.setCurrentHourPM(e.getHours()),this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds()),this.isSingleSelection())this.updateModel(e);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,e]:[e]);else if(this.isRangeSelection())if(this.value&&this.value.length){let t=this.value[0],n=this.value[1];!n&&e.getTime()>=t.getTime()?n=e:(t=e,n=null),this.updateModel([t,n])}else this.updateModel([e,null]);this.onSelect.emit(e)}updateModel(t){if(this.value=t,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let t=null;this.value&&(t=this.value.map(t=>this.formatDateTime(t))),this.onModelChange(t)}}getFirstDayOfMonthIndex(t,e){let n=new Date;n.setDate(1),n.setMonth(t),n.setFullYear(e);let i=n.getDay()+this.getSundayIndex();return i>=7?i-7:i}getDaysCountInMonth(t,e){return 32-this.daylightSavingAdjust(new Date(e,t,32)).getDate()}getDaysCountInPrevMonth(t,e){let n=this.getPreviousMonthAndYear(t,e);return this.getDaysCountInMonth(n.month,n.year)}getPreviousMonthAndYear(t,e){let n,i;return 0===t?(n=11,i=e-1):(n=t-1,i=e),{month:n,year:i}}getNextMonthAndYear(t,e){let n,i;return 11===t?(n=0,i=e+1):(n=t+1,i=e),{month:n,year:i}}getSundayIndex(){return this.firstDayOfWeek>0?7-this.firstDayOfWeek:0}isSelected(t){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,t);if(this.isMultipleSelection()){let e=!1;for(let n of this.value)if(e=this.isDateEquals(n,t),e)break;return e}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],t)||this.isDateEquals(this.value[1],t)||this.isDateBetween(this.value[0],this.value[1],t):this.isDateEquals(this.value[0],t):void 0}isMonthSelected(t){let e=this.value?Array.isArray(this.value)?this.value[0].getDate():this.value.getDate():1;return this.isSelected({year:this.currentYear,month:t,day:e,selectable:!0})}isDateEquals(t,e){return!!t&&t.getDate()===e.day&&t.getMonth()===e.month&&t.getFullYear()===e.year}isDateBetween(t,e,n){if(t&&e){let i=new Date(n.year,n.month,n.day);return t.getTime()<=i.getTime()&&e.getTime()>=i.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(t,e,n,i){return t.getDate()===e&&t.getMonth()===n&&t.getFullYear()===i}isSelectable(t,e,n,i){let s=!0,o=!0,r=!0,a=!0;return!(i&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>n||this.minDate.getFullYear()===n&&(this.minDate.getMonth()>e||this.minDate.getMonth()===e&&this.minDate.getDate()>t))&&(s=!1),this.maxDate&&(this.maxDate.getFullYear()<n||this.maxDate.getFullYear()===n&&(this.maxDate.getMonth()<e||this.maxDate.getMonth()===e&&this.maxDate.getDate()<t))&&(o=!1),this.disabledDates&&(r=!this.isDateDisabled(t,e,n)),this.disabledDays&&(a=!this.isDayDisabled(t,e,n)),s&&o&&r&&a)}isDateDisabled(t,e,n){if(this.disabledDates)for(let i of this.disabledDates)if(i.getFullYear()===n&&i.getMonth()===e&&i.getDate()===t)return!0;return!1}isDayDisabled(t,e,n){if(this.disabledDays){let i=new Date(n,e,t).getDay();return-1!==this.disabledDays.indexOf(i)}return!1}onInputFocus(t){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(t)}onInputClick(){this.overlay&&this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++Ad.zindex)),this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(t){this.focus=!1,this.onBlur.emit(t),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(t,e){this.overlayVisible?this.hideOverlay():(e.focus(),this.showOverlay())}onPrevButtonClick(t){this.navigationState={backward:!0,button:!0},this.navBackward(t)}onNextButtonClick(t){this.navigationState={backward:!1,button:!0},this.navForward(t)}onContainerButtonKeydown(t){switch(t.which){case 9:this.inline||this.trapFocus(t);break;case 27:this.overlayVisible=!1,t.preventDefault()}}onInputKeydown(t){this.isKeydown=!0,40===t.keyCode&&this.contentViewChild?this.trapFocus(t):27===t.keyCode||13===t.keyCode?this.overlayVisible&&(this.overlayVisible=!1,t.preventDefault()):9===t.keyCode&&this.contentViewChild&&(Ad.getFocusableElements(this.contentViewChild.nativeElement).forEach(t=>t.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(t,e,n){const i=t.currentTarget,s=i.parentElement;switch(t.which){case 40:{i.tabIndex="-1";let e=Ad.index(s),n=s.parentElement.nextElementSibling;n?Ad.hasClass(n.children[e].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(t)):(n.children[e].children[0].tabIndex="0",n.children[e].children[0].focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 38:{i.tabIndex="-1";let e=Ad.index(s),n=s.parentElement.previousElementSibling;if(n){let i=n.children[e].children[0];Ad.hasClass(i,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(t)):(i.tabIndex="0",i.focus())}else this.navigationState={backward:!0},this.navBackward(t);t.preventDefault();break}case 37:{i.tabIndex="-1";let e=s.previousElementSibling;if(e){let t=e.children[0];Ad.hasClass(t,"p-disabled")||Ad.hasClass(t.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,n):(t.tabIndex="0",t.focus())}else this.navigateToMonth(!0,n);t.preventDefault();break}case 39:{i.tabIndex="-1";let e=s.nextElementSibling;if(e){let t=e.children[0];Ad.hasClass(t,"p-disabled")?this.navigateToMonth(!1,n):(t.tabIndex="0",t.focus())}else this.navigateToMonth(!1,n);t.preventDefault();break}case 13:this.onDateSelect(t,e),t.preventDefault();break;case 27:this.overlayVisible=!1,t.preventDefault();break;case 9:this.inline||this.trapFocus(t)}}onMonthCellKeydown(t,e){const n=t.currentTarget;switch(t.which){case 38:case 40:{n.tabIndex="-1";var i=n.parentElement.children,s=Ad.index(n);let e=i[40===t.which?s+3:s-3];e&&(e.tabIndex="0",e.focus()),t.preventDefault();break}case 37:{n.tabIndex="-1";let e=n.previousElementSibling;e&&(e.tabIndex="0",e.focus()),t.preventDefault();break}case 39:{n.tabIndex="-1";let e=n.nextElementSibling;e&&(e.tabIndex="0",e.focus()),t.preventDefault();break}case 13:this.onMonthSelect(t,e),t.preventDefault();break;case 27:this.overlayVisible=!1,t.preventDefault();break;case 9:this.inline||this.trapFocus(t)}}navigateToMonth(t,e){if(t)if(1===this.numberOfMonths||0===e)this.navigationState={backward:!0},this.navBackward(event);else{let t=Ad.find(this.contentViewChild.nativeElement.children[e-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),n=t[t.length-1];n.tabIndex="0",n.focus()}else if(1===this.numberOfMonths||e===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let t=Ad.findSingle(this.contentViewChild.nativeElement.children[e+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t.tabIndex="0",t.focus()}}updateFocus(){let t;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?Ad.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():Ad.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let e=Ad.find(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t=e[e.length-1]}else t=Ad.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t&&(t.tabIndex="0",t.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let t;if("month"===this.view){let e=Ad.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),n=Ad.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");e.forEach(t=>t.tabIndex=-1),t=n||e[0],0===e.length&&Ad.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(t=>t.tabIndex=-1)}else t=Ad.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),t||(t=Ad.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)")||Ad.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"));t&&(t.tabIndex="0")}trapFocus(t){let e=Ad.getFocusableElements(this.contentViewChild.nativeElement);if(e&&e.length>0)if(e[0].ownerDocument.activeElement){let n=e.indexOf(e[0].ownerDocument.activeElement);if(t.shiftKey)if(-1==n||0===n)if(this.focusTrap)e[e.length-1].focus();else{if(-1===n)return this.hideOverlay();if(0===n)return}else e[n-1].focus();else if(-1==n||n===e.length-1){if(!this.focusTrap&&-1!=n)return this.hideOverlay();e[0].focus()}else e[n+1].focus()}else e[0].focus();t.preventDefault()}onMonthDropdownChange(t){this.currentMonth=parseInt(t),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(t){this.currentYear=parseInt(t),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(t,e,n,i){let s=this.value;const o=this.convertTo24Hour(t,i);this.isRangeSelection()&&(s=this.value[1]||this.value[0]),this.isMultipleSelection()&&(s=this.value[this.value.length-1]);const r=s?s.toDateString():null;if(this.minDate&&r&&this.minDate.toDateString()===r){if(this.minDate.getHours()>o)return!1;if(this.minDate.getHours()===o){if(this.minDate.getMinutes()>e)return!1;if(this.minDate.getMinutes()===e&&this.minDate.getSeconds()>n)return!1}}if(this.maxDate&&r&&this.maxDate.toDateString()===r){if(this.maxDate.getHours()<o)return!1;if(this.maxDate.getHours()===o){if(this.maxDate.getMinutes()<e)return!1;if(this.maxDate.getMinutes()===e&&this.maxDate.getSeconds()<n)return!1}}return!0}incrementHour(t){let e=this.currentHour+this.stepHour,n=this.pm;"24"==this.hourFormat?e=e>=24?e-24:e:"12"==this.hourFormat&&(this.currentHour<12&&e>11&&(n=!this.pm),e=e>=13?e-12:e),this.validateTime(e,this.currentMinute,this.currentSecond,n)&&(this.currentHour=e,this.pm=n),t.preventDefault()}onTimePickerElementMouseDown(t,e,n){this.disabled||(this.repeat(t,null,e,n),t.preventDefault())}onTimePickerElementMouseUp(t){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(t,e,n,i){let s=e||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(t,100,n,i),this.cd.markForCheck()},s),n){case 0:1===i?this.incrementHour(t):this.decrementHour(t);break;case 1:1===i?this.incrementMinute(t):this.decrementMinute(t);break;case 2:1===i?this.incrementSecond(t):this.decrementSecond(t)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(t){let e=this.currentHour-this.stepHour,n=this.pm;"24"==this.hourFormat?e=e<0?24+e:e:"12"==this.hourFormat&&(12===this.currentHour&&(n=!this.pm),e=e<=0?12+e:e),this.validateTime(e,this.currentMinute,this.currentSecond,n)&&(this.currentHour=e,this.pm=n),t.preventDefault()}incrementMinute(t){let e=this.currentMinute+this.stepMinute;e=e>59?e-60:e,this.validateTime(this.currentHour,e,this.currentSecond,this.pm)&&(this.currentMinute=e),t.preventDefault()}decrementMinute(t){let e=this.currentMinute-this.stepMinute;e=e<0?60+e:e,this.validateTime(this.currentHour,e,this.currentSecond,this.pm)&&(this.currentMinute=e),t.preventDefault()}incrementSecond(t){let e=this.currentSecond+this.stepSecond;e=e>59?e-60:e,this.validateTime(this.currentHour,this.currentMinute,e,this.pm)&&(this.currentSecond=e),t.preventDefault()}decrementSecond(t){let e=this.currentSecond-this.stepSecond;e=e<0?60+e:e,this.validateTime(this.currentHour,this.currentMinute,e,this.pm)&&(this.currentSecond=e),t.preventDefault()}updateTime(){let t=this.value;this.isRangeSelection()&&(t=this.value[1]||this.value[0]),this.isMultipleSelection()&&(t=this.value[this.value.length-1]),t=t?new Date(t.getTime()):new Date,t.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond),this.isRangeSelection()&&(t=this.value[1]?[this.value[0],t]:[t,null]),this.isMultipleSelection()&&(t=[...this.value.slice(0,-1),t]),this.updateModel(t),this.onSelect.emit(t),this.updateInputfield()}toggleAMPM(t){const e=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,e)&&(this.pm=e,this.updateTime()),t.preventDefault()}onUserInput(t){if(!this.isKeydown)return;this.isKeydown=!1;let e=t.target.value;try{let t=this.parseValueFromString(e);this.isValidSelection(t)&&(this.updateModel(t),this.updateUI())}catch(n){this.updateModel(null)}this.filled=null!=e&&e.length,this.onInput.emit(t)}isValidSelection(t){let e=!0;return this.isSingleSelection()?this.isSelectable(t.getDate(),t.getMonth(),t.getFullYear(),!1)||(e=!1):t.every(t=>this.isSelectable(t.getDate(),t.getMonth(),t.getFullYear(),!1))&&this.isRangeSelection()&&(e=t.length>1&&t[1]>t[0]),e}parseValueFromString(t){if(!t||0===t.trim().length)return null;let e;if(this.isSingleSelection())e=this.parseDateTime(t);else if(this.isMultipleSelection()){let n=t.split(this.multipleSeparator);e=[];for(let t of n)e.push(this.parseDateTime(t.trim()))}else if(this.isRangeSelection()){let n=t.split(" "+this.rangeSeparator+" ");e=[];for(let t=0;t<n.length;t++)e[t]=this.parseDateTime(n[t].trim())}return e}parseDateTime(t){let e,n=t.split(" ");if(this.timeOnly)e=new Date,this.populateTime(e,n[0],n[1]);else{const i=this.getDateFormat();if(this.showTime){let t="12"==this.hourFormat?n.pop():null,s=n.pop();e=this.parseDate(n.join(" "),i),this.populateTime(e,s,t)}else e=this.parseDate(t,i)}return e}populateTime(t,e,n){if("12"==this.hourFormat&&!n)throw"Invalid Time";this.pm="PM"===n||"pm"===n;let i=this.parseTime(e);t.setHours(i.hour),t.setMinutes(i.minute),t.setSeconds(i.second)}updateUI(){let t=this.value||this.defaultDate||new Date;Array.isArray(t)&&(t=t[0]),this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=t.element,this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++Ad.zindex)),this.alignOverlay(),this.onShow.emit(t));break;case"void":this.onOverlayHide(),this.onClose.emit(t)}}onOverlayAnimationDone(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener())}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Ad.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.appendTo?Ad.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement):Ad.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement)}enableModality(t){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(t.style.zIndex)-1),Ad.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker"),this.maskClickListener=this.renderer.listen(this.mask,"click",t=>{this.disableModality()}),document.body.appendChild(this.mask),Ad.addClass(document.body,"p-overflow-hidden"))}disableModality(){if(this.mask){document.body.removeChild(this.mask);let t,e=document.body.children;for(let n=0;n<e.length;n++)if(Ad.hasClass(e[n],"p-datepicker-mask-scrollblocker")){t=!0;break}t||Ad.removeClass(document.body,"p-overflow-hidden"),this.unbindMaskClickListener(),this.mask=null}}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}writeValue(t){this.value=t,this.value&&"string"==typeof this.value&&(this.value=this.parseValueFromString(this.value)),this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}getDateFormat(){return this.dateFormat}formatDate(t,e){if(!t)return"";let n;const i=t=>{const i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},s=(t,e,n)=>{let s=""+e;if(i(t))for(;s.length<n;)s="0"+s;return s},o=(t,e,n,s)=>i(t)?s[e]:n[e];let r="",a=!1;if(t)for(n=0;n<e.length;n++)if(a)"'"!==e.charAt(n)||i("'")?r+=e.charAt(n):a=!1;else switch(e.charAt(n)){case"d":r+=s("d",t.getDate(),2);break;case"D":r+=o("D",t.getDay(),this.getTranslation(Vd.DAY_NAMES_SHORT),this.getTranslation(Vd.DAY_NAMES));break;case"o":r+=s("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=s("m",t.getMonth()+1,2);break;case"M":r+=o("M",t.getMonth(),this.getTranslation(Vd.MONTH_NAMES_SHORT),this.getTranslation(Vd.MONTH_NAMES));break;case"y":r+=i("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=1e4*t.getTime()+this.ticksTo1970;break;case"'":i("'")?r+="'":a=!0;break;default:r+=e.charAt(n)}return r}formatTime(t){if(!t)return"";let e="",n=t.getHours(),i=t.getMinutes(),s=t.getSeconds();return"12"==this.hourFormat&&n>11&&12!=n&&(n-=12),e+="12"==this.hourFormat&&0===n?12:n<10?"0"+n:n,e+=":",e+=i<10?"0"+i:i,this.showSeconds&&(e+=":",e+=s<10?"0"+s:s),"12"==this.hourFormat&&(e+=t.getHours()>11?" PM":" AM"),e}parseTime(t){let e=t.split(":");if(e.length!==(this.showSeconds?3:2))throw"Invalid time";let n=parseInt(e[0]),i=parseInt(e[1]),s=this.showSeconds?parseInt(e[2]):null;if(isNaN(n)||isNaN(i)||n>23||i>59||"12"==this.hourFormat&&n>12||this.showSeconds&&(isNaN(s)||s>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==n&&this.pm?n+=12:this.pm||12!==n||(n-=12)),{hour:n,minute:i,second:s}}parseDate(t,e){if(null==e||null==t)throw"Invalid arguments";if(""===(t="object"==typeof t?t.toString():t+""))return null;let n,i,s,o,r=0,a="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),l=-1,c=-1,u=-1,h=-1,d=!1,p=t=>{let i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},f=e=>{let n=p(e),i="@"===e?14:"!"===e?20:"y"===e&&n?4:"o"===e?3:2,s=new RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),o=t.substring(r).match(s);if(!o)throw"Missing number at position "+r;return r+=o[0].length,parseInt(o[0],10)},g=(e,n,i)=>{let s=-1,o=p(e)?i:n,a=[];for(let t=0;t<o.length;t++)a.push([t,o[t]]);a.sort((t,e)=>-(t[1].length-e[1].length));for(let l=0;l<a.length;l++){let e=a[l][1];if(t.substr(r,e.length).toLowerCase()===e.toLowerCase()){s=a[l][0],r+=e.length;break}}if(-1!==s)return s+1;throw"Unknown name at position "+r},m=()=>{if(t.charAt(r)!==e.charAt(n))throw"Unexpected literal at position "+r;r++};for("month"===this.view&&(u=1),n=0;n<e.length;n++)if(d)"'"!==e.charAt(n)||p("'")?m():d=!1;else switch(e.charAt(n)){case"d":u=f("d");break;case"D":g("D",this.getTranslation(Vd.DAY_NAMES_SHORT),this.getTranslation(Vd.DAY_NAMES));break;case"o":h=f("o");break;case"m":c=f("m");break;case"M":c=g("M",this.getTranslation(Vd.MONTH_NAMES_SHORT),this.getTranslation(Vd.MONTH_NAMES));break;case"y":l=f("y");break;case"@":o=new Date(f("@")),l=o.getFullYear(),c=o.getMonth()+1,u=o.getDate();break;case"!":o=new Date((f("!")-this.ticksTo1970)/1e4),l=o.getFullYear(),c=o.getMonth()+1,u=o.getDate();break;case"'":p("'")?m():d=!0;break;default:m()}if(r<t.length&&(s=t.substr(r),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===l?l=(new Date).getFullYear():l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=a?0:-100)),h>-1)for(c=1,u=h;i=this.getDaysCountInMonth(l,c-1),!(u<=i);)c++,u-=i;if(o=this.daylightSavingAdjust(new Date(l,c-1,u)),o.getFullYear()!==l||o.getMonth()+1!==c||o.getDate()!==u)throw"Invalid date";return o}daylightSavingAdjust(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(t){let e=new Date,n={day:e.getDate(),month:e.getMonth(),year:e.getFullYear(),otherMonth:e.getMonth()!==this.currentMonth||e.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(t,n),this.onTodayClick.emit(t)}onClearButtonClick(t){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(t)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",t=>{this.isOutsideClicked(t)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(t),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||this.touchUI||(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Pd(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.isNavIconClicked(t)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isNavIconClicked(t){return Ad.hasClass(t.target,"p-datepicker-prev")||Ad.hasClass(t.target,"p-datepicker-prev-icon")||Ad.hasClass(t.target,"p-datepicker-next")||Ad.hasClass(t.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!Ad.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindMaskClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.disableModality()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}var e;return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(Ga),Sr(bl),Sr(Yc),Sr(Fd))},t.\u0275cmp=Bt({type:t,selectors:[["p-calendar"]],contentQueries:function(t,e,n){if(1&t&&kc(n,$d,4),2&t){let t;vc(t=Cc())&&(e.templates=t)}},viewQuery:function(t,e){if(1&t&&(_c(OS,5),_c(AS,5),_c(PS,5)),2&t){let t;vc(t=Cc())&&(e.containerViewChild=t.first),vc(t=Cc())&&(e.inputfieldViewChild=t.first),vc(t=Cc())&&(e.content=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&ea("p-inputwrapper-filled",e.filled)("p-inputwrapper-focus",e.focus)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",numberOfMonths:"numberOfMonths",view:"view",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",firstDayOfWeek:"firstDayOfWeek",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[Va([Cx])],ngContentSelectors:kx,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["class","p-datepicker-month",4,"ngIf"],["tabindex","0","class","p-datepicker-month",3,"change",4,"ngIf"],["tabindex","0","class","p-datepicker-year",3,"change",4,"ngIf"],["class","p-datepicker-year",4,"ngIf"],["class","p-datepicker-next p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],[1,"p-datepicker-month"],["tabindex","0",1,"p-datepicker-month",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["tabindex","0",1,"p-datepicker-year",3,"change"],[1,"p-datepicker-year"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","mousedown","mouseup","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(t,e){1&t&&(Br(vx),Er(0,"span",0,1),kr(2,DS,3,16,"ng-template",2),kr(3,yx,9,28,"div",3),Ir()),2&t&&(sa(e.styleClass),xr("ngClass",Gl(6,_x,e.showIcon,e.timeOnly,e.disabled,e.focus))("ngStyle",e.style),Ws(2),xr("ngIf",!e.inline),Ws(1),xr("ngIf",e.inline||e.overlayVisible))},directives:[xh,Mh,Oh,kf,Gd,Dh,Eh],styles:[".p-calendar{position:relative;display:inline-flex}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute}.p-datepicker-inline{position:static}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-next,.p-datepicker-prev{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;margin:0 auto}.p-datepicker td>span,.p-monthpicker-month{justify-content:center;align-items:center;cursor:pointer;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker,.p-timepicker button{display:flex;justify-content:center;align-items:center}.p-timepicker button{cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-calendar .p-datepicker-touch-ui,.p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}"],encapsulation:2,data:{animation:[vd("overlayAnimation",[(e=Cd({transform:"translate(-50%,-50%)",opacity:1}),{type:0,name:"visibleTouchUI",styles:e,options:void 0}),Sd("void => visible",[Cd({opacity:0,transform:"scaleY(0.8)"}),_d("{{showTransitionParams}}",Cd({opacity:1,transform:"*"}))]),Sd("visible => void",[_d("{{hideTransitionParams}}",Cd({opacity:0}))]),Sd("void => visibleTouchUI",[Cd({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),_d("{{showTransitionParams}}")]),Sd("visibleTouchUI => void",[_d("{{hideTransitionParams}}",Cd({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),t})(),xx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,Cf,Wd,Yd],Cf,Wd]}),t})();function Tx(t,e){1&t&&Mr(0)}const Ex=function(t){return{$implicit:t}};function Ix(t,e){if(1&t&&(Er(0,"div",14),kr(1,Tx,1,0,"ng-container",15),Ir()),2&t){const t=jr(2);Ws(1),xr("ngTemplateOutlet",t.templateLeft)("ngTemplateOutletContext",Wl(2,Ex,t.paginatorState))}}function Ox(t,e){if(1&t&&(Er(0,"span",16),ba(1),Ir()),2&t){const t=jr(2);Ws(1),wa(t.currentPageReport)}}const Ax=function(t){return{"p-disabled":t}};function Px(t,e){if(1&t){const t=Dr();Er(0,"button",17),Nr("click",function(e){return Me(t),jr(2).changePageToFirst(e)}),Or(1,"span",18),Ir()}if(2&t){const t=jr(2);xr("disabled",t.isFirstPage())("ngClass",Wl(2,Ax,t.isFirstPage()))}}const Mx=function(t){return{"p-highlight":t}};function Dx(t,e){if(1&t){const t=Dr();Er(0,"button",21),Nr("click",function(e){const n=Me(t).$implicit;return jr(3).onPageLinkClick(e,n-1)}),ba(1),Ir()}if(2&t){const t=e.$implicit,n=jr(3);xr("ngClass",Wl(2,Mx,t-1==n.getPage())),Ws(1),wa(t)}}function Lx(t,e){if(1&t&&(Er(0,"span",19),kr(1,Dx,2,4,"button",20),Ir()),2&t){const t=jr(2);Ws(1),xr("ngForOf",t.pageLinks)}}function Rx(t,e){1&t&&ba(0),2&t&&wa(jr(3).currentPageReport)}function Nx(t,e){if(1&t){const t=Dr();Er(0,"p-dropdown",22),Nr("onChange",function(e){return Me(t),jr(2).onPageDropdownChange(e)}),kr(1,Rx,1,1,"ng-template",23),Ir()}if(2&t){const t=jr(2);xr("options",t.pageItems)("ngModel",t.getPage())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight)}}function Fx(t,e){if(1&t){const t=Dr();Er(0,"button",24),Nr("click",function(e){return Me(t),jr(2).changePageToLast(e)}),Or(1,"span",25),Ir()}if(2&t){const t=jr(2);xr("disabled",t.isLastPage())("ngClass",Wl(2,Ax,t.isLastPage()))}}function Vx(t,e){1&t&&Mr(0)}function jx(t,e){if(1&t&&kr(0,Vx,1,0,"ng-container",15),2&t){const t=e.$implicit;xr("ngTemplateOutlet",jr(4).dropdownItemTemplate)("ngTemplateOutletContext",Wl(2,Ex,t))}}function zx(t,e){1&t&&(Ar(0),kr(1,jx,1,4,"ng-template",28),Pr())}function Bx(t,e){if(1&t){const t=Dr();Er(0,"p-dropdown",26),Nr("ngModelChange",function(e){return Me(t),jr(2).rows=e})("onChange",function(e){return Me(t),jr(2).onRppChange(e)}),kr(1,zx,2,0,"ng-container",27),Ir()}if(2&t){const t=jr(2);xr("options",t.rowsPerPageItems)("ngModel",t.rows)("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight),Ws(1),xr("ngIf",t.dropdownItemTemplate)}}function Hx(t,e){1&t&&Mr(0)}function Ux(t,e){if(1&t&&(Er(0,"div",29),kr(1,Hx,1,0,"ng-container",15),Ir()),2&t){const t=jr(2);Ws(1),xr("ngTemplateOutlet",t.templateRight)("ngTemplateOutletContext",Wl(2,Ex,t.paginatorState))}}function $x(t,e){if(1&t){const t=Dr();Er(0,"div",1),kr(1,Ix,2,4,"div",2),kr(2,Ox,2,1,"span",3),kr(3,Px,2,4,"button",4),Er(4,"button",5),Nr("click",function(e){return Me(t),jr().changePageToPrev(e)}),Or(5,"span",6),Ir(),kr(6,Lx,2,1,"span",7),kr(7,Nx,2,4,"p-dropdown",8),Er(8,"button",9),Nr("click",function(e){return Me(t),jr().changePageToNext(e)}),Or(9,"span",10),Ir(),kr(10,Fx,2,4,"button",11),kr(11,Bx,2,5,"p-dropdown",12),kr(12,Ux,2,4,"div",13),Ir()}if(2&t){const t=jr();sa(t.styleClass),xr("ngStyle",t.style)("ngClass","p-paginator p-component"),Ws(1),xr("ngIf",t.templateLeft),Ws(1),xr("ngIf",t.showCurrentPageReport),Ws(1),xr("ngIf",t.showFirstLastIcon),Ws(1),xr("disabled",t.isFirstPage())("ngClass",Wl(16,Ax,t.isFirstPage())),Ws(2),xr("ngIf",t.showPageLinks),Ws(1),xr("ngIf",t.showJumpToPageDropdown),Ws(1),xr("disabled",t.isLastPage())("ngClass",Wl(18,Ax,t.isLastPage())),Ws(2),xr("ngIf",t.showFirstLastIcon),Ws(1),xr("ngIf",t.rowsPerPageOptions),Ws(1),xr("ngIf",t.templateRight)}}let Wx=(()=>{class t{constructor(t){this.cd=t,this.pageLinkSize=5,this.onPageChange=new lc,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(t){t.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),t.first&&(this._first=t.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),t.rows&&(this.updatePageLinks(),this.updatePaginatorState()),t.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(t){this._first=t}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let t of this.rowsPerPageOptions)"object"==typeof t&&t.showAll?this.rowsPerPageItems.unshift({label:t.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(t),value:t})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)||1}calculatePageLinkBoundaries(){let t=this.getPageCount(),e=Math.min(this.pageLinkSize,t),n=Math.max(0,Math.ceil(this.getPage()-e/2)),i=Math.min(t-1,n+e-1);return n=Math.max(0,n-(this.pageLinkSize-(i-n+1))),[n,i]}updatePageLinks(){this.pageLinks=[];let t=this.calculatePageLinkBoundaries(),e=t[1];for(let n=t[0];n<=e;n++)this.pageLinks.push(n+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let t=0;t<this.getPageCount();t++)this.pageItems.push({label:String(t+1),value:t})}}changePage(t){var e=this.getPageCount();if(t>=0&&t<e){this._first=this.rows*t;var n={page:t,first:this.first,rows:this.rows,pageCount:e};this.updatePageLinks(),this.onPageChange.emit(n),this.updatePaginatorState()}}updateFirst(){const t=this.getPage();t>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(t-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(t){this.isFirstPage()||this.changePage(0),t.preventDefault()}changePageToPrev(t){this.changePage(this.getPage()-1),t.preventDefault()}changePageToNext(t){this.changePage(this.getPage()+1),t.preventDefault()}changePageToLast(t){this.isLastPage()||this.changePage(this.getPageCount()-1),t.preventDefault()}onPageLinkClick(t,e){this.changePage(e),t.preventDefault()}onRppChange(t){this.changePage(this.getPage())}onPageDropdownChange(t){this.changePage(t.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.getPage()+1)).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return t.\u0275fac=function(e){return new(e||t)(Sr(bl))},t.\u0275cmp=Bt({type:t,selectors:[["p-paginator"]],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[ae],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(t,e){1&t&&kr(0,$x,13,20,"div",0),2&t&&xr("ngIf",!!e.alwaysShow||e.pageLinks&&e.pageLinks.length>1)},directives:[Oh,Mh,xh,Gd,Dh,Eh,Sv,$p,uf,$d],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-current,.p-paginator-first,.p-paginator-last,.p-paginator-next,.p-paginator-page,.p-paginator-prev{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}"],encapsulation:2,changeDetection:0}),t})(),qx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,xv,gf,Wd,Yd],xv,gf,Wd]}),t})();function Kx(t,e){1&t&&Or(0,"span",8),2&t&&(sa(jr(2).$implicit.icon),xr("ngClass","p-button-icon p-button-icon-left"))}function Gx(t,e){if(1&t&&(Ar(0),kr(1,Kx,1,3,"span",6),Er(2,"span",7),ba(3),Ir(),Pr()),2&t){const t=jr().$implicit,e=jr();Ws(1),xr("ngIf",t.icon),Ws(2),wa(e.getOptionLabel(t))}}function Yx(t,e){1&t&&Mr(0)}const Qx=function(t,e){return{$implicit:t,index:e}};function Zx(t,e){if(1&t&&kr(0,Yx,1,0,"ng-container",9),2&t){const t=jr(),e=t.$implicit,n=t.index;xr("ngTemplateOutlet",jr().itemTemplate)("ngTemplateOutletContext",ql(2,Qx,e,n))}}const Jx=function(t,e,n){return{"p-highlight":t,"p-disabled":e,"p-button-icon-only":n}};function Xx(t,e){if(1&t){const t=Dr();Er(0,"div",2,3),Nr("click",function(e){const n=Me(t),i=n.$implicit,s=n.index;return jr().onItemClick(e,i,s)})("keydown.enter",function(e){const n=Me(t),i=n.$implicit,s=n.index;return jr().onItemClick(e,i,s)})("blur",function(){return Me(t),jr().onBlur()}),kr(2,Gx,4,2,"ng-container",4),kr(3,Zx,1,5,"ng-template",null,5,Ec),Ir()}if(2&t){const t=e.$implicit,n=Cr(4),i=jr();sa(t.styleClass),xr("ngClass",Kl(10,Jx,i.isSelected(t),i.disabled||i.isOptionDisabled(t),t.icon&&!i.getOptionLabel(t))),_r("aria-pressed",i.isSelected(t))("title",t.title)("aria-label",t.label)("tabindex",i.disabled?null:i.tabindex)("aria-labelledby",i.getOptionLabel(t)),Ws(2),xr("ngIf",!i.itemTemplate)("ngIfElse",n)}}const tT={provide:Tp,useExisting:it(()=>eT),multi:!0};let eT=(()=>{class t{constructor(t){this.cd=t,this.tabindex=0,this.onOptionClick=new lc,this.onChange=new lc,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(t){return this.optionLabel?Md.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?Md.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}isOptionDisabled(t){return this.optionDisabled?Md.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onItemClick(t,e,n){this.disabled||this.isOptionDisabled(e)||(this.multiple?this.isSelected(e)?this.removeOption(e):this.value=[...this.value||[],this.getOptionValue(e)]:this.value=this.getOptionValue(e),this.onOptionClick.emit({originalEvent:t,option:e,index:n}),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}onBlur(){this.onModelTouched()}removeOption(t){this.value=this.value.filter(e=>!Md.equals(e,this.getOptionValue(t),this.dataKey))}isSelected(t){let e=!1,n=this.getOptionValue(t);if(this.multiple){if(this.value)for(let i of this.value)if(Md.equals(i,n,this.dataKey)){e=!0;break}}else e=Md.equals(this.getOptionValue(t),this.value,this.dataKey);return e}}return t.\u0275fac=function(e){return new(e||t)(Sr(bl))},t.\u0275cmp=Bt({type:t,selectors:[["p-selectButton"]],contentQueries:function(t,e,n){if(1&t&&kc(n,kl,5),2&t){let t;vc(t=Cc())&&(e.itemTemplate=t.first)}},inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[Va([tT])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(Er(0,"div",0),kr(1,Xx,5,14,"div",1),Ir()),2&t&&(sa(e.styleClass),xr("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",e.style),Ws(1),xr("ngForOf",e.options))},directives:[xh,Mh,Eh,Gd,Oh,Dh],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}.p-button-label{transition:all .2s}"],encapsulation:2,changeDetection:0}),t})(),nT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,Yd]]}),t})();const iT=function(t,e,n){return{"p-checkbox-label-active":t,"p-disabled":e,"p-checkbox-label-focus":n}};function sT(t,e){if(1&t){const t=Dr();Er(0,"label",7),Nr("click",function(e){Me(t);const n=jr(),i=Cr(3);return n.onClick(e,i)}),ba(1),Ir()}if(2&t){const t=jr();xr("ngClass",Kl(3,iT,null!=t.value,t.disabled,t.focused)),_r("for",t.inputId),Ws(1),wa(t.label)}}const oT=function(t,e){return{"p-checkbox p-component":!0,"p-checkbox-disabled":t,"p-checkbox-focused":e}},rT=function(t,e,n){return{"p-highlight":t,"p-disabled":e,"p-focus":n}},aT={provide:Tp,useExisting:it(()=>lT),multi:!0};let lT=(()=>{class t{constructor(t){this.cd=t,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new lc,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(t,e){this.disabled||this.readonly||(this.toggle(t),this.focused=!0,e.focus())}onKeydown(t){32==t.keyCode&&t.preventDefault()}onKeyup(t){32!=t.keyCode||this.readonly||(this.toggle(t),t.preventDefault())}toggle(t){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}writeValue(t){this.value=t,this.cd.markForCheck()}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Sr(bl))},t.\u0275cmp=Bt({type:t,selectors:[["p-triStateCheckbox"]],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[Va([aT])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(t,e){if(1&t){const t=Dr();Er(0,"div",0),Er(1,"div",1),Er(2,"input",2,3),Nr("keyup",function(t){return e.onKeyup(t)})("keydown",function(t){return e.onKeydown(t)})("focus",function(){return e.onFocus()})("blur",function(){return e.onBlur()}),Ir(),Ir(),Er(4,"div",4),Nr("click",function(n){Me(t);const i=Cr(3);return e.onClick(n,i)}),Or(5,"span",5),Ir(),Ir(),kr(6,sT,2,7,"label",6)}2&t&&(sa(e.styleClass),xr("ngStyle",e.style)("ngClass",ql(14,oT,e.disabled,e.focused)),Ws(2),xr("name",e.name)("readonly",e.readonly)("disabled",e.disabled),_r("id",e.inputId)("tabindex",e.tabindex)("aria-labelledby",e.ariaLabelledBy),Ws(2),xr("ngClass",Kl(17,rT,null!=e.value,e.disabled,e.focused)),_r("aria-checked",!0===e.value),Ws(1),xr("ngClass",!0===e.value?e.checkboxTrueIcon:!1===e.value?e.checkboxFalseIcon:""),Ws(1),xr("ngIf",e.label))},directives:[Mh,xh,Oh],encapsulation:2,changeDetection:0}),t})(),cT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh]]}),t})();const uT=["input"],hT=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},dT=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function pT(t,e){if(1&t){const t=Dr();Er(0,"span",5),Er(1,"button",6),Nr("mousedown",function(e){return Me(t),jr().onUpButtonMouseDown(e)})("mouseup",function(){return Me(t),jr().onUpButtonMouseUp()})("mouseleave",function(){return Me(t),jr().onUpButtonMouseLeave()})("keydown",function(e){return Me(t),jr().onUpButtonKeyDown(e)})("keyup",function(){return Me(t),jr().onUpButtonKeyUp()}),Ir(),Er(2,"button",6),Nr("mousedown",function(e){return Me(t),jr().onDownButtonMouseDown(e)})("mouseup",function(){return Me(t),jr().onDownButtonMouseUp()})("mouseleave",function(){return Me(t),jr().onDownButtonMouseLeave()})("keydown",function(e){return Me(t),jr().onDownButtonKeyDown(e)})("keyup",function(){return Me(t),jr().onDownButtonKeyUp()}),Ir(),Ir()}if(2&t){const t=jr();Ws(1),sa(t.incrementButtonClass),xr("ngClass",$l(10,hT))("icon",t.incrementButtonIcon)("disabled",t.disabled),Ws(1),sa(t.decrementButtonClass),xr("ngClass",$l(11,dT))("icon",t.decrementButtonIcon)("disabled",t.disabled)}}function fT(t,e){if(1&t){const t=Dr();Er(0,"button",6),Nr("mousedown",function(e){return Me(t),jr().onUpButtonMouseDown(e)})("mouseup",function(){return Me(t),jr().onUpButtonMouseUp()})("mouseleave",function(){return Me(t),jr().onUpButtonMouseLeave()})("keydown",function(e){return Me(t),jr().onUpButtonKeyDown(e)})("keyup",function(){return Me(t),jr().onUpButtonKeyUp()}),Ir()}if(2&t){const t=jr();sa(t.incrementButtonClass),xr("ngClass",$l(5,hT))("icon",t.incrementButtonIcon)("disabled",t.disabled)}}function gT(t,e){if(1&t){const t=Dr();Er(0,"button",6),Nr("mousedown",function(e){return Me(t),jr().onDownButtonMouseDown(e)})("mouseup",function(){return Me(t),jr().onDownButtonMouseUp()})("mouseleave",function(){return Me(t),jr().onDownButtonMouseLeave()})("keydown",function(e){return Me(t),jr().onDownButtonKeyDown(e)})("keyup",function(){return Me(t),jr().onDownButtonKeyUp()}),Ir()}if(2&t){const t=jr();sa(t.decrementButtonClass),xr("ngClass",$l(5,dT))("icon",t.decrementButtonIcon)("disabled",t.disabled)}}const mT=function(t,e,n){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":t,"p-inputnumber-buttons-horizontal":e,"p-inputnumber-buttons-vertical":n}},bT={provide:Tp,useExisting:it(()=>wT),multi:!0};let wT=(()=>{class t{constructor(t,e){this.el=t,this.cd=e,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.step=1,this.onInput=new lc,this.onFocus=new lc,this.onBlur=new lc,this.onKeyDown=new lc,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar="",this._modeOption="decimal",this._useGroupingOption=!0}get locale(){return this._localeOption}set locale(t){this._localeOption=t,this.updateConstructParser()}get localeMatcher(){return this._localeMatcherOption}set localeMatcher(t){this._localeMatcherOption=t,this.updateConstructParser()}get mode(){return this._modeOption}set mode(t){this._modeOption=t,this.updateConstructParser()}get currency(){return this._currencyOption}set currency(t){this._currencyOption=t,this.updateConstructParser()}get currencyDisplay(){return this._currencyDisplayOption}set currencyDisplay(t){this._currencyDisplayOption=t,this.updateConstructParser()}get useGrouping(){return this._useGroupingOption}set useGrouping(t){this._useGroupingOption=t,this.updateConstructParser()}get minFractionDigits(){return this._minFractionDigitsOption}set minFractionDigits(t){this._minFractionDigitsOption=t,this.updateConstructParser()}get maxFractionDigits(){return this._maxFractionDigitsOption}set maxFractionDigits(t){this._maxFractionDigitsOption=t,this.updateConstructParser()}get prefix(){return this._prefixOption}set prefix(t){this._prefixOption=t,this.updateConstructParser()}get suffix(){return this._suffixOption}set suffix(t){this._suffixOption=t,this.updateConstructParser()}get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1),this._disabled=t,this.timer&&this.clearTimer()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),e=new Map(t.map((t,e)=>[t,e]));this._numeral=new RegExp(`[${t.join("")}]`,"g"),this._decimal=this.getDecimalExpression(),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=t=>e.get(t)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${t.format(1.1).trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=t.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${t.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay});return new RegExp(`[${t.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._decimal,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=t.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=t.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(t){if(null!=t){if("-"===t)return t;if(this.format){let e=new Intl.NumberFormat(this.locale,this.getOptions()).format(t);return this.prefix&&(e=this.prefix+e),this.suffix&&(e+=this.suffix),e}return t.toString()}return""}parseValue(t){let e=t.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(e){if("-"===e)return e;let t=+e;return isNaN(t)?null:t}return null}repeat(t,e,n){let i=e||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(t,40,n)},i),this.spin(t,n)}spin(t,e){let n=this.step*e,i=this.parseValue(this.input.nativeElement.value)||0,s=this.validateValue(i+n);this.maxlength&&this.maxlength<this.formatValue(s).length||(this.updateInput(s,null,"spin"),this.updateModel(t,s),this.handleOnInput(t,i,s))}onUpButtonMouseDown(t){this.input.nativeElement.focus(),this.repeat(t,null,1),t.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(t){32!==t.keyCode&&13!==t.keyCode||this.repeat(t,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(t){this.input.nativeElement.focus(),this.repeat(t,null,-1),t.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(t){32!==t.keyCode&&13!==t.keyCode||this.repeat(t,null,-1)}onUserInput(t){this.isSpecialChar&&(t.target.value=this.lastValue),this.isSpecialChar=!1}onInputKeyDown(t){if(this.lastValue=t.target.value,t.shiftKey||t.altKey)return void(this.isSpecialChar=!0);let e=t.target.selectionStart,n=t.target.selectionEnd,i=t.target.value,s=null;switch(t.altKey&&t.preventDefault(),t.which){case 38:this.spin(t,1),t.preventDefault();break;case 40:this.spin(t,-1),t.preventDefault();break;case 37:this.isNumeralChar(i.charAt(e-1))||t.preventDefault();break;case 39:this.isNumeralChar(i.charAt(e))||t.preventDefault();break;case 13:let o=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(t,o);break;case 8:if(t.preventDefault(),e===n){let n=i.charAt(e-1),o=i.search(this._decimal);this._decimal.lastIndex=0,this.isNumeralChar(n)&&(this._group.test(n)?(this._group.lastIndex=0,s=i.slice(0,e-2)+i.slice(e-1)):this._decimal.test(n)?(this._decimal.lastIndex=0,this.input.nativeElement.setSelectionRange(e-1,e-1)):o>0&&e>o?s=i.slice(0,e-1)+"0"+i.slice(e):o>0&&1===o?(s=i.slice(0,e-1)+"0"+i.slice(e),s=this.parseValue(s)>0?s:""):s=i.slice(0,e-1)+i.slice(e)),this.updateValue(t,s,null,"delete-single")}else s=this.deleteRange(i,e,n),this.updateValue(t,s,null,"delete-range");break;case 46:if(t.preventDefault(),e===n){let n=i.charAt(e),o=i.search(this._decimal);this._decimal.lastIndex=0,this.isNumeralChar(n)&&(this._group.test(n)?(this._group.lastIndex=0,s=i.slice(0,e)+i.slice(e+2)):this._decimal.test(n)?(this._decimal.lastIndex=0,this.input.nativeElement.setSelectionRange(e+1,e+1)):o>0&&e>o?s=i.slice(0,e)+"0"+i.slice(e+1):o>0&&1===o?(s=i.slice(0,e)+"0"+i.slice(e+1),s=this.parseValue(s)>0?s:""):s=i.slice(0,e)+i.slice(e+1)),this.updateValue(t,s,null,"delete-back-single")}else s=this.deleteRange(i,e,n),this.updateValue(t,s,null,"delete-range")}this.onKeyDown.emit(t)}onInputKeyPress(t){t.preventDefault();let e=t.which||t.keyCode,n=String.fromCharCode(e);const i=this.isDecimalSign(n),s=this.isMinusSign(n);(48<=e&&e<=57||s||i)&&this.insert(t,n,{isDecimalSign:i,isMinusSign:s})}onPaste(t){if(!this.disabled){t.preventDefault();let e=(t.clipboardData||window.clipboardData).getData("Text");if(e){let n=this.parseValue(e);null!=n&&this.insert(t,n.toString())}}}isMinusSign(t){return!!this._minusSign.test(t)&&(this._minusSign.lastIndex=0,!0)}isDecimalSign(t){return!!this._decimal.test(t)&&(this._decimal.lastIndex=0,!0)}insert(t,e,n={isDecimalSign:!1,isMinusSign:!1}){let i=this.input.nativeElement.selectionStart,s=this.input.nativeElement.selectionEnd,o=this.input.nativeElement.value.trim();const r=o.search(this._decimal);this._decimal.lastIndex=0;const a=o.search(this._minusSign);let l;if(this._minusSign.lastIndex=0,n.isMinusSign)0===i&&(l=o,-1!==a&&0===s||(l=this.insertText(o,e,0,s)),this.updateValue(t,l,e,"insert"));else if(n.isDecimalSign)r>0&&i===r?this.updateValue(t,o,e,"insert"):r>i&&r<s&&(l=this.insertText(o,e,i,s),this.updateValue(t,l,e,"insert"));else{const n=this.numberFormat.resolvedOptions().maximumFractionDigits,a=i!==s?"range-insert":"insert";r>0&&i>r?i+e.length-(r+1)<=n&&(l=o.slice(0,i)+e+o.slice(i+e.length),this.updateValue(t,l,e,a)):(l=this.insertText(o,e,i,s),this.updateValue(t,l,e,a))}}insertText(t,e,n,i){if(2==e.split(".").length){const s=t.slice(n,i).search(this._decimal);return this._decimal.lastIndex=0,s>0?t.slice(0,n)+this.formatValue(e)+t.slice(i):t||this.formatValue(e)}return i-n===t.length?this.formatValue(e):0===n?e+t.slice(i):i===t.length?t.slice(0,n)+e:t.slice(0,n)+e+t.slice(i)}deleteRange(t,e,n){let i;return i=n-e===t.length?"":0===e?t.slice(n):n===t.length?t.slice(0,e):t.slice(0,e)+t.slice(n),i}initCursor(){let t=this.input.nativeElement.selectionStart,e=this.input.nativeElement.value,n=e.length,i=null,s=e.charAt(t);if(this.isNumeralChar(s))return;let o=t-1;for(;o>=0;){if(s=e.charAt(o),this.isNumeralChar(s)){i=o;break}o--}if(null!==i)this.input.nativeElement.setSelectionRange(i+1,i+1);else{for(o=t+1;o<n;){if(s=e.charAt(o),this.isNumeralChar(s)){i=o;break}o++}null!==i&&this.input.nativeElement.setSelectionRange(i,i)}}onInputClick(){this.initCursor()}isNumeralChar(t){return!(1!==t.length||!(this._numeral.test(t)||this._decimal.test(t)||this._group.test(t)||this._minusSign.test(t))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(t,e,n,i){let s=this.input.nativeElement.value,o=null;null!=e&&(o=this.parseValue(e),this.updateInput(o,n,i)),this.handleOnInput(t,s,o)}handleOnInput(t,e,n){this.isValueChanged(e,n)&&this.onInput.emit({originalEvent:t,value:n})}isValueChanged(t,e){return null===e&&null!==t||null!=e&&e!==("string"==typeof t?this.parseValue(t):t)}validateValue(t){return null!==this.min&&t<this.min?this.min:null!==this.max&&t>this.max?this.max:"-"===t?null:t}updateInput(t,e,n){e=e||"";let i=this.input.nativeElement.value,s=this.formatValue(t),o=i.length;if(0===o){this.input.nativeElement.value=s,this.input.nativeElement.setSelectionRange(0,0),this.initCursor();const t=(this.prefixChar||"").length+e.length;this.input.nativeElement.setSelectionRange(t,t)}else{let t=this.input.nativeElement.selectionStart,r=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<s.length)return;this.input.nativeElement.value=s;let a=s.length;if("range-insert"===n){const n=this.parseValue((i||"").slice(0,t)),o=(null!==n?n.toString():"").split("").join(`(${this.groupChar})?`),a=new RegExp(o,"g");a.test(s);const l=e.split("").join(`(${this.groupChar})?`),c=new RegExp(l,"g");c.test(s.slice(a.lastIndex)),r=a.lastIndex+c.lastIndex,this.input.nativeElement.setSelectionRange(r,r)}else if(a===o)"insert"===n||"delete-back-single"===n?this.input.nativeElement.setSelectionRange(r+1,r+1):"delete-single"===n?this.input.nativeElement.setSelectionRange(r-1,r-1):"delete-range"!==n&&"spin"!==n||this.input.nativeElement.setSelectionRange(r,r);else if("delete-back-single"===n){let t=i.charAt(r-1),e=i.charAt(r),n=o-a,s=this._group.test(e);s&&1===n?r+=1:!s&&this.isNumeralChar(t)&&(r+=-1*n+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(r,r)}else r+=a-o,this.input.nativeElement.setSelectionRange(r,r)}this.input.nativeElement.setAttribute("aria-valuenow",t)}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1;let e=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(e),this.input.nativeElement.setAttribute("aria-valuenow",e),this.updateModel(t,e),this.onBlur.emit(t)}formattedValue(){return this.formatValue(this.value)}updateModel(t,e){this.value!==e&&(this.value=e,this.onModelChange(e)),this.onModelTouched()}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(bl))},t.\u0275cmp=Bt({type:t,selectors:[["p-inputNumber"]],viewQuery:function(t,e){if(1&t&&_c(uT,5),2&t){let t;vc(t=Cc())&&(e.input=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&ea("p-inputwrapper-filled",e.filled)("p-inputwrapper-focus",e.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",step:"step",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[Va([bT])],decls:6,vars:30,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","disabled","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(t,e){1&t&&(Er(0,"span",0),Er(1,"input",1,2),Nr("input",function(t){return e.onUserInput(t)})("keydown",function(t){return e.onInputKeyDown(t)})("keypress",function(t){return e.onInputKeyPress(t)})("paste",function(t){return e.onPaste(t)})("click",function(){return e.onInputClick()})("focus",function(t){return e.onInputFocus(t)})("blur",function(t){return e.onInputBlur(t)}),Ir(),kr(3,pT,3,12,"span",3),kr(4,fT,1,6,"button",4),kr(5,gT,1,6,"button",4),Ir()),2&t&&(sa(e.styleClass),xr("ngClass",Kl(26,mT,e.showButtons&&"stacked"===e.buttonLayout,e.showButtons&&"horizontal"===e.buttonLayout,e.showButtons&&"vertical"===e.buttonLayout))("ngStyle",e.style),Ws(1),sa(e.inputStyleClass),xr("ngClass","p-inputnumber-input")("ngStyle",e.inputStyle)("value",e.formattedValue())("disabled",e.disabled),_r("placeholder",e.placeholder)("title",e.title)("id",e.inputId)("size",e.size)("name",e.name)("autocomplete",e.autocomplete)("maxlength",e.maxlength)("tabindex",e.tabindex)("aria-label",e.ariaLabel)("aria-required",e.ariaRequired)("required",e.required)("aria-valuemin",e.min)("aria-valuemax",e.max),Ws(2),xr("ngIf",e.showButtons&&"stacked"===e.buttonLayout),Ws(1),xr("ngIf",e.showButtons&&"stacked"!==e.buttonLayout),Ws(1),xr("ngIf",e.showButtons&&"stacked"!==e.buttonLayout))},directives:[xh,Mh,mf,Oh,kf],styles:[".p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}"],encapsulation:2,changeDetection:0}),t})(),yT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,bf,Cf]]}),t})();const vT=["container"],_T=["resizeHelper"],kT=["reorderIndicatorUp"],CT=["reorderIndicatorDown"],ST=["table"],xT=["scrollableView"],TT=["scrollableFrozenView"];function ET(t,e){if(1&t&&(Er(0,"div",12),Or(1,"i"),Ir()),2&t){const t=jr();Ws(1),sa("p-datatable-loading-icon pi-spin "+t.loadingIcon)}}function IT(t,e){1&t&&Mr(0)}function OT(t,e){if(1&t&&(Er(0,"div",13),kr(1,IT,1,0,"ng-container",14),Ir()),2&t){const t=jr();Ws(1),xr("ngTemplateOutlet",t.captionTemplate)}}function AT(t,e){if(1&t){const t=Dr();Er(0,"p-paginator",15),Nr("onPageChange",function(e){return Me(t),jr().onPageChange(e)}),Ir()}if(2&t){const t=jr();xr("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showPageLinks",t.showPageLinks)}}function PT(t,e){1&t&&Mr(0)}function MT(t,e){1&t&&Mr(0)}function DT(t,e){1&t&&Mr(0)}const LT=function(t){return{$implicit:t}};function RT(t,e){if(1&t&&(Er(0,"tfoot",23),kr(1,DT,1,0,"ng-container",19),Ir()),2&t){const t=jr(2);Ws(1),xr("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",Wl(2,LT,t.columns))}}function NT(t,e){if(1&t&&(Er(0,"div",16),Er(1,"table",17,18),kr(3,PT,1,0,"ng-container",19),Er(4,"thead",20),kr(5,MT,1,0,"ng-container",19),Ir(),Or(6,"tbody",21),kr(7,RT,2,4,"tfoot",22),Ir(),Ir()),2&t){const t=jr();Ws(1),xr("ngClass",t.tableStyleClass)("ngStyle",t.tableStyle),Ws(2),xr("ngTemplateOutlet",t.colGroupTemplate)("ngTemplateOutletContext",Wl(9,LT,t.columns)),Ws(2),xr("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",Wl(11,LT,t.columns)),Ws(1),xr("pTableBody",t.columns)("pTableBodyTemplate",t.bodyTemplate),Ws(1),xr("ngIf",t.footerTemplate)}}const FT=function(t){return{width:t}};function VT(t,e){if(1&t&&Or(0,"div",28,29),2&t){const t=jr(2);xr("pScrollableView",t.frozenColumns)("frozen",!0)("ngStyle",Wl(4,FT,t.frozenWidth))("scrollHeight",t.scrollHeight)}}const jT=function(t,e){return{left:t,width:e}};function zT(t,e){if(1&t&&(Er(0,"div",24),kr(1,VT,2,6,"div",25),Or(2,"div",26,27),Ir()),2&t){const t=jr();Ws(1),xr("ngIf",t.frozenColumns||t.frozenBodyTemplate),Ws(1),xr("pScrollableView",t.columns)("frozen",!1)("scrollHeight",t.scrollHeight)("ngStyle",ql(5,jT,t.frozenWidth,"calc(100% - "+t.frozenWidth+")"))}}function BT(t,e){if(1&t){const t=Dr();Er(0,"p-paginator",30),Nr("onPageChange",function(e){return Me(t),jr().onPageChange(e)}),Ir()}if(2&t){const t=jr();xr("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showPageLinks",t.showPageLinks)}}function HT(t,e){1&t&&Mr(0)}function UT(t,e){if(1&t&&(Er(0,"div",31),kr(1,HT,1,0,"ng-container",14),Ir()),2&t){const t=jr();Ws(1),xr("ngTemplateOutlet",t.summaryTemplate)}}function $T(t,e){1&t&&Or(0,"div",32,33)}function WT(t,e){1&t&&Or(0,"span",34,35)}function qT(t,e){1&t&&Or(0,"span",36,37)}const KT=function(t,e,n,i,s,o,r){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":t,"p-datatable-auto-layout":e,"p-datatable-resizable":n,"p-datatable-resizable-fit":i,"p-datatable-scrollable":s,"p-datatable-flex-scrollable":o,"p-datatable-responsive":r}},GT=["pTableBody",""];function YT(t,e){1&t&&Mr(0)}const QT=function(t,e,n,i){return{$implicit:t,rowIndex:e,columns:n,editing:i}};function ZT(t,e){if(1&t&&kr(0,YT,1,0,"ng-container",2),2&t){const t=e.$implicit,n=e.index,i=jr(2);xr("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Gl(2,QT,t,i.dt.paginator?i.dt.first+n:n,i.columns,"row"===i.dt.editMode&&i.dt.isRowEditing(t)))}}function JT(t,e){if(1&t&&(Ar(0),kr(1,ZT,1,7,"ng-template",1),ec(2,"slice"),Pr()),2&t){const t=jr();Ws(1),xr("ngForOf",t.dt.paginator&&!t.dt.lazy?sc(2,2,t.dt.filteredValue||t.dt.value,t.dt.first,t.dt.first+t.dt.rows):t.dt.filteredValue||t.dt.value)("ngForTrackBy",t.dt.rowTrackBy)}}function XT(t,e){1&t&&Mr(0)}function tE(t,e){if(1&t&&kr(0,XT,1,0,"ng-container",2),2&t){const t=e.$implicit,n=e.index,i=jr(2);xr("ngTemplateOutlet",t?i.template:i.dt.loadingBodyTemplate)("ngTemplateOutletContext",Gl(2,QT,t,i.dt.paginator?i.dt.first+n:n,i.columns,"row"===i.dt.editMode&&i.dt.isRowEditing(t)))}}function eE(t,e){if(1&t&&(Ar(0),kr(1,tE,1,7,"ng-template",3),Pr()),2&t){const t=jr();Ws(1),xr("cdkVirtualForOf",t.dt.filteredValue||t.dt.value)("cdkVirtualForTrackBy",t.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function nE(t,e){1&t&&Mr(0)}function iE(t,e){1&t&&Mr(0)}const sE=function(t,e,n){return{$implicit:t,rowIndex:e,columns:n}};function oE(t,e){if(1&t&&(Ar(0),kr(1,iE,1,0,"ng-container",2),Pr()),2&t){const t=jr(),e=t.$implicit,n=t.index,i=jr(2);Ws(1),xr("ngTemplateOutlet",i.dt.expandedRowTemplate)("ngTemplateOutletContext",Kl(2,sE,e,i.dt.paginator?i.dt.first+n:n,i.columns))}}const rE=function(t,e,n,i,s){return{$implicit:t,rowIndex:e,columns:n,expanded:i,editing:s}};function aE(t,e){if(1&t&&(kr(0,nE,1,0,"ng-container",2),kr(1,oE,2,6,"ng-container",0)),2&t){const t=e.$implicit,n=e.index,i=jr(2);xr("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Yl(3,rE,t,i.dt.paginator?i.dt.first+n:n,i.columns,i.dt.isRowExpanded(t),"row"===i.dt.editMode&&i.dt.isRowEditing(t))),Ws(1),xr("ngIf",i.dt.isRowExpanded(t))}}function lE(t,e){if(1&t&&(Ar(0),kr(1,aE,2,9,"ng-template",1),ec(2,"slice"),Pr()),2&t){const t=jr();Ws(1),xr("ngForOf",t.dt.paginator&&!t.dt.lazy?sc(2,2,t.dt.filteredValue||t.dt.value,t.dt.first,t.dt.first+t.dt.rows):t.dt.filteredValue||t.dt.value)("ngForTrackBy",t.dt.rowTrackBy)}}function cE(t,e){1&t&&Mr(0)}function uE(t,e){1&t&&Mr(0)}function hE(t,e){if(1&t&&(Ar(0),kr(1,uE,1,0,"ng-container",2),Pr()),2&t){const t=jr(),e=t.$implicit,n=t.index,i=jr(2);Ws(1),xr("ngTemplateOutlet",i.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",Kl(2,sE,e,i.dt.paginator?i.dt.first+n:n,i.columns))}}function dE(t,e){if(1&t&&(kr(0,cE,1,0,"ng-container",2),kr(1,hE,2,6,"ng-container",0)),2&t){const t=e.$implicit,n=e.index,i=jr(2);xr("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Yl(3,rE,t,i.dt.paginator?i.dt.first+n:n,i.columns,i.dt.isRowExpanded(t),"row"===i.dt.editMode&&i.dt.isRowEditing(t))),Ws(1),xr("ngIf",i.dt.isRowExpanded(t))}}function pE(t,e){if(1&t&&(Ar(0),kr(1,dE,2,9,"ng-template",1),ec(2,"slice"),Pr()),2&t){const t=jr();Ws(1),xr("ngForOf",t.dt.paginator&&!t.dt.lazy?sc(2,2,t.dt.filteredValue||t.dt.value,t.dt.first,t.dt.first+t.dt.rows):t.dt.filteredValue||t.dt.value)("ngForTrackBy",t.dt.rowTrackBy)}}function fE(t,e){1&t&&Mr(0)}const gE=function(t,e){return{$implicit:t,frozen:e}};function mE(t,e){if(1&t&&(Ar(0),kr(1,fE,1,0,"ng-container",2),Pr()),2&t){const t=jr();Ws(1),xr("ngTemplateOutlet",t.dt.loadingBodyTemplate)("ngTemplateOutletContext",ql(2,gE,t.columns,t.frozen))}}function bE(t,e){1&t&&Mr(0)}function wE(t,e){if(1&t&&(Ar(0),kr(1,bE,1,0,"ng-container",2),Pr()),2&t){const t=jr();Ws(1),xr("ngTemplateOutlet",t.dt.emptyMessageTemplate)("ngTemplateOutletContext",ql(2,gE,t.columns,t.frozen))}}const yE=["scrollHeader"],vE=["scrollHeaderBox"],_E=["scrollBody"],kE=["scrollTable"],CE=["scrollFooter"],SE=["scrollFooterBox"],xE=["scrollableAligner"],TE=["pScrollableView",""];function EE(t,e){1&t&&Mr(0)}function IE(t,e){1&t&&Mr(0)}function OE(t,e){1&t&&Mr(0)}function AE(t,e){if(1&t&&kr(0,OE,1,0,"ng-container",5),2&t){const t=e.$implicit,n=e.index,i=jr();xr("ngTemplateOutlet",i.dt.frozenRowsTemplate)("ngTemplateOutletContext",Kl(2,sE,t,n,i.columns))}}function PE(t,e){1&t&&Mr(0)}function ME(t,e){1&t&&Or(0,"div",23,24)}const DE=function(t,e){return{"max-height":t,"overflow-y":e}};function LE(t,e){if(1&t&&(Ar(0),Er(1,"div",17,18),Er(3,"table",19,20),kr(5,PE,1,0,"ng-container",5),Or(6,"tbody",21),Ir(),kr(7,ME,2,0,"div",22),Ir(),Pr()),2&t){const t=jr();Ws(1),xr("ngStyle",ql(10,DE,"flex"!==t.dt.scrollHeight?t.scrollHeight:void 0,!t.frozen&&t.dt.scrollHeight?"scroll":void 0)),Ws(2),sa(t.dt.tableStyleClass),xr("ngStyle",t.dt.tableStyle),Ws(2),xr("ngTemplateOutlet",t.frozen&&t.dt.frozenColGroupTemplate||t.dt.colGroupTemplate)("ngTemplateOutletContext",Wl(13,LT,t.columns)),Ws(1),xr("pTableBody",t.columns)("pTableBodyTemplate",t.frozen&&t.dt.frozenBodyTemplate||t.dt.bodyTemplate)("frozen",t.frozen),Ws(1),xr("ngIf",t.frozen)}}function RE(t,e){1&t&&Mr(0)}function NE(t,e){1&t&&Or(0,"div",23,24)}function FE(t,e){if(1&t){const t=Dr();Er(0,"cdk-virtual-scroll-viewport",25),Nr("scrolledIndexChange",function(e){return Me(t),jr().onScrollIndexChange(e)}),Er(1,"table",19,20),kr(3,RE,1,0,"ng-container",5),Or(4,"tbody",21),Ir(),kr(5,NE,2,0,"div",22),Ir()}if(2&t){const t=jr();ta("height","flex"!==t.dt.scrollHeight?t.scrollHeight:void 0),xr("itemSize",t.dt.virtualRowHeight)("minBufferPx",t.dt.minBufferPx)("maxBufferPx",t.dt.maxBufferPx),Ws(1),sa(t.dt.tableStyleClass),xr("ngStyle",t.dt.tableStyle),Ws(2),xr("ngTemplateOutlet",t.frozen&&t.dt.frozenColGroupTemplate||t.dt.colGroupTemplate)("ngTemplateOutletContext",Wl(14,LT,t.columns)),Ws(1),xr("pTableBody",t.columns)("pTableBodyTemplate",t.frozen&&t.dt.frozenBodyTemplate||t.dt.bodyTemplate)("frozen",t.frozen),Ws(1),xr("ngIf",t.frozen)}}function VE(t,e){1&t&&Mr(0)}function jE(t,e){1&t&&Mr(0)}let zE=(()=>{class t{constructor(){this.sortSource=new C,this.selectionSource=new C,this.contextMenuSource=new C,this.valueSource=new C,this.totalRecordsSource=new C,this.columnsSource=new C,this.resetSource=new C,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(t){this.sortSource.next(t)}onSelectionChange(){this.selectionSource.next()}onResetChange(){this.resetSource.next()}onContextMenu(t){this.contextMenuSource.next(t)}onValueChange(t){this.valueSource.next(t)}onTotalRecordsChange(t){this.totalRecordsSource.next(t)}onColumnsChange(t){this.columnsSource.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),BE=(()=>{class t{constructor(t,e,n,i,s){this.el=t,this.zone=e,this.tableService=n,this.cd=i,this.filterService=s,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectionChange=new lc,this.contextMenuSelectionChange=new lc,this.contextMenuSelectionMode="separate",this.rowTrackBy=(t,e)=>e,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.onRowSelect=new lc,this.onRowUnselect=new lc,this.onPage=new lc,this.onSort=new lc,this.onFilter=new lc,this.onLazyLoad=new lc,this.onRowExpand=new lc,this.onRowCollapse=new lc,this.onContextMenuSelect=new lc,this.onColResize=new lc,this.onColReorder=new lc,this.onRowReorder=new lc,this.onEditInit=new lc,this.onEditComplete=new lc,this.onEditCancel=new lc,this.onHeaderCheckboxToggle=new lc,this.sortFunction=new lc,this.firstChange=new lc,this.rowsChange=new lc,this.onStateSave=new lc,this.onStateRestore=new lc,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"caption":this.captionTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"body":this.bodyTemplate=t.template;break;case"loadingbody":this.loadingBodyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"summary":this.summaryTemplate=t.template;break;case"colgroup":this.colGroupTemplate=t.template;break;case"rowexpansion":this.expandedRowTemplate=t.template;break;case"frozenrows":this.frozenRowsTemplate=t.template;break;case"frozenheader":this.frozenHeaderTemplate=t.template;break;case"frozenbody":this.frozenBodyTemplate=t.template;break;case"frozenfooter":this.frozenFooterTemplate=t.template;break;case"frozencolgroup":this.frozenColGroupTemplate=t.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=t.template;break;case"emptymessage":this.emptyMessageTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=t.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(t){t.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=t.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&this.sortField?this.sortSingle():"multiple"==this.sortMode&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(t.value.currentValue)),t.columns&&(this._columns=t.columns.currentValue,this.tableService.onColumnsChange(t.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),t.sortField&&(this._sortField=t.sortField.currentValue,this.lazy&&!this.initialized||"single"===this.sortMode&&this.sortSingle()),t.sortOrder&&(this._sortOrder=t.sortOrder.currentValue,this.lazy&&!this.initialized||"single"===this.sortMode&&this.sortSingle()),t.multiSortMeta&&(this._multiSortMeta=t.multiSortMeta.currentValue,"multiple"!==this.sortMode||!this.initialized&&(this.lazy||this.virtualScroll)||this.sortMultiple()),t.selection&&(this._selection=t.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(t){this._value=t}get columns(){return this._columns}set columns(t){this._columns=t}get first(){return this._first}set first(t){this._first=t}get rows(){return this._rows}set rows(t){this._rows=t}get totalRecords(){return this._totalRecords}set totalRecords(t){this._totalRecords=t,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(t){this._multiSortMeta=t}get selection(){return this._selection}set selection(t){this._selection=t}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let t of this._selection)this.selectionKeys[String(Md.resolveFieldData(t,this.dataKey))]=1;else this.selectionKeys[String(Md.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(t){this.first=t.first,this.rows=t.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(t){let e=t.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===t.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=t.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let n=e.metaKey||e.ctrlKey,i=this.getSortMeta(t.field);i?n?i.order=-1*i.order:(this._multiSortMeta=[{field:t.field,order:-1*i.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):(n&&this.multiSortMeta||(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:t.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){if(this.sortField&&this.sortOrder){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):(this.value.sort((t,e)=>{let n=Md.resolveFieldData(t,this.sortField),i=Md.resolveFieldData(e,this.sortField),s=null;return s=null==n&&null!=i?-1:null!=n&&null==i?1:null==n&&null==i?0:"string"==typeof n&&"string"==typeof i?n.localeCompare(i):n<i?-1:n>i?1:0,this.sortOrder*s}),this._value=[...this.value]),this.hasFilter()&&this._filter());let t={field:this.sortField,order:this.sortOrder};this.onSort.emit(t),this.tableService.onSort(t)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((t,e)=>this.multisortField(t,e,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(t,e,n,i){let s=Md.resolveFieldData(t,n[i].field),o=Md.resolveFieldData(e,n[i].field),r=null;if(null==s&&null!=o)r=-1;else if(null!=s&&null==o)r=1;else if(null==s&&null==o)r=0;else if("string"==typeof s||s instanceof String){if(s.localeCompare&&s!=o)return n[i].order*s.localeCompare(o)}else r=s<o?-1:1;return s==o?n.length-1>i?this.multisortField(t,e,n,i+1):0:n[i].order*r}getSortMeta(t){if(this.multiSortMeta&&this.multiSortMeta.length)for(let e=0;e<this.multiSortMeta.length;e++)if(this.multiSortMeta[e].field===t)return this.multiSortMeta[e];return null}isSorted(t){if("single"===this.sortMode)return this.sortField&&this.sortField===t;if("multiple"===this.sortMode){let e=!1;if(this.multiSortMeta)for(let n=0;n<this.multiSortMeta.length;n++)if(this.multiSortMeta[n].field==t){e=!0;break}return e}}handleRowClick(t){let e=t.originalEvent.target,n=e.nodeName,i=e.parentElement&&e.parentElement.nodeName;if("INPUT"!=n&&"BUTTON"!=n&&"A"!=n&&"INPUT"!=i&&"BUTTON"!=i&&"A"!=i&&!Ad.hasClass(t.originalEvent.target,"p-clickable")){if(this.selectionMode){if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&t.originalEvent.shiftKey&&null!=this.anchorRowIndex)Ad.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(t.originalEvent),this.rangeRowIndex=t.rowIndex,this.selectRange(t.originalEvent,t.rowIndex);else{let e=t.rowData,n=this.isSelected(e),i=!this.rowTouched&&this.metaKeySelection,s=this.dataKey?String(Md.resolveFieldData(e,this.dataKey)):null;if(this.anchorRowIndex=t.rowIndex,this.rangeRowIndex=t.rowIndex,i){let i=t.originalEvent.metaKey||t.originalEvent.ctrlKey;if(n&&i){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let t=this.findIndexInSelection(e);this._selection=this.selection.filter((e,n)=>n!=t),this.selectionChange.emit(this.selection),s&&delete this.selectionKeys[s]}this.onRowUnselect.emit({originalEvent:t.originalEvent,data:e,type:"row"})}else this.isSingleSelectionMode()?(this._selection=e,this.selectionChange.emit(e),s&&(this.selectionKeys={},this.selectionKeys[s]=1)):this.isMultipleSelectionMode()&&(i?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,e],this.selectionChange.emit(this.selection),s&&(this.selectionKeys[s]=1)),this.onRowSelect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex})}else if("single"===this.selectionMode)n?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex})):(this._selection=e,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex}),s&&(this.selectionKeys={},this.selectionKeys[s]=1));else if("multiple"===this.selectionMode)if(n){let n=this.findIndexInSelection(e);this._selection=this.selection.filter((t,e)=>e!=n),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex}),s&&delete this.selectionKeys[s]}else this._selection=this.selection?[...this.selection,e]:[e],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex}),s&&(this.selectionKeys[s]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(t){this.rowTouched=!0}handleRowRightClick(t){if(this.contextMenu){const e=t.rowData;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=e,this.contextMenuSelectionChange.emit(e),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,data:e,index:t.rowIndex}),this.contextMenu.show(t.originalEvent),this.tableService.onContextMenu(e);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let n=this.isSelected(e),i=this.dataKey?String(Md.resolveFieldData(e,this.dataKey)):null;n||(this.isSingleSelectionMode()?(this.selection=e,this.selectionChange.emit(e),i&&(this.selectionKeys={},this.selectionKeys[i]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,e]:[e],this.selectionChange.emit(this.selection),i&&(this.selectionKeys[i]=1))),this.tableService.onSelectionChange(),this.contextMenu.show(t.originalEvent),this.onContextMenuSelect.emit({originalEvent:t,data:e,index:t.rowIndex})}}}selectRange(t,e){let n,i;this.anchorRowIndex>e?(n=e,i=this.anchorRowIndex):this.anchorRowIndex<e?(n=this.anchorRowIndex,i=e):(n=e,i=e),this.lazy&&this.paginator&&(n-=this.first,i-=this.first);let s=[];for(let o=n;o<=i;o++){let t=this.filteredValue?this.filteredValue[o]:this.value[o];if(!this.isSelected(t)){s.push(t),this._selection=[...this.selection,t];let e=this.dataKey?String(Md.resolveFieldData(t,this.dataKey)):null;e&&(this.selectionKeys[e]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t,data:s,type:"row"})}clearSelectionRange(t){let e,n;this.rangeRowIndex>this.anchorRowIndex?(e=this.anchorRowIndex,n=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(e=this.rangeRowIndex,n=this.anchorRowIndex):(e=this.rangeRowIndex,n=this.rangeRowIndex);for(let i=e;i<=n;i++){let e=this.value[i],n=this.findIndexInSelection(e);this._selection=this.selection.filter((t,e)=>e!=n);let s=this.dataKey?String(Md.resolveFieldData(e,this.dataKey)):null;s&&delete this.selectionKeys[s],this.onRowUnselect.emit({originalEvent:t,data:e,type:"row"})}}isSelected(t){return!(!t||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[Md.resolveFieldData(t,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(t)>-1:this.equals(t,this.selection))}findIndexInSelection(t){let e=-1;if(this.selection&&this.selection.length)for(let n=0;n<this.selection.length;n++)if(this.equals(t,this.selection[n])){e=n;break}return e}toggleRowWithRadio(t,e){this.preventSelectionSetterPropagation=!0,this.selection!=e?(this._selection=e,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(Md.resolveFieldData(e,this.dataKey))]=1)):(this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"radiobutton"})),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(t,e){this.selection=this.selection||[];let n=this.isSelected(e),i=this.dataKey?String(Md.resolveFieldData(e,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,n){let n=this.findIndexInSelection(e);this._selection=this.selection.filter((t,e)=>e!=n),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"checkbox"}),i&&delete this.selectionKeys[i]}else this._selection=this.selection?[...this.selection,e]:[e],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"checkbox"}),i&&(this.selectionKeys[i]=1);this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(t,e){this._selection=e?this.filteredValue?this.filteredValue.slice():this.value.slice():[],this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:e}),this.isStateful()&&this.saveState()}equals(t,e){return"equals"===this.compareSelectionBy?t===e:Md.equals(t,e,this.dataKey)}filter(t,e,n){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(t)?this.filters[e]&&delete this.filters[e]:this.filters[e]={value:t,matchMode:n},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(t,e){this.filter(t,"global",e)}isFilterBlank(t){return null==t||"string"==typeof t&&0==t.trim().length||t instanceof Array&&0==t.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredValue=[];for(let e=0;e<this.value.length;e++){let n,i=!0,s=!1,o=!1;for(let t in this.filters)if(this.filters.hasOwnProperty(t)&&"global"!==t){o=!0;let n=t,s=this.filters[n];if(Array.isArray(s)){for(let t of s)if(i=this.executeLocalFilter(n,this.value[e],t),t.operator===Bd.OR&&i||t.operator===Bd.AND&&!i)break}else i=this.executeLocalFilter(n,this.value[e],s);if(!i)break}if(this.filters.global&&!s&&t)for(let r=0;r<t.length&&(s=this.filterService.filters[this.filters.global.matchMode](Md.resolveFieldData(this.value[e],t[r].field||t[r]),this.filters.global.value,this.filterLocale),!s);r++);n=this.filters.global?o?o&&i&&s:s:o&&i,n&&this.filteredValue.push(this.value[e])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(t,e,n){let i=n.value,s=n.matchMode||Nd.STARTS_WITH,o=Md.resolveFieldData(e,t);return(0,this.filterService.filters[s])(o,i,this.filterLocale)}hasFilter(){let t=!0;for(let e in this.filters)if(this.filters.hasOwnProperty(e)){t=!1;break}return!t}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}exportCSV(t){let e,n="",i=this.frozenColumns?[...this.frozenColumns,...this.columns]:this.columns;t&&t.selectionOnly?e=this.selection||[]:(e=this.filteredValue||this.value,this.frozenValue&&(e=e?[...this.frozenValue,...e]:this.frozenValue));for(let o=0;o<i.length;o++){let t=i[o];!1!==t.exportable&&t.field&&(n+='"'+(t.header||t.field)+'"',o<i.length-1&&(n+=this.csvSeparator))}e.forEach((t,e)=>{n+="\n";for(let s=0;s<i.length;s++){let e=i[s];if(!1!==e.exportable&&e.field){let o=Md.resolveFieldData(t,e.field);o=null!=o?this.exportFunction?this.exportFunction({data:o,field:e.field}):String(o).replace(/"/g,'""'):"",n+='"'+o+'"',s<i.length-1&&(n+=this.csvSeparator)}}});let s=new Blob([n],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(s,this.exportFilename+".csv");else{let t=document.createElement("a");t.style.display="none",document.body.appendChild(t),void 0!==t.download?(t.setAttribute("href",URL.createObjectURL(s)),t.setAttribute("download",this.exportFilename+".csv"),t.click()):(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n))),document.body.removeChild(t)}}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(t){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(t),this.scrollableFrozenViewChild&&this.scrollableFrozenViewChild.scrollToVirtualIndex(t)}scrollTo(t){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(t),this.scrollableFrozenViewChild&&this.scrollableFrozenViewChild.scrollTo(t)}updateEditingCell(t,e,n,i){this.editingCell=t,this.editingCellData=e,this.editingCellField=n,this.editingCellRowIndex=i,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===Ad.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=t=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(Ad.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:t,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck()),this.editingCellClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(t){let e=String(Md.resolveFieldData(t,this.dataKey));this.editingRowKeys[e]=!0}saveRowEdit(t,e){if(0===Ad.find(e,".ng-invalid.ng-dirty").length){let e=String(Md.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[e]}}cancelRowEdit(t){let e=String(Md.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[e]}toggleRow(t,e){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let n=String(Md.resolveFieldData(t,this.dataKey));null!=this.expandedRowKeys[n]?(delete this.expandedRowKeys[n],this.onRowCollapse.emit({originalEvent:e,data:t})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[n]=!0,this.onRowExpand.emit({originalEvent:e,data:t})),e&&e.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(t){return!0===this.expandedRowKeys[String(Md.resolveFieldData(t,this.dataKey))]}isRowEditing(t){return!0===this.editingRowKeys[String(Md.resolveFieldData(t,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(t){let e=Ad.getOffset(this.containerViewChild.nativeElement).left;this.lastResizerHelperX=t.pageX-e+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(t),t.preventDefault()}onColumnResize(t){let e=Ad.getOffset(this.containerViewChild.nativeElement).left;Ad.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=t.pageX-e+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(t,e){let n=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,i=e.offsetWidth,s=parseInt(e.style.minWidth||15);i+n<s&&(n=s-i);const o=i+n;if(o>=s){if("fit"===this.columnResizeMode){let t=e.nextElementSibling;for(;!t.offsetParent;)t=t.nextElementSibling;if(t){let i=t.offsetWidth-n,s=t.style.minWidth||15;if(o>15&&i>parseInt(s))if(this.scrollable){let t=this.findParentScrollableView(e),n=Ad.findSingle(t,".p-datatable-scrollable-body table")||Ad.findSingle(t,".p-datatable-virtual-scrollable-body table"),s=Ad.findSingle(t,"table.p-datatable-scrollable-header-table"),r=Ad.findSingle(t,"table.p-datatable-scrollable-footer-table"),a=Ad.index(e);this.resizeColGroup(s,a,o,i),this.resizeColGroup(n,a,o,i),this.resizeColGroup(r,a,o,i)}else e.style.width=o+"px",t&&(t.style.width=i+"px")}}else"expand"===this.columnResizeMode&&o>=s&&(this.scrollable?this.setScrollableItemsWidthOnExpandResize(e,o,n):(this.tableViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.offsetWidth+n+"px",e.style.width=o+"px",this.containerViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.style.width+"px"));this.onColResize.emit({element:e,delta:n}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",Ad.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}setScrollableItemsWidthOnExpandResize(t,e,n){let i=t?this.findParentScrollableView(t):this.containerViewChild.nativeElement,s=Ad.findSingle(i,".p-datatable-scrollable-body")||Ad.findSingle(i,"cdk-virtual-scroll-viewport"),o=Ad.findSingle(i,".p-datatable-scrollable-header"),r=Ad.findSingle(i,".p-datatable-scrollable-footer"),a=Ad.findSingle(s,".p-datatable-scrollable-body table")||Ad.findSingle(i,"cdk-virtual-scroll-viewport table"),l=Ad.findSingle(o,"table.p-datatable-scrollable-header-table"),c=Ad.findSingle(r,"table.p-datatable-scrollable-footer-table"),u=this.frozenWidth?parseInt(this.frozenWidth,10):0;const h=t?a.offsetWidth+n:e,d=t?l.offsetWidth+n:e,p=this.containerViewChild.nativeElement.offsetWidth-u>=h;let f=(t,e,n,i)=>{t&&e&&(t.style.width=i?n+Ad.calculateScrollbarWidth(s)+"px":"auto",e.style.width=n+"px")};if(f(s,a,h,p),f(o,l,d,p),f(r,c,d,p),t){let n=Ad.index(t);this.resizeColGroup(l,n,e,null),this.resizeColGroup(a,n,e,null),this.resizeColGroup(c,n,e,null)}}findParentScrollableView(t){if(t){let e=t.parentElement;for(;e&&!Ad.hasClass(e,"p-datatable-scrollable-view");)e=e.parentElement;return e}return null}resizeColGroup(t,e,n,i){if(t){let s="COLGROUP"===t.children[0].nodeName?t.children[0]:null;if(!s)throw"Scrollable tables require a colgroup to support resizable columns";{let t=s.children[e],o=t.nextElementSibling;t.style.width=n+"px",o&&i&&(o.style.width=i+"px")}}}onColumnDragStart(t,e){this.reorderIconWidth=Ad.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=Ad.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=e,t.dataTransfer.setData("text","b")}onColumnDragEnter(t,e){if(this.reorderableColumns&&this.draggedColumn&&e){t.preventDefault();let n=Ad.getOffset(this.containerViewChild.nativeElement),i=Ad.getOffset(e);if(this.draggedColumn!=e){let s=Ad.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),o=Ad.indexWithinGroup(e,"preorderablecolumn"),r=i.left-n.left,a=i.left+e.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=i.top-n.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=i.top-n.top+e.offsetHeight+"px",t.pageX>a?(this.reorderIndicatorUpViewChild.nativeElement.style.left=r+e.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r+e.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),o-s==1&&-1===this.dropPosition||o-s==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else t.dataTransfer.dropEffect="none"}}onColumnDragLeave(t){this.reorderableColumns&&this.draggedColumn&&(t.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(t,e){if(t.preventDefault(),this.draggedColumn){let t=Ad.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),n=Ad.indexWithinGroup(e,"preorderablecolumn"),i=t!=n;i&&(n-t==1&&-1===this.dropPosition||t-n==1&&1===this.dropPosition)&&(i=!1),i&&n<t&&1===this.dropPosition&&(n+=1),i&&n>t&&-1===this.dropPosition&&(n-=1),i&&(Md.reorderArray(this.columns,t,n),this.onColReorder.emit({dragIndex:t,dropIndex:n,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(t,e){this.rowDragging=!0,this.draggedRowIndex=e,t.dataTransfer.setData("text","b")}onRowDragOver(t,e,n){if(this.rowDragging&&this.draggedRowIndex!==e){let i=Ad.getOffset(n).top+Ad.getWindowScrollTop(),s=t.pageY,o=i+Ad.getOuterHeight(n)/2,r=n.previousElementSibling;s<o?(Ad.removeClass(n,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=e,r?Ad.addClass(r,"p-datatable-dragpoint-bottom"):Ad.addClass(n,"p-datatable-dragpoint-top")):(r?Ad.removeClass(r,"p-datatable-dragpoint-bottom"):Ad.addClass(n,"p-datatable-dragpoint-top"),this.droppedRowIndex=e+1,Ad.addClass(n,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(t,e){let n=e.previousElementSibling;n&&Ad.removeClass(n,"p-datatable-dragpoint-bottom"),Ad.removeClass(e,"p-datatable-dragpoint-bottom"),Ad.removeClass(e,"p-datatable-dragpoint-top")}onRowDragEnd(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(t,e){if(null!=this.droppedRowIndex){let t=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;Md.reorderArray(this.value,this.draggedRowIndex,t),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:t})}this.onRowDragLeave(t,e),this.onRowDragEnd(t)}isEmpty(){let t=this.filteredValue||this.value;return null==t||0==t.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const t=this.getStorage();let e={};this.paginator&&(e.first=this.first,e.rows=this.rows),this.sortField&&(e.sortField=this.sortField,e.sortOrder=this.sortOrder),this.multiSortMeta&&(e.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(e.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(e),this.reorderableColumns&&this.saveColumnOrder(e),this.selection&&(e.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(e.expandedRowKeys=this.expandedRowKeys),t.setItem(this.stateKey,JSON.stringify(e)),this.onStateSave.emit(e)}clearState(){const t=this.getStorage();this.stateKey&&t.removeItem(this.stateKey)}restoreState(){const t=this.getStorage().getItem(this.stateKey),e=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(t){let n=JSON.parse(t,function(t,n){return"string"==typeof n&&e.test(n)?new Date(n):n});this.paginator&&(void 0!==this.first&&(this.first=n.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=n.rows,this.rowsChange.emit(this.rows))),n.sortField&&(this.restoringSort=!0,this._sortField=n.sortField,this._sortOrder=n.sortOrder),n.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=n.multiSortMeta),n.filters&&(this.restoringFilter=!0,this.filters=n.filters),this.resizableColumns&&(this.columnWidthsState=n.columnWidths,this.tableWidthState=n.tableWidth),n.expandedRowKeys&&(this.expandedRowKeys=n.expandedRowKeys),n.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(n.selection)),this.stateRestored=!0,this.onStateRestore.emit(n)}}saveColumnWidths(t){let e=[];Ad.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr:first-child > th").map(t=>e.push(Ad.getOuterWidth(t))),t.columnWidths=e.join(","),"expand"===this.columnResizeMode&&(t.tableWidth=this.scrollable?Ad.findSingle(this.containerViewChild.nativeElement,".p-datatable-scrollable-header-table").style.width:Ad.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let t=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.scrollable?this.setScrollableItemsWidthOnExpandResize(null,this.tableWidthState,0):this.tableViewChild.nativeElement.style.width=this.tableWidthState),this.scrollable){let e=Ad.find(this.containerViewChild.nativeElement,".p-datatable-scrollable-header-table > colgroup > col"),n=Ad.find(this.containerViewChild.nativeElement,this.virtualScroll?"cdk-virtual-scroll-viewport table > colgroup > col":".p-datatable-scrollable-body table > colgroup > col");e.map((e,n)=>e.style.width=t[n]+"px"),n.map((e,n)=>e.style.width=t[n]+"px")}else Ad.find(this.tableViewChild.nativeElement,".p-datatable-thead > tr:first-child > th").map((e,n)=>e.style.width=t[n]+"px")}}saveColumnOrder(t){if(this.columns){let e=[];this.columns.map(t=>{e.push(t.field||t.key)}),t.columnOrder=e}}restoreColumnOrder(){const t=this.getStorage().getItem(this.stateKey);if(t){let e=JSON.parse(t).columnOrder;if(e){let t=[];e.map(e=>{let n=this.findColumnByKey(e);n&&t.push(n)}),this.columnOrderStateRestored=!0,this.columns=t}}}findColumnByKey(t){if(!this.columns)return null;for(let e of this.columns)if(e.key===t||e.field===t)return e}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(Yc),Sr(zE),Sr(bl),Sr(jd))},t.\u0275cmp=Bt({type:t,selectors:[["p-table"]],contentQueries:function(t,e,n){if(1&t&&kc(n,$d,4),2&t){let t;vc(t=Cc())&&(e.templates=t)}},viewQuery:function(t,e){if(1&t&&(_c(vT,5),_c(_T,5),_c(kT,5),_c(CT,5),_c(ST,5),_c(xT,5),_c(TT,5)),2&t){let t;vc(t=Cc())&&(e.containerViewChild=t.first),vc(t=Cc())&&(e.resizeHelperViewChild=t.first),vc(t=Cc())&&(e.reorderIndicatorUpViewChild=t.first),vc(t=Cc())&&(e.reorderIndicatorDownViewChild=t.first),vc(t=Cc())&&(e.tableViewChild=t.first),vc(t=Cc())&&(e.scrollableViewChild=t.first),vc(t=Cc())&&(e.scrollableFrozenViewChild=t.first)}},inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[Va([zE]),ae],decls:12,vars:22,consts:[["data-scrollselectors",".p-datatable-scrollable-body, .p-datatable-unfrozen-view .p-datatable-scrollable-body",3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-wrapper",4,"ngIf"],["class","p-datatable-scrollable-wrapper",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-datatable-wrapper"],["role","grid",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],[1,"p-datatable-tbody",3,"pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tfoot"],[1,"p-datatable-scrollable-wrapper"],["class","p-datatable-scrollable-view p-datatable-frozen-view",3,"pScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[1,"p-datatable-scrollable-view",3,"pScrollableView","frozen","scrollHeight","ngStyle"],["scrollableView",""],[1,"p-datatable-scrollable-view","p-datatable-frozen-view",3,"pScrollableView","frozen","ngStyle","scrollHeight"],["scrollableFrozenView",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(t,e){1&t&&(Er(0,"div",0,1),kr(2,ET,2,2,"div",2),kr(3,OT,2,1,"div",3),kr(4,AT,1,16,"p-paginator",4),kr(5,NT,8,13,"div",5),kr(6,zT,4,8,"div",6),kr(7,BT,1,16,"p-paginator",7),kr(8,UT,2,1,"div",8),kr(9,$T,2,0,"div",9),kr(10,WT,2,0,"span",10),kr(11,qT,2,0,"span",11),Ir()),2&t&&(sa(e.styleClass),xr("ngStyle",e.style)("ngClass",function(t,e,n,i,s,o,r,a,l,c){const u=ze()+14,h=Ae();let d=vr(h,u,n,i,s,o);return yr(h,u+4,r,a,l)||d?gr(h,u+7,e(n,i,s,o,r,a,l)):mr(h,u+7)}(0,KT,e.rowHover||e.selectionMode,e.autoLayout,e.resizableColumns,e.resizableColumns&&"fit"===e.columnResizeMode,e.scrollable,e.scrollable&&"flex"===e.scrollHeight,e.responsive)),Ws(2),xr("ngIf",e.loading&&e.showLoader),Ws(1),xr("ngIf",e.captionTemplate),Ws(1),xr("ngIf",e.paginator&&("top"===e.paginatorPosition||"both"==e.paginatorPosition)),Ws(1),xr("ngIf",!e.scrollable),Ws(1),xr("ngIf",e.scrollable),Ws(1),xr("ngIf",e.paginator&&("bottom"===e.paginatorPosition||"both"==e.paginatorPosition)),Ws(1),xr("ngIf",e.summaryTemplate),Ws(1),xr("ngIf",e.resizableColumns),Ws(1),xr("ngIf",e.reorderableColumns),Ws(1),xr("ngIf",e.reorderableColumns))},directives:function(){return[Mh,xh,Oh,Dh,Wx,HE,UE]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-badge,.p-datatable .p-sortable-column .p-sortable-column-icon{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable-wrapper{position:relative}.p-datatable-scrollable-footer,.p-datatable-scrollable-header{overflow:hidden}.p-datatable-scrollable-body{overflow:auto;position:relative}.p-datatable-scrollable-body>table>.p-datatable-tbody>tr:first-child>td{border-top:0}.p-datatable-virtual-table{position:absolute}.p-datatable-frozen-view .p-datatable-scrollable-body{overflow:hidden}.p-datatable-frozen-view>.p-datatable-scrollable-body>table>.p-datatable-tbody>tr>td:last-child{border-right:0}.p-datatable-unfrozen-view{position:absolute;top:0}.p-datatable-flex-scrollable,.p-datatable-flex-scrollable .p-datatable-scrollable-view,.p-datatable-flex-scrollable .p-datatable-scrollable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-scrollable-body,.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-tbody>tr>td,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-thead>tr>th{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-cancel,.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-down,.p-datatable-reorder-indicator-up{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-clear-button,.p-column-filter-menu-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable.p-datatable-responsive .p-datatable-tbody>tr>td .p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}@media screen and (max-width:40em){.p-datatable.p-datatable-responsive .p-datatable-tfoot>tr>td,.p-datatable.p-datatable-responsive .p-datatable-thead>tr>th{display:none!important}.p-datatable.p-datatable-responsive .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}.p-datatable.p-datatable-responsive .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}}"],encapsulation:2}),t})(),HE=(()=>{class t{constructor(t,e,n){this.dt=t,this.tableService=e,this.cd=n,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Sr(BE),Sr(zE),Sr(bl))},t.\u0275cmp=Bt({type:t,selectors:[["","pTableBody",""]],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],frozen:"frozen"},attrs:GT,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(t,e){1&t&&(kr(0,JT,3,6,"ng-container",0),kr(1,eE,2,3,"ng-container",0),kr(2,lE,3,6,"ng-container",0),kr(3,pE,3,6,"ng-container",0),kr(4,mE,2,5,"ng-container",0),kr(5,wE,2,5,"ng-container",0)),2&t&&(xr("ngIf",!e.dt.expandedRowTemplate&&!e.dt.virtualScroll),Ws(1),xr("ngIf",!e.dt.expandedRowTemplate&&e.dt.virtualScroll),Ws(1),xr("ngIf",e.dt.expandedRowTemplate&&!(e.frozen&&e.dt.frozenExpandedRowTemplate)),Ws(1),xr("ngIf",e.dt.frozenExpandedRowTemplate&&e.frozen),Ws(1),xr("ngIf",e.dt.loading),Ws(1),xr("ngIf",e.dt.isEmpty()&&!e.dt.loading))},directives:[Oh,Eh,Dh,Fg],pipes:[Nh],encapsulation:2}),t})(),UE=(()=>{class t{constructor(t,e,n){this.dt=t,this.el=e,this.zone=n}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t,null!=t&&(t.includes("%")||t.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.'),this.dt.virtualScroll&&this.virtualScrollBody&&this.virtualScrollBody.ngOnInit()}ngAfterViewInit(){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=Ad.calculateScrollbarHeight()+"px");else{(this.dt.frozenColumns||this.dt.frozenBodyTemplate)&&Ad.addClass(this.el.nativeElement,"p-datatable-unfrozen-view");let t=this.el.nativeElement.previousElementSibling;t&&(this.frozenSiblingBody=Ad.findSingle(t,this.dt.virtualScroll?".p-datatable-virtual-scrollable-body":".p-datatable-scrollable-body"));let e=Ad.calculateScrollbarWidth();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=e+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=e+"px")}this.bindEvents()}bindEvents(){this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.onHeaderScroll.bind(this),this.scrollHeaderViewChild.nativeElement.addEventListener("scroll",this.headerScrollListener)),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.onFooterScroll.bind(this),this.scrollFooterViewChild.nativeElement.addEventListener("scroll",this.footerScrollListener)),this.frozen||(this.bodyScrollListener=this.onBodyScroll.bind(this),this.dt.virtualScroll?this.virtualScrollBody.getElementRef().nativeElement.addEventListener("scroll",this.bodyScrollListener):this.scrollBodyViewChild.nativeElement.addEventListener("scroll",this.bodyScrollListener))})}unbindEvents(){this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.scrollHeaderViewChild.nativeElement.removeEventListener("scroll",this.headerScrollListener),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.scrollFooterViewChild.nativeElement.removeEventListener("scroll",this.footerScrollListener),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.scrollBodyViewChild.nativeElement.removeEventListener("scroll",this.bodyScrollListener),this.virtualScrollBody&&this.virtualScrollBody.getElementRef()&&this.virtualScrollBody.getElementRef().nativeElement.removeEventListener("scroll",this.bodyScrollListener)}onHeaderScroll(){const t=this.scrollHeaderViewChild.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=t,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=t),this.preventBodyScrollPropagation=!0}onFooterScroll(){const t=this.scrollFooterViewChild.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=t,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=t),this.preventBodyScrollPropagation=!0}onBodyScroll(t){this.preventBodyScrollPropagation?this.preventBodyScrollPropagation=!1:(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*t.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*t.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=t.target.scrollTop))}onScrollIndexChange(t){this.dt.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let e=Math.floor(t/this.dt.rows),n=0===e?0:(e-1)*this.dt.rows,i=0===e?2*this.dt.rows:3*this.dt.rows;e!==this.virtualPage&&(this.virtualPage=e,this.dt.onLazyLoad.emit({first:n,rows:i,sortField:this.dt.sortField,sortOrder:this.dt.sortOrder,filters:this.dt.filters,globalFilter:this.dt.filters&&this.dt.filters.global?this.dt.filters.global.value:null,multiSortMeta:this.dt.multiSortMeta}))},this.dt.virtualScrollDelay))}getPageCount(){let t=this.dt.filteredValue||this.dt.value;return Math.ceil((t?t.length:0)/this.dt.rows)}scrollToVirtualIndex(t){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(t)}scrollTo(t){this.virtualScrollBody?this.virtualScrollBody.scrollTo(t):this.scrollBodyViewChild.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(t):(this.scrollBodyViewChild.nativeElement.scrollLeft=t.left,this.scrollBodyViewChild.nativeElement.scrollTop=t.top)}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}}return t.\u0275fac=function(e){return new(e||t)(Sr(BE),Sr(Wa),Sr(Yc))},t.\u0275cmp=Bt({type:t,selectors:[["","pScrollableView",""]],viewQuery:function(t,e){if(1&t&&(_c(yE,5),_c(vE,5),_c(_E,5),_c(kE,5),_c(CE,5),_c(SE,5),_c(xE,5),_c(Rg,5)),2&t){let t;vc(t=Cc())&&(e.scrollHeaderViewChild=t.first),vc(t=Cc())&&(e.scrollHeaderBoxViewChild=t.first),vc(t=Cc())&&(e.scrollBodyViewChild=t.first),vc(t=Cc())&&(e.scrollTableViewChild=t.first),vc(t=Cc())&&(e.scrollFooterViewChild=t.first),vc(t=Cc())&&(e.scrollFooterBoxViewChild=t.first),vc(t=Cc())&&(e.scrollableAlignerViewChild=t.first),vc(t=Cc())&&(e.virtualScrollBody=t.first)}},inputs:{columns:["pScrollableView","columns"],frozen:"frozen",scrollHeight:"scrollHeight"},attrs:TE,decls:21,vars:24,consts:[[1,"p-datatable-scrollable-header"],["scrollHeader",""],[1,"p-datatable-scrollable-header-box"],["scrollHeaderBox",""],[1,"p-datatable-scrollable-header-table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],[1,"p-datatable-tbody"],["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf","ngIfElse"],["virtualScrollTemplate",""],[1,"p-datatable-scrollable-footer"],["scrollFooter",""],[1,"p-datatable-scrollable-footer-box"],["scrollFooterBox",""],[1,"p-datatable-scrollable-footer-table",3,"ngClass","ngStyle"],[1,"p-datatable-tfoot"],[1,"p-datatable-scrollable-body",3,"ngStyle"],["scrollBody",""],[3,"ngStyle"],["scrollTable",""],[1,"p-datatable-tbody",3,"pTableBody","pTableBodyTemplate","frozen"],["style","background-color:transparent",4,"ngIf"],[2,"background-color","transparent"],["scrollableAligner",""],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"]],template:function(t,e){if(1&t&&(Er(0,"div",0,1),Er(2,"div",2,3),Er(4,"table",4),kr(5,EE,1,0,"ng-container",5),Er(6,"thead",6),kr(7,IE,1,0,"ng-container",5),Ir(),Er(8,"tbody",7),kr(9,AE,1,6,"ng-template",8),Ir(),Ir(),Ir(),Ir(),kr(10,LE,8,15,"ng-container",9),kr(11,FE,6,16,"ng-template",null,10,Ec),Er(13,"div",11,12),Er(15,"div",13,14),Er(17,"table",15),kr(18,VE,1,0,"ng-container",5),Er(19,"tfoot",16),kr(20,jE,1,0,"ng-container",5),Ir(),Ir(),Ir(),Ir()),2&t){const t=Cr(12);Ws(4),xr("ngClass",e.dt.tableStyleClass)("ngStyle",e.dt.tableStyle),Ws(1),xr("ngTemplateOutlet",e.frozen&&e.dt.frozenColGroupTemplate||e.dt.colGroupTemplate)("ngTemplateOutletContext",Wl(16,LT,e.columns)),Ws(2),xr("ngTemplateOutlet",e.frozen&&e.dt.frozenHeaderTemplate||e.dt.headerTemplate)("ngTemplateOutletContext",Wl(18,LT,e.columns)),Ws(2),xr("ngForOf",e.dt.frozenValue)("ngForTrackBy",e.dt.rowTrackBy),Ws(1),xr("ngIf",!e.dt.virtualScroll)("ngIfElse",t),Ws(7),xr("ngClass",e.dt.tableStyleClass)("ngStyle",e.dt.tableStyle),Ws(1),xr("ngTemplateOutlet",e.frozen&&e.dt.frozenColGroupTemplate||e.dt.colGroupTemplate)("ngTemplateOutletContext",Wl(20,LT,e.columns)),Ws(2),xr("ngTemplateOutlet",e.frozen&&e.dt.frozenFooterTemplate||e.dt.footerTemplate)("ngTemplateOutletContext",Wl(22,LT,e.columns))}},directives:[xh,Mh,Dh,Eh,Oh,HE,Rg,Ag],encapsulation:2}),t})(),$E=(()=>{class t{constructor(t,e){this.dt=t,this.tableService=e,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(t){this.isEnabled()&&this.dt.handleRowClick({originalEvent:t,rowData:this.data,rowIndex:this.index})}onTouchEnd(t){this.isEnabled()&&this.dt.handleRowTouchEnd(t)}onArrowDownKeyDown(t){if(!this.isEnabled())return;const e=this.findNextSelectableRow(t.currentTarget);e&&e.focus(),t.preventDefault()}onArrowUpKeyDown(t){if(!this.isEnabled())return;const e=this.findPrevSelectableRow(t.currentTarget);e&&e.focus(),t.preventDefault()}onEnterKeyDown(t){this.isEnabled()&&this.dt.handleRowClick({originalEvent:t,rowData:this.data,rowIndex:this.index})}onPageDownKeyDown(){this.dt.virtualScroll&&Ad.findSingle(this.dt.scrollableViewChild.el.nativeElement,"cdk-virtual-scroll-viewport").focus()}onSpaceKeydown(){this.dt.virtualScroll&&!this.dt.editingCell&&Ad.findSingle(this.dt.scrollableViewChild.el.nativeElement,"cdk-virtual-scroll-viewport").focus()}findNextSelectableRow(t){let e=t.nextElementSibling;return e?Ad.hasClass(e,"p-selectable-row")?e:this.findNextSelectableRow(e):null}findPrevSelectableRow(t){let e=t.previousElementSibling;return e?Ad.hasClass(e,"p-selectable-row")?e:this.findPrevSelectableRow(e):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Sr(BE),Sr(zE))},t.\u0275dir=Kt({type:t,selectors:[["","pSelectableRow",""]],hostVars:5,hostBindings:function(t,e){1&t&&Nr("click",function(t){return e.onClick(t)})("touchend",function(t){return e.onTouchEnd(t)})("keydown.arrowdown",function(t){return e.onArrowDownKeyDown(t)})("keydown.arrowup",function(t){return e.onArrowUpKeyDown(t)})("keydown.enter",function(t){return e.onEnterKeyDown(t)})("keydown.shift.enter",function(t){return e.onEnterKeyDown(t)})("keydown.meta.enter",function(t){return e.onEnterKeyDown(t)})("keydown.pagedown",function(){return e.onPageDownKeyDown()})("keydown.pageup",function(){return e.onPageDownKeyDown()})("keydown.home",function(){return e.onPageDownKeyDown()})("keydown.end",function(){return e.onPageDownKeyDown()})("keydown.space",function(){return e.onSpaceKeydown()}),2&t&&(_r("tabindex",e.isEnabled()?0:void 0),ea("p-selectable-row",e.isEnabled())("p-highlight",e.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),t})(),WE=(()=>{class t{constructor(t,e,n){this.dt=t,this.tableService=e,this.el=n,this.isEnabled()&&(this.subscription=this.dt.tableService.contextMenuSource$.subscribe(t=>{this.selected=this.dt.equals(this.data,t)}))}onContextMenu(t){this.isEnabled()&&(this.dt.handleRowRightClick({originalEvent:t,rowData:this.data,rowIndex:this.index}),this.el.nativeElement.focus(),t.preventDefault())}isEnabled(){return!0!==this.pContextMenuRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Sr(BE),Sr(zE),Sr(Wa))},t.\u0275dir=Kt({type:t,selectors:[["","pContextMenuRow",""]],hostVars:3,hostBindings:function(t,e){1&t&&Nr("contextmenu",function(t){return e.onContextMenu(t)}),2&t&&(_r("tabindex",e.isEnabled()?0:void 0),ea("p-highlight-contextmenu",e.selected))},inputs:{data:["pContextMenuRow","data"],index:["pContextMenuRowIndex","index"],pContextMenuRowDisabled:"pContextMenuRowDisabled"}}),t})(),qE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,qx,bf,xv,jg,gf,Cf,nT,xx,yT,cT],Wd,jg]}),t})(),KE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,Wd,Ay,Yd],Wd]}),t})(),GE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh],Wd]}),t})();const YE=["sublist"],QE=["menuitem"],ZE=function(t){return{"p-hidden":t}};function JE(t,e){if(1&t&&Or(0,"li",5,6),2&t){const t=jr().$implicit;xr("ngClass",Wl(1,ZE,!1===t.visible))}}function XE(t,e){1&t&&Or(0,"span",16),2&t&&xr("ngClass",jr(3).$implicit.icon)}function tI(t,e){if(1&t&&(Er(0,"span",17),ba(1),Ir()),2&t){const t=jr(3).$implicit;Ws(1),wa(t.label)}}function eI(t,e){1&t&&Or(0,"span",18),2&t&&xr("innerHTML",jr(3).$implicit.label,Gi)}function nI(t,e){1&t&&Or(0,"span",19)}const iI=function(t){return{"p-menuitem-link":!0,"p-disabled":t}};function sI(t,e){if(1&t){const t=Dr();Er(0,"a",11),Nr("click",function(e){Me(t),jr();const n=Cr(1),i=jr(),s=i.$implicit,o=i.index,r=jr();return r.onItemClick(e,s,n,r.getKey(o))}),kr(1,XE,1,1,"span",12),kr(2,tI,2,1,"span",13),kr(3,eI,1,1,"ng-template",null,14,Ec),kr(5,nI,1,0,"span",15),Ir()}if(2&t){const t=Cr(4),e=jr(2),n=e.$implicit,i=e.index,s=jr();xr("ngClass",Wl(12,iI,n.disabled)),_r("href",n.url?n.url:null,Yi)("target",n.target)("title",n.title)("id",n.id)("tabindex",n.disabled?null:"0")("aria-haspopup",null!=s.item.items)("aria-expanded",s.isActive(s.getKey(i))),Ws(1),xr("ngIf",n.icon),Ws(1),xr("ngIf",!1!==n.escape)("ngIfElse",t),Ws(3),xr("ngIf",n.items)}}function oI(t,e){1&t&&Or(0,"span",16),2&t&&xr("ngClass",jr(3).$implicit.icon)}function rI(t,e){if(1&t&&(Er(0,"span",17),ba(1),Ir()),2&t){const t=jr(3).$implicit;Ws(1),wa(t.label)}}function aI(t,e){1&t&&Or(0,"span",18),2&t&&xr("innerHTML",jr(3).$implicit.label,Gi)}function lI(t,e){1&t&&Or(0,"span",19)}const cI=function(){return{exact:!1}};function uI(t,e){if(1&t){const t=Dr();Er(0,"a",20),Nr("click",function(e){Me(t),jr();const n=Cr(1),i=jr(),s=i.$implicit,o=i.index,r=jr();return r.onItemClick(e,s,n,r.getKey(o))}),kr(1,oI,1,1,"span",12),kr(2,rI,2,1,"span",13),kr(3,aI,1,1,"ng-template",null,21,Ec),kr(5,lI,1,0,"span",15),Ir()}if(2&t){const t=Cr(4),e=jr(2).$implicit;xr("routerLink",e.routerLink)("queryParams",e.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",e.routerLinkActiveOptions||$l(19,cI))("ngClass",Wl(20,iI,e.disabled))("fragment",e.fragment)("queryParamsHandling",e.queryParamsHandling)("preserveFragment",e.preserveFragment)("skipLocationChange",e.skipLocationChange)("replaceUrl",e.replaceUrl)("state",e.state),_r("target",e.target)("title",e.title)("id",e.id)("tabindex",e.disabled?null:"0"),Ws(1),xr("ngIf",e.icon),Ws(1),xr("ngIf",!1!==e.escape)("ngIfElse",t),Ws(3),xr("ngIf",e.items)}}function hI(t,e){if(1&t){const t=Dr();Er(0,"p-contextMenuSub",22),Nr("leafClick",function(){return Me(t),jr(3).onLeafClick()}),Ir()}if(2&t){const t=jr(2),e=t.index,n=t.$implicit;xr("parentItemKey",jr().getKey(e))("item",n)}}const dI=function(t,e){return{"p-menuitem":!0,"p-menuitem-active":t,"p-hidden":e}};function pI(t,e){if(1&t){const t=Dr();Er(0,"li",7,6),Nr("mouseenter",function(e){Me(t);const n=jr(),i=n.$implicit,s=n.index,o=jr();return o.onItemMouseEnter(e,i,o.getKey(s))})("mouseleave",function(e){Me(t);const n=jr().$implicit;return jr().onItemMouseLeave(e,n)}),kr(2,sI,6,14,"a",8),kr(3,uI,6,22,"a",9),kr(4,hI,1,2,"p-contextMenuSub",10),Ir()}if(2&t){const t=jr(),e=t.$implicit,n=t.index,i=jr();sa(e.styleClass),xr("ngClass",ql(8,dI,i.isActive(i.getKey(n)),!1===e.visible))("ngStyle",e.style),_r("data-ik",i.getKey(n)),Ws(2),xr("ngIf",!e.routerLink),Ws(1),xr("ngIf",e.routerLink),Ws(1),xr("ngIf",e.items)}}function fI(t,e){if(1&t&&(kr(0,JE,2,3,"li",3),kr(1,pI,5,11,"li",4)),2&t){const t=e.$implicit;xr("ngIf",t.separator),Ws(1),xr("ngIf",!t.separator)}}const gI=function(t){return{"p-submenu-list":t}},mI=["container"];let bI=(()=>{class t{constructor(t){this.leafClick=new lc,this.contextMenu=t}ngOnInit(){this.activeItemKeyChangeSubscription=this.contextMenu.contextMenuService.activeItemKeyChange$.pipe(Yf(this.contextMenu.ngDestroy$)).subscribe(t=>{this.activeItemKey=t,this.isActive(this.parentItemKey)&&Ad.hasClass(this.sublistViewChild.nativeElement,"p-submenu-list-active")&&this.contextMenu.positionSubmenu(this.sublistViewChild.nativeElement),this.contextMenu.cd.markForCheck()})}onItemMouseEnter(t,e,n){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),!e.disabled){if(e.items){let e=Ad.findSingle(t.currentTarget,".p-submenu-list");Ad.addClass(e,"p-submenu-list-active")}this.contextMenu.contextMenuService.changeKey(n)}}onItemMouseLeave(t,e){e.disabled||this.contextMenu.el.nativeElement.contains(t.toElement)&&(e.items&&this.contextMenu.removeActiveFromSubLists(t.currentTarget),this.root||this.contextMenu.contextMenuService.changeKey(this.parentItemKey))}onItemClick(t,e,n,i){if(e.disabled)t.preventDefault();else{if(e.url||e.routerLink||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e}),e.items){let t=Ad.findSingle(n,".p-submenu-list");t&&(this.isActive(i)&&Ad.hasClass(t,"p-submenu-list-active")?this.contextMenu.removeActiveFromSubLists(n):Ad.addClass(t,"p-submenu-list-active"),this.contextMenu.contextMenuService.changeKey(i))}e.items||this.onLeafClick()}}onLeafClick(){this.root&&this.contextMenu.hide(),this.leafClick.emit()}getKey(t){return this.root?String(t):this.parentItemKey+"_"+t}isActive(t){return this.activeItemKey&&(this.activeItemKey.startsWith(t+"_")||this.activeItemKey===t)}}return t.\u0275fac=function(e){return new(e||t)(Sr(it(()=>wI)))},t.\u0275cmp=Bt({type:t,selectors:[["p-contextMenuSub"]],viewQuery:function(t,e){if(1&t&&(_c(YE,5),_c(QE,5)),2&t){let t;vc(t=Cc())&&(e.sublistViewChild=t.first),vc(t=Cc())&&(e.menuitemViewChild=t.first)}},inputs:{item:"item",root:"root",parentItemKey:"parentItemKey"},outputs:{leafClick:"leafClick"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none",3,"ngClass","ngStyle","class","mouseenter","mouseleave",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["menuitem",""],["role","none",3,"ngClass","ngStyle","mouseenter","mouseleave"],["pRipple","",3,"ngClass","click",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"parentItemKey","item","leafClick",4,"ngIf"],["pRipple","",3,"ngClass","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""],[3,"parentItemKey","item","leafClick"]],template:function(t,e){1&t&&(Er(0,"ul",0,1),kr(2,fI,2,2,"ng-template",2),Ir()),2&t&&(xr("ngClass",Wl(2,gI,!e.root)),Ws(2),xr("ngForOf",e.root?e.item:e.item.items))},directives:[xh,Eh,Oh,Mh,Gd,CC,xC,t],encapsulation:2}),t})(),wI=(()=>{class t{constructor(t,e,n,i,s){this.el=t,this.renderer=e,this.cd=n,this.zone=i,this.contextMenuService=s,this.autoZIndex=!0,this.baseZIndex=0,this.triggerEvent="contextmenu",this.onShow=new lc,this.onHide=new lc,this.ngDestroy$=new C}ngAfterViewInit(){this.global?this.triggerEventListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",this.triggerEvent,t=>{this.show(t),t.preventDefault()}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,t=>{this.show(t),t.preventDefault(),t.stopPropagation()})),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):Ad.appendChild(this.containerViewChild.nativeElement,this.appendTo))}show(t){this.clearActiveItem(),this.position(t),this.moveOnTop(),this.containerViewChild.nativeElement.style.display="block",Ad.fadeIn(this.containerViewChild.nativeElement,250),this.bindGlobalListeners(),t&&t.preventDefault(),this.onShow.emit()}hide(){this.containerViewChild.nativeElement.style.display="none",this.unbindGlobalListeners(),this.onHide.emit()}moveOnTop(){this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++Ad.zindex))}toggle(t){this.containerViewChild.nativeElement.offsetParent?this.hide():this.show(t)}position(t){if(t){let e=t.pageX+1,n=t.pageY+1,i=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:Ad.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),s=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:Ad.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),o=Ad.getViewport();e+i-document.body.scrollLeft>o.width&&(e-=i),n+s-document.body.scrollTop>o.height&&(n-=s),e<document.body.scrollLeft&&(e=document.body.scrollLeft),n<document.body.scrollTop&&(n=document.body.scrollTop),this.containerViewChild.nativeElement.style.left=e+"px",this.containerViewChild.nativeElement.style.top=n+"px"}}positionSubmenu(t){let e=t.parentElement.parentElement,n=Ad.getViewport(),i=t.offsetParent?t.offsetWidth:Ad.getHiddenElementOuterWidth(t),s=t.offsetHeight?t.offsetHeight:Ad.getHiddenElementOuterHeight(t),o=Ad.getOuterWidth(e.children[0]),r=Ad.getOuterHeight(e.children[0]),a=Ad.getOffset(e.parentElement);t.style.zIndex=++Ad.zindex,parseInt(a.top)+r+s>n.height-Ad.calculateScrollbarHeight()?(t.style.removeProperty("top"),t.style.bottom="0px"):(t.style.removeProperty("bottom"),t.style.top="0px"),t.style.left=parseInt(a.left)+o+i>n.width-Ad.calculateScrollbarWidth()?-i+"px":o+"px"}isItemMatched(t){return Ad.hasClass(t,"p-menuitem")&&!Ad.hasClass(t.children[0],"p-disabled")}findNextItem(t,e){let n=t.nextElementSibling;if(n)return this.isItemMatched(n)?n:this.findNextItem(n,e);{let n=t.parentElement.children[0];return this.isItemMatched(n)?n:e?null:this.findNextItem(n,!0)}}findPrevItem(t,e){let n=t.previousElementSibling;if(n)return this.isItemMatched(n)?n:this.findPrevItem(n,e);{let n=t.parentElement.children[t.parentElement.children.length-1];return this.isItemMatched(n)?n:e?null:this.findPrevItem(n,!0)}}getActiveItem(){let t=this.contextMenuService.activeItemKey;return null==t?null:Ad.findSingle(this.containerViewChild.nativeElement,'.p-menuitem[data-ik="'+t+'"]')}clearActiveItem(){this.contextMenuService.activeItemKey&&(this.removeActiveFromSubLists(this.containerViewChild.nativeElement),this.contextMenuService.reset())}removeActiveFromSubLists(t){let e=Ad.find(t,".p-submenu-list-active");for(let n of e)Ad.removeClass(n,"p-submenu-list-active")}removeActiveFromSublist(t){t&&Ad.findSingle(t,".p-submenu-list")&&Ad.hasClass(t,"p-submenu-list-active")&&Ad.removeClass(t,"p-submenu-list-active")}bindGlobalListeners(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",t=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(t)&&!t.ctrlKey&&2!==t.button&&this.hide()})),this.zone.runOutsideAngular(()=>{this.windowResizeListener||(this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener))}),this.documentKeydownListener||(this.documentKeydownListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",t=>{let e=this.getActiveItem();switch(t.key){case"ArrowDown":if(e)this.removeActiveFromSublist(e),e=this.findNextItem(e);else{let t=Ad.findSingle(this.containerViewChild.nativeElement,".p-menuitem-link").parentElement;e=this.isItemMatched(t)?t:this.findNextItem(t)}e&&this.contextMenuService.changeKey(e.getAttribute("data-ik")),t.preventDefault();break;case"ArrowUp":if(e)this.removeActiveFromSublist(e),e=this.findPrevItem(e);else{let t=Ad.findSingle(this.containerViewChild.nativeElement,"ul"),n=t.children[t.children.length-1];e=this.isItemMatched(n)?n:this.findPrevItem(n)}e&&this.contextMenuService.changeKey(e.getAttribute("data-ik")),t.preventDefault();break;case"ArrowRight":if(e){let t=Ad.findSingle(e,".p-submenu-list");t&&(Ad.addClass(t,"p-submenu-list-active"),e=Ad.findSingle(t,".p-menuitem-link:not(.p-disabled)").parentElement,e&&this.contextMenuService.changeKey(e.getAttribute("data-ik")))}t.preventDefault();break;case"ArrowLeft":if(e){let t=e.parentElement;t&&Ad.hasClass(t,"p-submenu-list-active")&&(Ad.removeClass(t,"p-submenu-list-active"),e=t.parentElement.parentElement,e&&this.contextMenuService.changeKey(e.getAttribute("data-ik")))}t.preventDefault();break;case"Escape":this.hide(),t.preventDefault();break;case"Enter":e&&this.handleItemClick(t,this.findModelItemFromKey(this.contextMenuService.activeItemKey),e),t.preventDefault()}}))}findModelItemFromKey(t){return null!=t&&this.model?t.split("_").reduce((t,e)=>t?t.items[e]:this.model[e],null):null}handleItemClick(t,e,n){if(e&&!e.disabled){if(e.command&&e.command({originalEvent:t,item:e}),e.items){let t=Ad.findSingle(n,".p-submenu-list");t&&(Ad.hasClass(t,"p-submenu-list-active")?this.removeActiveFromSubLists(n):(Ad.addClass(t,"p-submenu-list-active"),this.positionSubmenu(t)))}e.items||this.hide()}}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.windowResizeListener=null),this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}onWindowResize(t){this.containerViewChild.nativeElement.offsetParent&&this.hide()}isOutsideClicked(t){return!(this.containerViewChild.nativeElement.isSameNode(t.target)||this.containerViewChild.nativeElement.contains(t.target))}ngOnDestroy(){this.unbindGlobalListeners(),this.triggerEventListener&&this.triggerEventListener(),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.ngDestroy$.next(!0),this.ngDestroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(Ga),Sr(bl),Sr(Yc),Sr(zd))},t.\u0275cmp=Bt({type:t,selectors:[["p-contextMenu"]],viewQuery:function(t,e){if(1&t&&_c(mI,5),2&t){let t;vc(t=Cc())&&(e.containerViewChild=t.first)}},inputs:{model:"model",global:"global",target:"target",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",triggerEvent:"triggerEvent"},outputs:{onShow:"onShow",onHide:"onHide"},decls:3,vars:6,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"item","root"]],template:function(t,e){1&t&&(Er(0,"div",0,1),Or(2,"p-contextMenuSub",2),Ir()),2&t&&(sa(e.styleClass),xr("ngClass","p-contextmenu p-component")("ngStyle",e.style),Ws(2),xr("item",e.model)("root",!0))},directives:[xh,Mh,bI],styles:[".p-contextmenu{position:absolute;display:none}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-contextmenu .p-menuitem-active>p-contextmenusub>.p-submenu-list.p-submenu-list-active{display:block!important}"],encapsulation:2,changeDetection:0}),t})(),yI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:[zd],imports:[[Fh,NC,Yd],NC]}),t})();function vI(){return"undefined"!=typeof window&&void 0!==window.document}function _I(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function kI(t){switch(t.length){case 0:return new Id;case 1:return t[0];default:return new Od(t)}}function CI(t,e,n,i,s={},o={}){const r=[],a=[];let l=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==l,u=i&&c||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,r),a){case"!":a=s[n];break;case yd:a=o[n];break;default:a=e.normalizeStyleValue(n,i,a,r)}u[i]=a}),i||a.push(u),c=u,l=n}),r.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${r.join(t)}`)}return a}function SI(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&xI(n,"start",t)));break;case"done":t.onDone(()=>i(n&&xI(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&xI(n,"destroy",t)))}}function xI(t,e,n){const i=n.totalTime,s=TI(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function TI(t,e,n,i,s="",o=0,r){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:s,totalTime:o,disabled:!!r}}function EI(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function II(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let OI=(t,e)=>!1,AI=(t,e)=>!1,PI=(t,e,n)=>[];const MI=_I();(MI||"undefined"!=typeof Element)&&(OI=vI()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),AI=(()=>{if(MI||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):AI}})(),PI=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let DI=null,LI=!1;function RI(t){DI||(DI=("undefined"!=typeof document?document.body:null)||{},LI=!!DI.style&&"WebkitAppearance"in DI.style);let e=!0;return DI.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in DI.style,!e&&LI)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in DI.style),e}const NI=AI,FI=OI,VI=PI;function jI(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let zI=(()=>{class t{validateStyleProperty(t){return RI(t)}matchesElement(t,e){return NI(t,e)}containsElement(t,e){return FI(t,e)}query(t,e,n){return VI(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,s,o=[],r){return new Id(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class BI{}BI.NOOP=new zI;const HI="ng-enter",UI="ng-leave",$I="ng-trigger",WI=".ng-trigger",qI="ng-animating",KI=".ng-animating";function GI(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:YI(parseFloat(e[1]),e[2])}function YI(t,e){switch(e){case"s":return 1e3*t;default:return t}}function QI(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,s=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=YI(parseFloat(n[1]),n[2]);const r=n[3];null!=r&&(s=YI(parseFloat(r),n[4]));const a=n[5];a&&(o=a)}else i=t;if(!n){let n=!1,o=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:s,easing:o}}(t,e,n)}function ZI(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function JI(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else ZI(t,n);return n}function XI(t,e,n){return n?e+":"+n+";":""}function tO(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=XI(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=XI(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function eO(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const s=cO(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[s]),t.style[s]=e[i]}),_I()&&tO(t))}function nO(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=cO(e);t.style[n]=""}),_I()&&tO(t))}function iO(t){return Array.isArray(t)?1==t.length?t[0]:kd(t):t}const sO=new RegExp("{{\\s*(.+?)\\s*}}","g");function oO(t){let e=[];if("string"==typeof t){let n;for(;n=sO.exec(t);)e.push(n[1]);sO.lastIndex=0}return e}function rO(t,e,n){const i=t.toString(),s=i.replace(sO,(t,i)=>{let s=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),s=""),s.toString()});return s==i?t:s}function aO(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const lO=/-+([a-z0-9])/g;function cO(t){return t.replace(lO,(...t)=>t[1].toUpperCase())}function uO(t,e){return 0===t||0===e}function hO(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let o=e[0],r=[];if(i.forEach(t=>{o.hasOwnProperty(t)||r.push(t),o[t]=n[t]}),r.length)for(var s=1;s<e.length;s++){let n=e[s];r.forEach(function(e){n[e]=pO(t,e)})}}return e}function dO(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function pO(t,e){return window.getComputedStyle(t)[e]}const fO="*";function gO(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const s=i[1],o=i[2],r=i[3];e.push(wO(s,r)),"<"!=o[0]||s==fO&&r==fO||e.push(wO(r,s))}(t,n,e)):n.push(t),n}const mO=new Set(["true","1"]),bO=new Set(["false","0"]);function wO(t,e){const n=mO.has(t)||bO.has(t),i=mO.has(e)||bO.has(e);return(s,o)=>{let r=t==fO||t==s,a=e==fO||e==o;return!r&&n&&"boolean"==typeof s&&(r=s?mO.has(t):bO.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?mO.has(e):bO.has(e)),r&&a}}const yO=new RegExp("s*:selfs*,?","g");function vO(t,e,n){return new _O(t).build(e,n)}class _O{constructor(t){this._driver=t}build(t,e){const n=new kO(e);return this._resetContextStyleTimingState(n),dO(this,iO(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,s.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const s=this.visitTransition(t,e);n+=s.queryCount,i+=s.depCount,o.push(s)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=i||{};if(n.styles.forEach(t=>{if(CO(t)){const e=t;Object.keys(e).forEach(t=>{oO(e[t]).forEach(t=>{o.hasOwnProperty(t)||s.add(t)})})}}),s.size){const n=aO(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=dO(this,iO(t.animation),e);return{type:1,matchers:gO(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:SO(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>dO(this,t,e)),options:SO(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const s=t.steps.map(t=>{e.currentTime=n;const s=dO(this,t,e);return i=Math.max(i,e.currentTime),s});return e.currentTime=i,{type:3,steps:s,options:SO(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return xO(QI(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=xO(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||QI(i,e),xO(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let s=t.styles?t.styles:Cd({});if(5==s.type)i=this.visitKeyframes(s,e);else{let s=t.styles,o=!1;if(!s){o=!0;const t={};n.easing&&(t.easing=n.easing),s=Cd(t)}e.currentTime+=n.duration+n.delay;const r=this.visitStyle(s,e);r.isEmptyStep=o,i=r}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==yd?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,s=null;return n.forEach(t=>{if(CO(t)){const e=t,n=e.easing;if(n&&(s=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:s,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],r=o[n];let a=!0;r&&(s!=i&&s>=r.startTime&&i<=r.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${r.startTime}ms" and "${r.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),a=!1),s=r.startTime),a&&(o[n]={startTime:s,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},s=oO(t);s.length&&s.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const s=[];let o=!1,r=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(CO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(CO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),r=r||c<0||c>1,o=o||c<a,a=c,s.push(c),n});r&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const o=u>0?i==h?1:u*i:s[i],r=o*f;e.currentTime=d+p.delay+r,p.duration=r,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:dO(this,iO(t.animation),e),options:SO(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:SO(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:SO(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(yO,"")),[t=t.replace(/@\*/g,WI).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,KI),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+s:s,EI(e.collectedStyles,e.currentQuerySelector,{});const r=dO(this,iO(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:r,originalSelector:t.selector,options:SO(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:QI(t.timings,e.errors,!0);return{type:12,animation:dO(this,iO(t.animation),e),timings:n,options:null}}}class kO{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function CO(t){return!Array.isArray(t)&&"object"==typeof t}function SO(t){var e;return t?(t=ZI(t)).params&&(t.params=(e=t.params)?ZI(e):null):t={},t}function xO(t,e,n){return{duration:t,delay:e,easing:n}}function TO(t,e,n,i,s,o,r=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:s,delay:o,totalTime:s+o,easing:r,subTimeline:a}}class EO{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const IO=new RegExp(":enter","g"),OO=new RegExp(":leave","g");function AO(t,e,n,i,s,o={},r={},a,l,c=[]){return(new PO).buildKeyframes(t,e,n,i,s,o,r,a,l,c)}class PO{buildKeyframes(t,e,n,i,s,o,r,a,l,c=[]){l=l||new EO;const u=new DO(t,e,l,i,s,c,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),dO(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(r).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([r],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[TO(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const s=null!=n.duration?GI(n.duration):null,o=null!=n.delay?GI(n.delay):null;return 0!==s&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,s,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),dO(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=MO);const t=GI(s.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>dO(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?GI(t.options.delay):0;t.steps.forEach(o=>{const r=e.createSubContext(t.options);s&&r.delayNextStep(s),dO(this,o,r),i=Math.max(i,r.currentTimeline.currentTime),n.push(r.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return QI(e.params?rO(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(n.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,s=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*s),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?GI(i.delay):0;s&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=MO);let o=n;const r=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=r.length;let a=null;r.forEach((n,i)=>{e.currentQueryIndex=i;const r=e.createSubContext(t.options,n);s&&r.delayNextStep(s),n===e.element&&(a=r.currentTimeline),dO(this,t.animation,r),r.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,r.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),r=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":a=r-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;dO(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const MO={};class DO{constructor(t,e,n,i,s,o,r,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=r,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=MO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new LO(this._driver,e,0),r.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=GI(n.duration)),null!=n.delay&&(i.delay=GI(n.delay));const s=n.params;if(s){let t=i.params;t||(t=this.options.params={}),Object.keys(s).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=rO(s[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,s=new DO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=MO,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},s=new RO(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,s,o){let r=[];if(i&&r.push(this.element),t.length>0){t=(t=t.replace(IO,"."+this._enterClassName)).replace(OO,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),r.push(...e)}return s||0!=r.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),r}}class LO{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new LO(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||yd,this._currentKeyframe[t]=yd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const s=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=yd})):JI(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=rO(o[t],s,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:yd),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((s,o)=>{const r=JI(s,!0);Object.keys(r).forEach(n=>{const i=r[n];"!"==i?t.add(n):i==yd&&e.add(n)}),n||(r.offset=o/this.duration),i.push(r)});const s=t.size?aO(t.values()):[],o=e.size?aO(e.values()):[];if(n){const t=i[0],e=ZI(t);t.offset=0,e.offset=1,i=[t,e]}return TO(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class RO extends LO{constructor(t,e,n,i,s,o,r=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=r,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=n+e,r=e/o,a=JI(t[0],!1);a.offset=0,s.push(a);const l=JI(t[0],!1);l.offset=NO(r),s.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let r=JI(t[i],!1);r.offset=NO((e+r.offset*n)/o),s.push(r)}n=o,e=0,i="",t=s}return TO(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function NO(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class FO{}class VO extends FO{normalizePropertyName(t,e){return cO(t)}normalizeStyleValue(t,e,n,i){let s="";const o=n.toString().trim();if(jO[e]&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+s}}const jO=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zO(t,e,n,i,s,o,r,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:s,fromState:n,fromStyles:o,toState:i,toStyles:r,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const BO={};class HO{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,s){return t.some(t=>t(e,n,i,s))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],s=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return s?s.buildStyles(e,n):o}build(t,e,n,i,s,o,r,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||BO,d=this.buildStyles(n,r&&r.params||BO,u),p=a&&a.params||BO,f=this.buildStyles(i,p,u),g=new Set,m=new Map,b=new Map,w="void"===i,y={params:Object.assign(Object.assign({},h),p)},v=c?[]:AO(t,e,this.ast.animation,s,o,d,f,y,l,u);let _=0;if(v.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),u.length)return zO(e,this._triggerName,n,i,w,d,f,[],[],m,b,_,u);v.forEach(t=>{const n=t.element,i=EI(m,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const s=EI(b,n,{});t.postStyleProps.forEach(t=>s[t]=!0),n!==e&&g.add(n)});const k=aO(g.values());return zO(e,this._triggerName,n,i,w,d,f,v,k,m,b,_)}}class UO{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n={},i=ZI(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const s=t;Object.keys(s).forEach(t=>{let o=s[t];o.length>1&&(o=rO(o,i,e));const r=this.normalizer.normalizePropertyName(t,e);o=this.normalizer.normalizeStyleValue(t,r,o,e),n[r]=o})}}),n}}class $O{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new UO(t.style,t.options&&t.options.params||{},n)}),WO(this.states,"true","1"),WO(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new HO(t,e,this.states))}),this.fallbackTransition=new HO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(s=>s.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function WO(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const qO=new EO;class KO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=vO(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,s=CI(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],s=this._animations[t];let o;const r=new Map;if(s?(o=AO(this._driver,e,s,HI,UI,{},{},n,qO,i),o.forEach(t=>{const e=EI(r,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);r.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,yd)})});const a=kI(o.map(t=>{const e=r.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const s=TI(e,"","","");return SI(this._getPlayer(t),n,s,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const GO="ng-animate-queued",YO="ng-animate-disabled",QO=".ng-animate-disabled",ZO=[],JO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class tA{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=ZI(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const eA="void",nA=new tA(eA);class iA{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,uA(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(s=n)&&"done"!=s)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var s;const o=EI(this._elementListeners,t,[]),r={name:e,phase:n,callback:i};o.push(r);const a=EI(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(uA(t,$I),uA(t,"ng-trigger-"+e),a[e]=nA),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(r);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const s=this._getTrigger(e),o=new oA(this.id,e,t);let r=this._engine.statesByElement.get(t);r||(uA(t,$I),uA(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,r={}));let a=r[e];const l=new tA(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),r[e]=l,a||(a=nA),l.value!==eA&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let s=0;s<n.length;s++){const i=n[s];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=s.matchStyles(a.value,a.params,e),i=s.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{nO(t,n),eO(t,i)})}return}const c=EI(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=s.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!i)return;u=s.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:o,isFallbackTransition:h}),h||(uA(t,GO),o.onStart(()=>{hA(t,GO)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,WI,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const s=this._engine.statesByElement.get(t);if(s){const o=[];if(Object.keys(s).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,eA,i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&kI(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(e=>{const s=e.name;if(i.has(s))return;i.add(s);const o=this._triggers[s].fallbackTransition,r=n[s]||nA,a=new tA(eA),l=new oA(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:o,fromState:r,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==JO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){uA(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(e=>{if(e.name==n.triggerName){const i=TI(s,n.triggerName,n.fromState.value,n.toState.value);i._data=t,SI(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class sA{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new iA(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let s=n;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const s=n[t[i]].namespaceId;if(s){const t=this._fetchNamespace(s);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(rA(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!rA(e))return;const s=e.__ng_removed;if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),uA(t,YO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hA(t,YO))}removeNode(t,e,n,i){if(rA(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,s){return rA(e)?this._fetchNamespace(t).listen(e,n,i,s):()=>{}}_buildInstruction(t,e,n,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,WI,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,KI,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return kI(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=JO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,QO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,QO,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)uA(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?kI(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new EO,i=[],s=new Map,o=[],r=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=cA(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=HI+f++;p.set(e,n),t.forEach(t=>uA(t,n))});const g=[],m=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const w=new Map,y=cA(h,Array.from(m));y.forEach((t,e)=>{const n=UI+f++;w.set(e,n),t.forEach(t=>uA(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>hA(t,n))}),y.forEach((t,e)=>{const n=w.get(e);t.forEach(t=>hA(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const v=[],_=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,s=t.element;if(v.push(e),this.collectedEnterElements.length){const t=s.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,s),h=w.get(s),d=p.get(s),f=this._buildInstruction(t,n,d,h,c);if(f.errors&&f.errors.length)_.push(f);else{if(c)return e.onStart(()=>nO(s,f.fromStyles)),e.onDestroy(()=>eO(s,f.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>nO(s,f.fromStyles)),e.onDestroy(()=>eO(s,f.toStyles)),void i.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(s,f.timelines),o.push({instruction:f,player:e,element:s}),f.queriedElements.forEach(t=>EI(r,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const k=new Map,C=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,k))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{EI(k,e,[]).push(t),t.destroy()})});const S=g.filter(t=>fA(t,a,l)),x=new Map;lA(x,this.driver,b,l,yd).forEach(t=>{fA(t,a,l)&&S.push(t)});const T=new Map;d.forEach((t,e)=>{lA(T,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=x.get(t),n=T.get(t);x.set(t,Object.assign(Object.assign({},e),n))});const E=[],I=[],O={};o.forEach(t=>{const{element:e,player:o,instruction:r}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>eO(e,r.toStyles)),o.disabled=!0,o.overrideTotalTime(r.totalTime),void i.push(o);let t=O;if(C.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>C.set(e,t))}const n=this._buildAnimation(o.namespaceId,r,k,s,T,x);if(o.setRealPlayer(n),t===O)E.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=kI(e)),i.push(o)}}else nO(e,r.fromStyles),o.onDestroy(()=>eO(e,r.toStyles)),I.push(o),c.has(e)&&i.push(o)}),I.forEach(t=>{const e=s.get(t.element);if(e&&e.length){const n=kI(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(hA(t,UI),e&&e.hasAnimation)continue;let n=[];if(r.size){let e=r.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,KI,!0);for(let t=0;t<i.length;t++){let e=r.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?dA(this,t,i):this.processLeaveNode(t)}return g.length=0,E.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),E}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,s){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!s||s==eA;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const i=e.element,s=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const r of e.timelines){const t=r.element,a=t!==i,l=EI(n,t,[]);this._getPreviousPlayers(t,a,s,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}nO(i,e.fromStyles)}_buildAnimation(t,e,n,i,s,o){const r=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Id(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return pA(t,e),e}((n.get(h)||ZO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=s.get(h),m=o.get(h),b=CI(0,this._normalizer,0,e.keyframes,g,m),w=this._buildPlayer(e,b,f);if(e.subTimeline&&i&&u.add(h),p){const e=new oA(t,r,h);e.setRealPlayer(w),l.push(e)}return w});l.forEach(t=>{EI(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>uA(t,qI));const d=kI(h);return d.onDestroy(()=>{c.forEach(t=>hA(t,qI)),eO(a,e.toStyles)}),u.forEach(t=>{EI(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Id(t.duration,t.delay)}}class oA{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Id,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>SI(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){EI(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function rA(t){return t&&1===t.nodeType}function aA(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function lA(t,e,n,i,s){const o=[];n.forEach(t=>o.push(aA(t)));const r=[];i.forEach((n,i)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(i,t,s);n&&0!=n.length||(i.__ng_removed=XO,r.push(i))}),t.set(i,o)});let a=0;return n.forEach(t=>aA(t,o[a++])),r}function cA(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(t){if(!t)return 1;let e=s.get(t);if(e)return e;const r=t.parentNode;return e=n.has(r)?r:i.has(r)?1:o(r),s.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function uA(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function hA(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function dA(t,e,n){kI(n).onDone(()=>t.processLeaveNode(e))}function pA(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof Od?pA(i.players,e):e.push(i)}}function fA(t,e,n){const i=n.get(t);if(!i)return!1;let s=e.get(t);return s?i.forEach(t=>s.add(t)):e.set(t,i),n.delete(t),!0}class gA{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new sA(t,e,n),this._timelineEngine=new KO(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,s){const o=t+"-"+i;let r=this._triggerCache[o];if(!r){const t=[],e=vO(this._driver,s,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);r=function(t,e,n){return new $O(t,e,n)}(i,e,this._normalizer),this._triggerCache[o]=r}this._transitionEngine.registerTrigger(e,i,r)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,s]=II(n);this._timelineEngine.command(t,e,s,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,s){if("@"==n.charAt(0)){const[t,i]=II(n);return this._timelineEngine.listen(t,e,i,s)}return this._transitionEngine.listen(t,e,n,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mA(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=wA(e[0]),e.length>1&&(i=wA(e[e.length-1]))):e&&(n=wA(e)),n||i?new bA(t,n,i):null}class bA{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let i=bA.initialStylesByElement.get(t);i||bA.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&eO(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(eO(this._element,this._initialStyles),this._endStyles&&(eO(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(bA.initialStylesByElement.delete(this._element),this._startStyles&&(nO(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nO(this._element,this._endStyles),this._endStyles=null),eO(this._element,this._initialStyles),this._state=3)}}function wA(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const s=n[i];yA(s)&&(e=e||{},e[s]=t[s])}return e}function yA(t){return"display"===t||"position"===t}bA.initialStylesByElement=new WeakMap;const vA="animation",_A="animationend";class kA{constructor(t,e,n,i,s,o,r){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=r,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=IA(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),EA(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),TA(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){CA(this._element,this._name,"paused")}resume(){CA(this._element,this._name,"running")}setPosition(t){const e=SA(this._element,this._name);this._position=t*this._duration,EA(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),TA(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=IA(t,"").split(","),i=xA(n,e);i>=0&&(n.splice(i,1),EA(t,"",n.join(",")))}(this._element,this._name))}}function CA(t,e,n){EA(t,"PlayState",n,SA(t,e))}function SA(t,e){const n=IA(t,"");return n.indexOf(",")>0?xA(n.split(","),e):xA([n],e)}function xA(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function TA(t,e,n){n?t.removeEventListener(_A,e):t.addEventListener(_A,e)}function EA(t,e,n,i){const s=vA+e;if(null!=i){const e=t.style[s];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[s]=n}function IA(t,e){return t.style[vA+e]||""}class OA{constructor(t,e,n,i,s,o,r,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=s,this._finalStyles=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new kA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:pO(this.element,n))})}this.currentSnapshot=t}}class AA extends Id{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=jI(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class PA{constructor(){this._count=0}validateStyleProperty(t){return RI(t)}matchesElement(t,e){return NI(t,e)}containsElement(t,e){return FI(t,e)}query(t,e,n){return VI(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>jI(t));let i=`@keyframes ${e} {\n`,s="";n.forEach(t=>{s=" ";const e=parseFloat(t.offset);i+=`${s}${100*e}% {\n`,s+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${s}animation-timing-function: ${n};\n`));default:return void(i+=`${s}${e}: ${n};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(t,e,n,i,s,o=[],r){const a=o.filter(t=>t instanceof OA),l={};uO(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=hO(t,e,l));if(0==n)return new AA(t,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=mA(t,e),p=new OA(t,e,u,n,i,s,c,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}}class MA{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:pO(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class DA{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(LA().toString()),this._cssKeyframesDriver=new PA}validateStyleProperty(t){return RI(t)}matchesElement(t,e){return NI(t,e)}containsElement(t,e){return FI(t,e)}query(t,e,n){return VI(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,s,o=[],r){if(!r&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,s,o);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};s&&(a.easing=s);const l={},c=o.filter(t=>t instanceof MA);uO(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=mA(t,e=hO(t,e=e.map(t=>JI(t,!1)),l));return new MA(t,e,a,u)}}function LA(){return vI()&&Element.prototype.animate||{}}let RA=(()=>{class t extends wd{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:xt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?kd(t):t;return VA(this._renderer,null,e,"register",[n]),new NA(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(hi(Ka),hi(Tu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class NA extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new FA(this._id,t,e||{},this._renderer)}}class FA{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return VA(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function VA(t,e,n,i,s){return t.setProperty(e,`@@${n}:${i}`,s)}const jA="@",zA="@.disabled";let BA=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new HA("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(i,s,t,e.name,e)};return e.data.animation.forEach(o),new UA(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(hi(Ka),hi(gA),hi(Yc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class HA{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==jA&&e==zA?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class UA extends HA{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==jA?"."==e.charAt(1)&&e==zA?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==jA){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let s=e.substr(1),o="";return s.charAt(0)!=jA&&([s,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let $A=(()=>{class t extends gA{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(hi(Tu),hi(BI),hi(FO))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const WA=new Kn("AnimationModuleType"),qA=[{provide:wd,useClass:RA},{provide:FO,useFactory:function(){return new VO}},{provide:gA,useClass:$A},{provide:Ka,useFactory:function(t,e,n){return new BA(t,e,n)},deps:[od,gA,Yc]}],KA=[{provide:BI,useFactory:function(){return"function"==typeof LA()?new DA:new PA}},{provide:WA,useValue:"BrowserAnimations"},...qA],GA=[{provide:BI,useClass:zI},{provide:WA,useValue:"NoopAnimations"},...qA];let YA=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?GA:KA}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:KA,imports:[bd]}),t})();class QA{}class ZA{}class JA{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),s=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof JA?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new JA;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof JA?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const s=t.value;if(s){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===s.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class XA{encodeKey(t){return tP(t)}encodeValue(t){return tP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function tP(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function eP(t){return`${t}`}class nP{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new XA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const i=t.indexOf("="),[s,o]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],r=n.get(s)||[];r.push(o),n.set(s,r)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new nP({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(eP(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(eP(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class iP{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function sP(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function oP(t){return"undefined"!=typeof Blob&&t instanceof Blob}function rP(t){return"undefined"!=typeof FormData&&t instanceof FormData}class aP{constructor(t,e,n,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,s=i):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new JA),this.context||(this.context=new iP),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new nP,this.urlWithParams=e}serializeBody(){return null===this.body?null:sP(this.body)||oP(this.body)||rP(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof nP?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rP(this.body)?null:oP(this.body)?this.body.type||null:sP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nP?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,r=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new aP(n,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:s,withCredentials:r})}}var lP=(()=>((lP=lP||{})[lP.Sent=0]="Sent",lP[lP.UploadProgress=1]="UploadProgress",lP[lP.ResponseHeader=2]="ResponseHeader",lP[lP.DownloadProgress=3]="DownloadProgress",lP[lP.Response=4]="Response",lP[lP.User=5]="User",lP))();class cP{constructor(t,e=200,n="OK"){this.headers=t.headers||new JA,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class uP extends cP{constructor(t={}){super(t),this.type=lP.ResponseHeader}clone(t={}){return new uP({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class hP extends cP{constructor(t={}){super(t),this.type=lP.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new hP({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class dP extends cP{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function pP(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let fP=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof aP)i=t;else{let s,o;s=n.headers instanceof JA?n.headers:new JA(n.headers),n.params&&(o=n.params instanceof nP?n.params:new nP({fromObject:n.params})),i=new aP(t,e,void 0!==n.body?n.body:null,{headers:s,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=xf(i).pipe(Fv(t=>this.handler.handle(t)));if(t instanceof aP||"events"===n.observe)return s;const o=s.pipe(qf(t=>t instanceof hP));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(L(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(L(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(L(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(L(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new nP).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,pP(n,e))}post(t,e,n={}){return this.request("POST",t,pP(n,e))}put(t,e,n={}){return this.request("PUT",t,pP(n,e))}}return t.\u0275fac=function(e){return new(e||t)(hi(QA))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class gP{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const mP=new Kn("HTTP_INTERCEPTORS");let bP=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const wP=/^\)\]\}',?\n/;let yP=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let s=null;const o=()=>{if(null!==s)return s;const e=1223===n.status?204:n.status,i=n.statusText||"OK",o=new JA(n.getAllResponseHeaders()),r=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return s=new uP({headers:o,status:e,statusText:i,url:r}),s},r=()=>{let{headers:i,status:s,statusText:r,url:a}=o(),l=null;204!==s&&(l=void 0===n.response?n.responseText:n.response),0===s&&(s=l?200:0);let c=s>=200&&s<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(wP,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new hP({body:l,headers:i,status:s,statusText:r,url:a||void 0})),e.complete()):e.error(new dP({error:l,headers:i,status:s,statusText:r,url:a||void 0}))},a=t=>{const{url:i}=o(),s=new dP({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(s)};let l=!1;const c=i=>{l||(e.next(o()),l=!0);let s={type:lP.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(s.total=i.total),"text"===t.responseType&&n.responseText&&(s.partialText=n.responseText),e.next(s)},u=t=>{let n={type:lP.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",r),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),e.next({type:lP.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",r),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(hi(Bh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const vP=new Kn("XSRF_COOKIE_NAME"),_P=new Kn("XSRF_HEADER_NAME");class kP{}let CP=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sh(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(hi(Tu),hi(Lc),hi(vP))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),SP=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(hi(kP),hi(_P))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),xP=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(mP,[]);this.chain=t.reduceRight((t,e)=>new gP(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(hi(ZA),hi(ir))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),TP=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:SP,useClass:bP}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:vP,useValue:e.cookieName}:[],e.headerName?{provide:_P,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:[SP,{provide:mP,useExisting:SP,multi:!0},{provide:kP,useClass:CP},{provide:vP,useValue:"XSRF-TOKEN"},{provide:_P,useValue:"X-XSRF-TOKEN"}]}),t})(),EP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:[fP,{provide:QA,useClass:xP},yP,{provide:ZA,useExisting:yP}],imports:[[TP.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function IP(t,e,n,i,s,o,r){try{var a=t[o](r),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(i,s)}function OP(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var o=t.apply(e,n);function r(t){IP(o,i,s,r,a,"next",t)}function a(t){IP(o,i,s,r,a,"throw",t)}r(void 0)})}}class AP{constructor(t){null!=t&&(this.ConnectWCFon=t.ConnectWCFon,this.ReestrEnabled=t.ReestrEnabled,this.TypePriem=t.TypePriem,this.WithSing=t.WithSing,this.CODE_MO=t.CODE_MO,this.NAME_OK=t.NAME_OK,this.FileList=t.FileList.map(t=>new MP(t)))}get IsActive(){return this.ConnectWCFon&&this.ReestrEnabled}}class PP{constructor(t){null!=t&&(this.ID=t.ID,this.STATUS=t.STATUS,this.STATUS_NAME=t.STATUS_NAME,this.FILENAME=t.FILENAME,this.TYPE_FILE=null!=t.TYPE_FILE?t.TYPE_FILE:null,this.TYPE_FILE_NAME=t.TYPE_FILE_NAME,this.COMENT=t.COMENT)}}class MP extends PP{constructor(t){null!=t&&(super(t),this.FILE_L=null!=t.FILE_L?new PP(t.FILE_L):null)}}var DP=(()=>(function(t){t[t.NOT_INVITE=0]="NOT_INVITE",t[t.INVITE=1]="INVITE",t[t.XML_VALID=2]="XML_VALID",t[t.XML_NOT_VALID=3]="XML_NOT_VALID"}(DP||(DP={})),DP))();class LP{constructor(t){null!=t&&(this.Error=t.Error,this.ErrorT=t.ErrorT)}}var RP=(()=>(function(t){t[t.Text=0]="Text",t[t.Error=1]="Error"}(RP||(RP={})),RP))(),NP=(()=>(function(t){t[t.H=0]="H",t[t.T=1]="T",t[t.DP=2]="DP",t[t.DV=3]="DV",t[t.DO=4]="DO",t[t.DS=5]="DS",t[t.DU=6]="DU",t[t.DF=7]="DF",t[t.DD=8]="DD",t[t.DR=9]="DR",t[t.LH=10]="LH",t[t.LT=11]="LT",t[t.LP=12]="LP",t[t.LV=13]="LV",t[t.LO=14]="LO",t[t.LS=15]="LS",t[t.LU=16]="LU",t[t.LF=17]="LF",t[t.LD=18]="LD",t[t.LR=19]="LR",t[t.C=20]="C",t[t.LC=21]="LC",t[t.DA=22]="DA",t[t.DB=23]="DB",t[t.LA=24]="LA",t[t.LB=25]="LB"}(NP||(NP={})),NP))();class FP{constructor(t){this.FP=null,null!=t&&(this.ConnectWCFon=t.ConnectWCFon,null!=t.FP&&(this.FP=new VP(t.FP)))}}class VP{constructor(t){null!=t&&(this.CodeMO=t.CodeMO,this.CaptionMO=t.CaptionMO,this.Date=t.Date,this.IST=t.IST,this.Order=t.Order,this.WARNNING=t.WARNNING,this.isResult=t.isResult,this.Status=t.Status,this.FileList=t.FileList.map(t=>new zP(t)))}get HasWarning(){return null!==this.WARNNING&&""!==this.WARNNING}}class jP{constructor(t){null!=t&&(this.Comment=t.Comment,this.FileName=t.FileName,this.TYPE_NAME=t.TYPE_NAME,this.Type=null!=t.Type?t.Type:null,this.Process=t.Process)}}class zP extends jP{constructor(t){null!=t&&(super(t),this.FILE_L=null!=t.FILE_L?new jP(t.FILE_L):null)}}var BP=(()=>(function(t){t[t.MAIL=1]="MAIL",t[t.SITE=2]="SITE"}(BP||(BP={})),BP))(),HP=(()=>(function(t){t[t.Open=0]="Open",t[t.Close=1]="Close",t[t.XMLSchemaOK=2]="XMLSchemaOK",t[t.FLKOK=3]="FLKOK",t[t.FLKERR=4]="FLKERR"}(HP||(HP={})),HP))(),UP=(()=>(function(t){t[t.NotInvite=0]="NotInvite",t[t.Invite=1]="Invite",t[t.XMLxsd=2]="XMLxsd",t[t.ErrorXMLxsd=3]="ErrorXMLxsd",t[t.FlkOk=4]="FlkOk",t[t.FlkErr=5]="FlkErr"}(UP||(UP={})),UP))();class $P{constructor(t){null!==t&&(this.Sections=t.Sections.map(t=>new WP(t)),this.Top30=t.Top30.map(t=>new qP(t)))}}class WP{constructor(t){this.Errors=[],null!==t&&(this.SECTION_NAME=t.SECTION_NAME,this.ID_SECTION=t.ID_SECTION,null!=t.Errors&&(this.Errors=t.Errors.map(t=>new qP(t))))}}class qP{constructor(t){this.OSN_TFOMS="",this.EXAMPLE="",this.ID_ERR=null,this.TEXT="",this.ID_SECTION=null,this.D_BEGIN=null,this.D_END=null,null!==t&&(this.D_EDIT=t.D_EDIT,this.OSN_TFOMS=t.OSN_TFOMS,this.EXAMPLE=t.EXAMPLE,this.ID_ERR=t.ID_ERR,this.TEXT=t.TEXT,this.ID_SECTION=t.ID_SECTION,null!=t.D_BEGIN&&(this.D_BEGIN=new Date(t.D_BEGIN)),null!=t.D_END&&(this.D_END=new Date(t.D_END)),this.IsMEK=t.ISMEK)}}let KP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),GP=(()=>{class t{constructor(){this.defaultFetchParam={credentials:"same-origin"},this.FileListToFormData=t=>{const e=new FormData;for(let n=0;n<t.length;n++)e.append(`file_${n}`,t[n]);return e},this.makeRequest=(t,e,n,i)=>new Promise((s,o)=>{const r=new XMLHttpRequest;r.upload.onprogress=t=>{i(t)},r.open(t,e),r.onload=function(){this.status>=200&&this.status<300?s(JSON.parse(r.response)):o(new Error(`${this.status}-${r.statusText}`))},r.onerror=function(){o({status:this.status,statusText:r.statusText})},r.send(n)})}RemoveErrorSPR(t){var e=this;return OP(function*(){const n=new FormData;n.append("ID_ERR",t.toString());const i=yield e.createFetch("../RemoveErrorSPR","POST",n);if(i.ok){const t=yield i.json();if(t.Result)return;throw new Error(t.Value)}throw new Error(`${i.status}: ${i.statusText}`)})()}convertToString(t){return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}ErrorSprToFormData(t){const e=new FormData;return null!=t.ID_ERR&&e.append("ID_ERR",t.ID_ERR.toString()),e.append("OSN_TFOMS",t.OSN_TFOMS),null!=t.ID_SECTION&&e.append("ID_SECTION",t.ID_SECTION.toString()),e.append("D_EDIT",this.convertToString(new Date)),e.append("EXAMPLE",t.EXAMPLE),e.append("TEXT",t.TEXT),null!==t.D_BEGIN&&e.append("D_BEGIN",this.convertToString(t.D_BEGIN)),null!==t.D_END&&e.append("D_END",this.convertToString(t.D_END)),e.append("ISMEK",t.IsMEK?"True":"False"),e}EditErrorSPR(t){var e=this;return OP(function*(){const n=yield e.createFetch("../EditErrorSPR","POST",e.ErrorSprToFormData(t));if(n.ok){const t=yield n.json();return t.Result?[]:t.Value}throw new Error(`${n.status}: ${n.statusText}`)})()}AddErrorSPR(t){var e=this;return OP(function*(){const n=yield e.createFetch("../AddErrorSPR","POST",e.ErrorSprToFormData(t));if(n.ok){const t=yield n.json();return t.Result?[]:t.Value}throw new Error(`${n.status}: ${n.statusText}`)})()}getSections(){var t=this;return OP(function*(){const e=yield t.createFetch("../GetSections");if(e.ok){const t=yield e.json();if(t.Result)return t.Value.map(t=>new WP(t));throw new Error(t.Value)}throw new Error(`${e.status}: ${e.statusText}`)})()}getError(t){var e=this;return OP(function*(){const n=yield e.createFetch(`../GetError?ID_ERR=${t}`);if(n.ok){const t=yield n.json();if(t.Result)return new qP(t.Value);throw new Error(t.Value)}throw new Error(`${n.status}: ${n.statusText}`)})()}getErrorSPR(t){var e=this;return OP(function*(){const n=yield e.createFetch(`../ErrorList?isShowClose=${t}`);if(n.ok){const t=yield n.json();if(t.Result)return new $P(t.Value);throw new Error(t.Value)}throw new Error(`${n.status}: ${n.statusText}`)})()}getLoadReestViewModelAsync(){var t=this;return OP(function*(){const e=yield t.createFetch("../GetLoadReestrModel");if(e.ok){const t=yield e.json();if(t.Result)return new AP(t.Value);throw new Error(t.Value)}throw new Error(`${e.status}: ${e.statusText}`)})()}SendFiles(t,e){var n=this;return OP(function*(){return(yield n.makeRequest("POST","../Upload",n.FileListToFormData(t),e)).Value.map(t=>new LP(t))})()}ClearFiles(){var t=this;return OP(function*(){const e=yield t.createFetch("../Clear","POST");if(e.ok){const t=yield e.json();if(t.Result)return;throw new Error(t.Value)}throw new Error(`${e.status}: ${e.statusText}`)})()}DeleteFile(t){var e=this;return OP(function*(){const n=new FormData;n.append("ID",t.toString());const i=yield e.createFetch("../DeleteFile","POST",n);if(i.ok){const t=yield i.json();if(t.Result)return;throw new Error(t.Value)}throw new Error(`${i.status}: ${i.statusText}`)})()}Send(){var t=this;return OP(function*(){const e=yield t.createFetch("../Send","POST");if(e.ok){const t=yield e.json();return t.Result?[]:t.Value.map(t=>new LP(t))}throw new Error(`${e.status}: ${e.statusText}`)})()}createFetch(t,e="GET",n=null){return fetch(t,{credentials:"same-origin",method:e,body:n})}getViewReestViewModelAsync(){var t=this;return OP(function*(){const e=yield t.createFetch("../GetViewReestrModel");if(e.ok){const t=yield e.json();if(t.Result)return new FP(t.Value);throw new Error(t.Value)}throw new Error(`${e.status}: ${e.statusText}`)})()}getProtocolAsync(){var t=this;return OP(function*(){const e=yield t.createFetch("../DownloadProtocol");if(e.ok){const t=yield e.json();if(t.Result)return t.Value;throw new Error(t.Value)}throw new Error(`${e.status}: ${e.statusText}`)})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),YP=(()=>{class t{constructor(t){this.location=t,this.getParameter=t=>{var e=new URL(document.URL);return encodeURI(e.searchParams.get(t))}}changeParameter(t,e){const n=this.location.path().split("?");this.location.replaceState(`${n[0]}/?${t}=${e}`)}}return t.\u0275fac=function(e){return new(e||t)(hi(Bu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const QP=["headerchkbox"];function ZP(t,e){1&t&&Mr(0)}function JP(t,e){if(1&t&&(Er(0,"div",6),Hr(1),kr(2,ZP,1,0,"ng-container",7),Ir()),2&t){const t=jr();Ws(2),xr("ngTemplateOutlet",t.headerTemplate)}}const XP=function(t){return{"p-checkbox-disabled":t}},tM=function(t,e,n){return{"p-highlight":t,"p-focus":e,"p-disabled":n}},eM=function(t){return{"pi pi-check":t}};function nM(t,e){if(1&t){const t=Dr();Er(0,"div",10),Er(1,"div",11),Er(2,"input",12),Nr("focus",function(){return Me(t),jr(2).onHeaderCheckboxFocus()})("blur",function(){return Me(t),jr(2).onHeaderCheckboxBlur()})("keydown.space",function(e){return Me(t),jr(2).toggleAll(e)}),Ir(),Ir(),Er(3,"div",13,14),Nr("click",function(e){return Me(t),jr(2).toggleAll(e)}),Or(5,"span",15),Ir(),Ir()}if(2&t){const t=jr(2);xr("ngClass",Wl(5,XP,t.disabled||t.toggleAllDisabled)),Ws(2),xr("checked",t.allChecked),_r("disabled",t.disabled||t.toggleAllDisabled),Ws(1),xr("ngClass",Kl(7,tM,t.allChecked,t.headerCheckboxFocus,t.disabled||t.toggleAllDisabled)),Ws(2),xr("ngClass",Wl(11,eM,t.allChecked))}}function iM(t,e){if(1&t){const t=Dr();Er(0,"div",16),Er(1,"input",17),Nr("input",function(e){return Me(t),jr(2).onFilter(e)}),Ir(),Or(2,"span",18),Ir()}if(2&t){const t=jr(2);Ws(1),xr("value",t.filterValue||"")("disabled",t.disabled),_r("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel)}}function sM(t,e){if(1&t&&(Er(0,"div",6),kr(1,nM,6,13,"div",8),kr(2,iM,3,4,"div",9),Ir()),2&t){const t=jr();Ws(1),xr("ngIf",t.checkbox&&t.multiple&&t.showToggleAll),Ws(1),xr("ngIf",t.filter)}}function oM(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr().$implicit,e=jr(2);Ws(1),wa(e.getOptionGroupLabel(t)||"empty")}}function rM(t,e){1&t&&Mr(0)}function aM(t,e){1&t&&Mr(0)}const lM=function(t){return{$implicit:t}};function cM(t,e){if(1&t&&(Er(0,"li",20),kr(1,oM,2,1,"span",3),kr(2,rM,1,0,"ng-container",21),Ir(),kr(3,aM,1,0,"ng-container",21)),2&t){const t=e.$implicit,n=jr(2),i=Cr(8);Ws(1),xr("ngIf",!n.groupTemplate),Ws(1),xr("ngTemplateOutlet",n.groupTemplate)("ngTemplateOutletContext",Wl(5,lM,t)),Ws(1),xr("ngTemplateOutlet",i)("ngTemplateOutletContext",Wl(7,lM,n.getOptionGroupChildren(t)))}}function uM(t,e){if(1&t&&(Ar(0),kr(1,cM,4,9,"ng-template",19),Pr()),2&t){const t=jr();Ws(1),xr("ngForOf",t.optionsToRender)}}function hM(t,e){1&t&&Mr(0)}function dM(t,e){if(1&t&&(Ar(0),kr(1,hM,1,0,"ng-container",21),Pr()),2&t){const t=jr(),e=Cr(8);Ws(1),xr("ngTemplateOutlet",e)("ngTemplateOutletContext",Wl(2,lM,t.optionsToRender))}}const pM=function(t){return{"p-highlight":t}};function fM(t,e){if(1&t&&(Er(0,"div",10),Er(1,"div",25),Or(2,"span",15),Ir(),Ir()),2&t){const t=jr().$implicit,e=jr(2);xr("ngClass",Wl(3,XP,e.disabled||e.isOptionDisabled(t))),Ws(1),xr("ngClass",Wl(5,pM,e.isSelected(t))),Ws(1),xr("ngClass",Wl(7,eM,e.isSelected(t)))}}function gM(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr().$implicit,e=jr(2);Ws(1),wa(e.getOptionLabel(t))}}function mM(t,e){1&t&&Mr(0)}const bM=function(t,e){return{"p-listbox-item":!0,"p-highlight":t,"p-disabled":e}},wM=function(t,e){return{$implicit:t,index:e}};function yM(t,e){if(1&t){const t=Dr();Er(0,"li",24),Nr("click",function(e){const n=Me(t).$implicit;return jr(2).onOptionClick(e,n)})("dblclick",function(e){const n=Me(t).$implicit;return jr(2).onOptionDoubleClick(e,n)})("touchend",function(){const e=Me(t).$implicit;return jr(2).onOptionTouchEnd(e)})("keydown",function(e){const n=Me(t).$implicit;return jr(2).onOptionKeyDown(e,n)}),kr(1,fM,3,9,"div",8),kr(2,gM,2,1,"span",3),kr(3,mM,1,0,"ng-container",21),Ir()}if(2&t){const t=e.$implicit,n=e.index,i=jr(2);xr("ngClass",ql(8,bM,i.isSelected(t),i.isOptionDisabled(t))),_r("tabindex",i.disabled||i.isOptionDisabled(t)?null:"0")("aria-label",i.getOptionLabel(t))("aria-selected",i.isSelected(t)),Ws(1),xr("ngIf",i.checkbox&&i.multiple),Ws(1),xr("ngIf",!i.itemTemplate),Ws(1),xr("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",ql(11,wM,t,n))}}function vM(t,e){if(1&t&&(Ar(0),ba(1),Pr()),2&t){const t=jr(3);Ws(1),ya(" ",t.emptyFilterMessageLabel," ")}}function _M(t,e){1&t&&Mr(0,null,28)}function kM(t,e){if(1&t&&(Er(0,"li",26),kr(1,vM,2,1,"ng-container",27),kr(2,_M,2,0,"ng-container",7),Ir()),2&t){const t=jr(2);Ws(1),xr("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),Ws(1),xr("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function CM(t,e){if(1&t&&(Ar(0),ba(1),Pr()),2&t){const t=jr(3);Ws(1),ya(" ",t.emptyMessageLabel," ")}}function SM(t,e){1&t&&Mr(0,null,29)}function xM(t,e){if(1&t&&(Er(0,"li",26),kr(1,CM,2,1,"ng-container",27),kr(2,SM,2,0,"ng-container",7),Ir()),2&t){const t=jr(2);Ws(1),xr("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),Ws(1),xr("ngTemplateOutlet",t.emptyTemplate)}}function TM(t,e){if(1&t&&(kr(0,yM,4,14,"li",22),kr(1,kM,3,3,"li",23),kr(2,xM,3,3,"li",23)),2&t){const t=e.$implicit,n=jr();xr("ngForOf",t),Ws(1),xr("ngIf",n.hasFilter()&&n.isEmpty(t)),Ws(1),xr("ngIf",!n.hasFilter()&&n.isEmpty(t))}}function EM(t,e){1&t&&Mr(0)}function IM(t,e){if(1&t&&(Er(0,"div",30),Hr(1,1),kr(2,EM,1,0,"ng-container",7),Ir()),2&t){const t=jr();Ws(2),xr("ngTemplateOutlet",t.footerTemplate)}}const OM=[[["p-header"]],[["p-footer"]]],AM=function(t){return{"p-listbox p-component":!0,"p-disabled":t}},PM=["p-header","p-footer"],MM={provide:Tp,useExisting:it(()=>DM),multi:!0};let DM=(()=>{class t{constructor(t,e,n,i){this.el=t,this.cd=e,this.filterService=n,this.config=i,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new lc,this.onClick=new lc,this.onDblClick=new lc,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(t){this._options=t,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;default:this.itemTemplate=t.template}})}getOptionLabel(t){return this.optionLabel?Md.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?Md.resolveFieldData(t,this.optionGroupChildren):t.items}getOptionGroupLabel(t){return this.optionGroupLabel?Md.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?Md.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}isOptionDisabled(t){return this.optionDisabled?Md.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionClick(t,e){this.disabled||this.isOptionDisabled(e)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(t,e):this.onOptionClickMultiple(t,e):this.onOptionClickSingle(t,e),this.onClick.emit({originalEvent:t,option:e,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(t){this.disabled||this.isOptionDisabled(t)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(t,e){this.disabled||this.isOptionDisabled(e)||this.readonly||this.onDblClick.emit({originalEvent:t,option:e,value:this.value})}onOptionClickSingle(t,e){let n=this.isSelected(e),i=!1;if(!this.optionTouched&&this.metaKeySelection){let s=t.metaKey||t.ctrlKey;n?s&&(this.value=null,i=!0):(this.value=this.getOptionValue(e),i=!0)}else this.value=n?null:this.getOptionValue(e),i=!0;i&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}onOptionClickMultiple(t,e){let n=this.isSelected(e),i=!1;if(!this.optionTouched&&this.metaKeySelection){let s=t.metaKey||t.ctrlKey;n?(s?this.removeOption(e):this.value=[this.getOptionValue(e)],i=!0):(this.value=s&&this.value||[],this.value=[...this.value,this.getOptionValue(e)],i=!0)}else n?this.removeOption(e):this.value=[...this.value||[],this.getOptionValue(e)],i=!0;i&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}onOptionClickCheckbox(t,e){this.disabled||this.readonly||(this.isSelected(e)?this.removeOption(e):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(e)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}removeOption(t){this.value=this.value.filter(e=>!Md.equals(e,this.getOptionValue(t),this.dataKey))}isSelected(t){let e=!1,n=this.getOptionValue(t);if(this.multiple){if(this.value)for(let i of this.value)if(Md.equals(i,n,this.dataKey)){e=!0;break}}else e=Md.equals(this.value,n,this.dataKey);return e}get allChecked(){let t=this.optionsToRender;if(t&&0!==t.length){let e=0,n=0,i=0,s=this.group?0:this.optionsToRender.length;for(let o of t)if(this.group)for(let t of this.getOptionGroupChildren(o)){let o=this.isOptionDisabled(t),r=this.isSelected(t);if(o)r?e++:n++;else{if(!r)return!1;i++}s++}else{let t=this.isOptionDisabled(o),s=this.isSelected(o);if(t)s?e++:n++;else{if(!s)return!1;i++}}return s===e||s===i||i&&s===i+n+e}return!1}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Vd.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Vd.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(t){return!t||t&&0===t.length}onFilter(t){this._filterValue=t.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let t=(this.optionLabel||"label").split(","),e=[];for(let n of this.options){let i=this.filterService.filter(this.getOptionGroupChildren(n),t,this.filterValue,this.filterMatchMode,this.filterLocale);i&&i.length&&e.push(Object.assign(Object.assign({},n),{[this.optionGroupChildren]:i}))}this._filteredOptions=e}else this._filteredOptions=this._options.filter(t=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(t),this._filterValue,this.filterLocale));else this._filteredOptions=null}get toggleAllDisabled(){let t=this.optionsToRender;if(t&&0!==t.length){for(let e of t)if(!this.isOptionDisabled(e))return!1;return!0}return!0}toggleAll(t){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),t.preventDefault())}checkAll(){let t=[];this.optionsToRender.forEach(e=>{if(this.group){let n=this.getOptionGroupChildren(e);n&&n.forEach(e=>{let n=this.isOptionDisabled(e);(!n||n&&this.isSelected(e))&&t.push(this.getOptionValue(e))})}else{let n=this.isOptionDisabled(e);(!n||n&&this.isSelected(e))&&t.push(this.getOptionValue(e))}}),this.value=t}uncheckAll(){let t=[];this.optionsToRender.forEach(e=>{this.group?e.items&&e.items.forEach(e=>{this.isOptionDisabled(e)&&this.isSelected(e)&&t.push(this.getOptionValue(e))}):this.isOptionDisabled(e)&&this.isSelected(e)&&t.push(this.getOptionValue(e))}),this.value=t}onOptionKeyDown(t,e){if(this.readonly)return;let n=t.currentTarget;switch(t.which){case 40:var i=this.findNextItem(n);i&&i.focus(),t.preventDefault();break;case 38:var s=this.findPrevItem(n);s&&s.focus(),t.preventDefault();break;case 13:this.onOptionClick(t,e),t.preventDefault()}}findNextItem(t){let e=t.nextElementSibling;return e?Ad.hasClass(e,"p-disabled")||Ad.isHidden(e)||Ad.hasClass(e,"p-listbox-item-group")?this.findNextItem(e):e:null}findPrevItem(t){let e=t.previousElementSibling;return e?Ad.hasClass(e,"p-disabled")||Ad.isHidden(e)||Ad.hasClass(e,"p-listbox-item-group")?this.findPrevItem(e):e:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Sr(Wa),Sr(bl),Sr(jd),Sr(Fd))},t.\u0275cmp=Bt({type:t,selectors:[["p-listbox"]],contentQueries:function(t,e,n){if(1&t&&(kc(n,Hd,5),kc(n,Ud,5),kc(n,$d,4)),2&t){let t;vc(t=Cc())&&(e.headerFacet=t.first),vc(t=Cc())&&(e.footerFacet=t.first),vc(t=Cc())&&(e.templates=t)}},viewQuery:function(t,e){if(1&t&&_c(QP,5),2&t){let t;vc(t=Cc())&&(e.headerCheckboxViewChild=t.first)}},inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[Va([MM])],ngContentSelectors:PM,decls:10,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox","aria-multiselectable","multiple",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["class","p-listbox-empty-message",4,"ngIf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],[4,"ngIf","ngIfElse"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(t,e){1&t&&(Br(OM),Er(0,"div",0),kr(1,JP,3,1,"div",1),kr(2,sM,3,2,"div",1),Er(3,"div",0),Er(4,"ul",2),kr(5,uM,2,1,"ng-container",3),kr(6,dM,2,4,"ng-container",3),kr(7,TM,3,3,"ng-template",null,4,Ec),Ir(),Ir(),kr(9,IM,3,1,"div",5),Ir()),2&t&&(sa(e.styleClass),xr("ngClass",Wl(13,AM,e.disabled))("ngStyle",e.style),Ws(1),xr("ngIf",e.headerFacet||e.headerTemplate),Ws(1),xr("ngIf",e.checkbox&&e.multiple&&e.showToggleAll||e.filter),Ws(1),sa(e.listStyleClass),xr("ngClass","p-listbox-list-wrapper")("ngStyle",e.listStyle),Ws(2),xr("ngIf",e.group),Ws(1),xr("ngIf",!e.group),Ws(3),xr("ngIf",e.footerFacet||e.footerTemplate))},directives:[xh,Mh,Oh,Dh,Eh,Gd],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-listbox-header,.p-listbox-item{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}"],encapsulation:2,changeDetection:0}),t})(),LM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,Wd,Yd],Wd]}),t})(),RM=(()=>{class t{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["p-progressSpinner"]],inputs:{style:"style",styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(t,e){1&t&&(Er(0,"div",0),rn(),Er(1,"svg",1),Or(2,"circle",2),Ir(),Ir()),2&t&&(xr("ngStyle",e.style)("ngClass",e.styleClass),Ws(1),ta("animation-duration",e.animationDuration),Ws(1),_r("fill",e.fill)("stroke-width",e.strokeWidth))},directives:[Mh,xh],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(1turn)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{0%,to{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}'],encapsulation:2,changeDetection:0}),t})(),NM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh]]}),t})(),FM=(()=>{class t{constructor(){this.onLoading=new lc}get isLoad(){return this._isLoad}set isLoad(t){this._isLoad=t,this.onLoading.emit(this.isLoad)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["base-report"]],outputs:{onLoading:"onLoading"},decls:1,vars:0,template:function(t,e){1&t&&Or(0,"div")},encapsulation:2}),t})();const VM=function(){return{width:"90vw"}};let jM=(()=>{class t{constructor(){this.display=!1}ShowDialog(){this.display=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["Instruction-Dialog"]],decls:157,vars:5,consts:[["header","\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u043f\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u0432",3,"visible","modal","visibleChange"],[2,"font-size","14px"],["href","#id1",1,"TFOMS_A"],["href","#id2",1,"TFOMS_A"],["href","#id3",1,"TFOMS_A"],["id","id1",2,"text-align","center"],[1,"BoldText"],[2,"text-align","center"],["align","middle","src","../../InstructionSource/InstuctionImage1.png","alt","",1,"ImageCenter"],[1,"GreenText"],[1,"RedText"],[1,"YellowText"],["href","#FILENAME",1,"snos"],["id","FILENAME",1,"BoldText"],["id","id2",2,"text-align","center"],["src","../../InstructionSource/InstuctionImage2.png",1,"ImageCenter"],[1,"TextCursiv"],["id","id3",2,"text-align","center"]],template:function(t,e){1&t&&(Er(0,"p-dialog",0),Nr("visibleChange",function(t){return e.display=t}),Er(1,"section",1),Er(2,"p"),ba(3,"\u0414\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u0430\u0447\u0435\u0439 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u0432 \u043e\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u043f\u043e\u043c\u043e\u0449\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438:"),Ir(),Er(4,"p"),ba(5," 1) "),Er(6,"a",2),ba(7,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432"),Ir(),Ir(),Er(8,"p"),ba(9," 2) "),Er(10,"a",3),ba(11,"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),Ir(),Ir(),Er(12,"p"),ba(13," 3) "),Er(14,"a",4),ba(15,"\u041f\u043e\u0434\u043f\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u0432"),Ir(),Ir(),Er(16,"h2",5),Er(17,"span",6),ba(18," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432"),Ir(),Ir(),Er(19,"div",7),Or(20,"img",8),Ir(),Er(21,"p"),ba(22,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u043e\u0432 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e:"),Ir(),Er(23,"ul"),Er(24,"li"),ba(25," \u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u0440\u0438\u0435\u043c\u0430: "),Er(26,"span",9),ba(27,"\u0410\u043a\u0442\u0438\u0432\u043d\u043e"),Ir(),ba(28," \u0438\u043b\u0438 "),Er(29,"span",10),ba(30,"\u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u043e"),Ir(),ba(31,"; "),Ir(),Er(32,"li"),ba(33,"\u0422\u0438\u043f \u043f\u0440\u0438\u0435\u043c\u0430: "),Er(34,"span",9),ba(35,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439"),Ir(),ba(36," \u0438\u043b\u0438 "),Er(37,"span",11),ba(38,"\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439"),Ir(),ba(39," \u2013 \u0422\u0438\u043f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u0440\u0438\u0435\u043c\u0430, \u0432\u0441\u0435 \u0440\u0435\u0435\u0441\u0442\u0440\u044b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0435 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u0435\u043c\u0430 \u0443\u0434\u0430\u043b\u044f\u044e\u0442\u0441\u044f, \u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u0435\u043c\u0430"),Ir(),Er(40,"li"),ba(41,"\u0412\u0430\u0448 \u0420\u0435\u0435\u0441\u0442\u0440\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u2013 \u0420\u0435\u0435\u0441\u0442\u0440\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0443 "),Er(42,"span",6),ba(43,"F003"),Ir(),Ir(),Er(44,"li"),ba(45,"\u0412\u0430\u0448\u0430 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u2013 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0443 "),Er(46,"span",6),ba(47,"F003"),Ir(),Ir(),Ir(),Er(48,"small"),ba(49,"\u041e\u0431\u0440\u0430\u0449\u0430\u0435\u043c \u0412\u0430\u0448\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u043f\u0440\u0438\u0435\u043c \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0435\u043d \u041f\u0440\u0438 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u043f\u0440\u0438\u0435\u043c\u0435 \u0432\u044b \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443, \u043d\u043e \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438\u0435\u043c \u0431\u0443\u0434\u0435\u0442 \u0432\u043a\u043b\u044e\u0447\u0435\u043d."),Ir(),Er(50,"p"),ba(51,"\u041a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f:"),Ir(),Er(52,"ul"),Er(53,"li"),ba(54,"\u0444\u0430\u0439\u043b\u044b \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u0432 XML \u0438\u043b\u0438 ZIP, \u043f\u0440\u0438\u0447\u0435\u043c \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u0440\u0445\u0438\u0432\u044b \u0431\u0443\u0434\u0443\u0442 \u0438\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u044b. \u0414\u0440\u0443\u0433\u0438\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u044b \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u044e\u0442\u0441\u044f."),Ir(),Er(55,"li"),ba(56,"\u0424\u0430\u0439\u043b\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0438\u043c\u0435\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),Er(57,"a",12),ba(58,"[1]"),Ir(),ba(59,";"),Ir(),Er(60,"li"),ba(61,"\u041a\u0430\u0436\u0434\u044b\u0439 \u0444\u0430\u0439\u043b \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0444\u0430\u0439\u043b \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445;"),Ir(),Er(62,"li"),ba(63,"\u041a\u043e\u0434 \u041c\u041e \u0432 \u0444\u0430\u0439\u043b\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0420\u0435\u0435\u0441\u0442\u0440\u043e\u0432\u043e\u043c\u0443 \u043d\u043e\u043c\u0435\u0440\u0443 \u0412\u0430\u0448\u0435\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438."),Ir(),Ir(),Er(64,"p"),ba(65,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0443\u0442\u0435\u043c \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 "),Er(66,"span",6),ba(67,"\xab\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432\xbb"),Ir(),ba(68," \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u0435\u043c \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0430 \u043d\u0435\u0435."),Ir(),Er(69,"p"),ba(70,"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 "),Er(71,"span",6),ba(72,"\xab\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443\xbb"),Ir(),Ir(),Or(73,"h2"),Er(74,"p",13),ba(75," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432 "),Ir(),Er(76,"p",6),ba(77,"[Ti][Pi][Ni][Pp][Np]_[YY][MM][N].xml \u0433\u0434\u0435"),Ir(),Er(78,"ul"),Er(79,"li"),Er(80,"span",6),ba(81,"[Ti]"),Ir(),ba(82," \u2013 \u0422\u0438\u043f \u0444\u0430\u0439\u043b\u0430"),Ir(),Er(83,"li"),Er(84,"span",6),ba(85,"[Pi]"),Ir(),ba(86," - \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0449\u0438\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e \u2013 \u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a(T \u2013 \u0422\u0424\u041e\u041c\u0421, S \u2013 \u0421\u041c\u041e, M - \u041c\u041e);"),Ir(),Er(87,"li"),Er(88,"span",6),ba(89,"[Ni]"),Ir(),ba(90," \u2013 \u041d\u043e\u043c\u0435\u0440 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430(\u0440\u0435\u0435\u0441\u0442\u0440\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u041c\u041e);"),Ir(),Er(91,"li"),Er(92,"span",6),ba(93,"[Pp]"),Ir(),ba(94,"-\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0449\u0438\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e \u2013 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f(T \u2013 \u0422\u0424\u041e\u041c\u0421, S \u2013 \u0421\u041c\u041e, M - \u041c\u041e);"),Ir(),Er(95,"li"),Er(96,"span",6),ba(97,"[Np]"),Ir(),ba(98," \u2013 \u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f;"),Ir(),Er(99,"li"),Er(100,"span",6),ba(101,"[YY]"),Ir(),ba(102," \u2013 \u0414\u0432\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0446\u0438\u0444\u0440\u044b \u043f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u043e\u0433\u043e \u043d\u043e\u043c\u0435\u0440 \u0433\u043e\u0434\u0430 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430;"),Ir(),Er(103,"li"),Er(104,"span",6),ba(105,"[MM]"),Ir(),ba(106," \u2013 \u043f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043c\u0435\u0441\u044f\u0446\u0430 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430;"),Ir(),Er(107,"li"),Er(108,"span",6),ba(109,"[N]"),Ir(),ba(110," \u2013 \u043f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u043a\u0435\u0442\u0430."),Ir(),Ir(),Or(111,"h2"),Er(112,"h2",14),Er(113,"span"),ba(114,"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),Ir(),Ir(),Er(115,"div",7),Or(116,"img",15),Ir(),Er(117,"p"),ba(118,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u0430\u043a\u0435\u0442, \u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0439 \u0432 \u0422\u0424\u041e\u041c\u0421 \u0417\u0430\u0431\u0430\u0439\u043a\u0430\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u0440\u0430\u044f"),Ir(),Er(119,"p"),ba(120,"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0430\u043a\u0435\u0442 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u0438\u043d\u044f\u0442 \u043a\u0430\u043a \u0441 \u0441\u0430\u0439\u0442\u0430, \u0442\u0430\u043a \u0438 \u0441 \u043f\u043e\u0447\u0442\u044b \xabVipNet\xbb"),Ir(),Or(121,"h2"),Er(122,"p"),ba(123,"\u041e\u043a\u043d\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e:"),Ir(),Er(124,"ul"),Er(125,"li"),ba(126,"\u041a\u043e\u0434 \u041c\u041e \u2013 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0443 F003;"),Ir(),Er(127,"li"),ba(128,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u041c\u041e \u2013 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0443 F003;"),Ir(),Er(129,"li"),ba(130,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u2013 \u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u043a\u0435\u0442\u0430 \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443;"),Ir(),Er(131,"li"),ba(132,"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u2013 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u0430 (\u0421\u0430\u0439\u0442, \u041f\u043e\u0447\u0442\u0430);"),Ir(),Er(133,"li"),ba(134,"\u0421\u0442\u0430\u0442\u0443\u0441 \u2013 \u0428\u0430\u0433 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u0430\u043a\u0435\u0442\u0430(\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e, \u0412 \u0440\u0430\u0431\u043e\u0442\u0435,\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435);"),Ir(),Er(135,"li"),ba(136,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u2013 \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f;"),Ir(),Er(137,"li"),ba(138,"\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u2013 \u043f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443."),Ir(),Ir(),Er(139,"p"),ba(140,"\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 "),Er(141,"span",6),ba(142,"\xab\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\xbb"),Ir(),Ir(),Er(143,"p",16),ba(144,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 "),Er(145,"span",6),ba(146,"\u043d\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438"),Ir(),ba(147,", \u0434\u043b\u044f \u0430\u043a\u0442\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438\u043b\u0438 \u043d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 "),Er(148,"span",6),ba(149,"\xab\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\xbb"),Ir(),Ir(),Er(150,"p",16),ba(151,"\u041e\u0431\u0440\u0430\u0449\u0430\u0435\u043c \u0412\u0430\u0448\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0447\u0435\u0440\u0435\u0437 \u0421\u0430\u0439\u0442 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b \u043d\u0435 \u0432\u044b\u0441\u044b\u043b\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043f\u043e\u0447\u0442\u0443 \xabVipNet\xbb"),Ir(),Er(152,"h2",17),Er(153,"span",6),ba(154," \u041f\u043e\u0434\u043f\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u0432"),Ir(),Ir(),Er(155,"p"),ba(156,"\u041c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d"),Ir(),Ir(),Ir()),2&t&&(na($l(4,VM)),xr("visible",e.display)("modal",!0))},directives:[_p],encapsulation:2}),t})();function zM(t,e){1&t&&Or(0,"div",3)}function BM(t,e){1&t&&Or(0,"div",4)}const HM=["*"];let UM=(()=>{class t{constructor(){this.isLoad=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["Content-Load"]],inputs:{isLoad:"isLoad"},ngContentSelectors:HM,decls:5,vars:2,consts:[[1,"Loader"],["class","Fon",4,"ngIf"],["class","lds-hourglass",4,"ngIf"],[1,"Fon"],[1,"lds-hourglass"]],template:function(t,e){1&t&&(Br(),Er(0,"div",0),kr(1,zM,1,0,"div",1),kr(2,BM,1,0,"div",2),Er(3,"div"),Hr(4),Ir(),Ir()),2&t&&(Ws(1),xr("ngIf",e.isLoad),Ws(1),xr("ngIf",e.isLoad))},directives:[Oh],styles:['.Loader[_ngcontent-%COMP%]{position:relative;min-height:150px}.Loader[_ngcontent-%COMP%]   .Fon[_ngcontent-%COMP%]{z-index:100;position:absolute;left:0;top:0;width:100%;height:100%;background-color:grey;opacity:.5}.lds-hourglass[_ngcontent-%COMP%]{z-index:101;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:64px;height:64px;display:table;margin:0 auto;opacity:1}.lds-hourglass[_ngcontent-%COMP%]:after{content:" ";display:block;border-radius:50%;width:0;height:0;margin:6px;box-sizing:border-box;border-color:#4cae50 #0000;border-style:solid;border-width:26px;animation:lds-hourglass 1.2s infinite}@keyframes lds-hourglass{0%{transform:rotate(0);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}50%{transform:rotate(900deg);animation-timing-function:cubic-bezier(.215,.61,.355,1)}to{transform:rotate(5turn)}}']}),t})();const $M=["fileControl"],WM=function(t){return{dd:t}};let qM=(()=>{class t{constructor(){this.onSelect=new lc,this.DragOverFileDialog=t=>{this.isDrag=!0,t.preventDefault(),t.stopPropagation()},this.DragEnterFileDialog=t=>{t.preventDefault(),t.stopPropagation()},this.DragLeaveFileDialog=t=>{this.isDrag=!1},this.DropFileDialog=t=>{this.isDrag=!1,t.dataTransfer&&t.dataTransfer.files.length&&(t.preventDefault(),t.stopPropagation(),this.onSelect.emit(t.dataTransfer.files))},this.ShowFileDialog=()=>{this.fileControl.nativeElement.click()},this.onChange=t=>{const e=event.target;e.files.length&&(this.onSelect.emit(e.files),e.value="")}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["File-Loader"]],viewQuery:function(t,e){if(1&t&&_c($M,5),2&t){let t;vc(t=Cc())&&(e.fileControl=t.first)}},inputs:{filter:"filter"},outputs:{onSelect:"onSelect"},decls:13,vars:4,consts:[[3,"ngClass","click","dragover","dragleave","dragenter","drop"],["version","1.0","xmlns","http://www.w3.org/2000/svg","width","512.000000pt","height","512.000000pt","viewBox","0 0 512.000000 512.000000","preserveAspectRatio","xMidYMid meet"],["transform","translate(0.000000,512.000000) scale(0.100000,-0.100000)","fill","#000000","stroke","none"],["d","M2471 4238 c-56 -41 -1163 -1210 -1177 -1244 -30 -72 -1 -159 66 -198 33 -20 53 -21 353 -24 l317 -3 0 -642 0 -642 24 -51 c28 -60 91 -117 154 -138 67 -23 637 -23 704 0 63 21 126 78 154 138 l24 51 0 642 0 642 318 3 c283 3 321 5 350 21 38 21 69 67 78 115 15 78 16 77 -576 699 -308 323 -579 603 -601 621 -35 28 -48 32 -98 32 -44 0 -66 -5 -90 -22z"],["d","M545 2339 c-204 -31 -388 -167 -479 -354 -65 -133 -66 -147 -66 -812 0 -675 1 -681 72 -823 73 -145 203 -257 370 -318 l73 -27 2012 -3 c2250 -3 2088 -8 2242 70 149 75 272 221 324 383 22 69 22 77 22 715 l0 645 -23 75\nc-53 170 -167 306 -325 386 -120 62 -164 69 -427 69 -222 0 -237 -1 -275 -22\n-77 -41 -115 -105 -115 -193 0 -84 53 -161 132 -194 30 -13 80 -16 240 -16\n175 0 209 -3 243 -19 50 -22 101 -79 115 -128 8 -26 10 -220 8 -624 l-3 -586\n-27 -39 c-15 -21 -44 -50 -65 -64 l-37 -25 -1996 0 -1997 0 -39 27 c-21 15\n-50 44 -64 65 l-25 37 -3 598 c-2 574 -2 599 17 635 10 21 32 50 48 65 55 52\n84 58 305 58 176 0 208 3 243 19 77 36 125 111 125 196 0 83 -39 148 -115 188\n-37 20 -56 22 -245 24 -113 1 -232 -3 -265 -8z"],["type","file","multiple","multiple",3,"accept","change"],["fileControl",""]],template:function(t,e){1&t&&(Er(0,"section",0),Nr("click",function(){return e.ShowFileDialog()})("dragover",function(t){return e.DragOverFileDialog(t)})("dragleave",function(t){return e.DragLeaveFileDialog(t)})("dragenter",function(t){return e.DragEnterFileDialog(t)})("drop",function(t){return e.DropFileDialog(t)}),Er(1,"figure"),rn(),Er(2,"svg",1),Er(3,"g",2),Or(4,"path",3),Or(5,"path",4),Ir(),Ir(),Ir(),Ie.lFrame.currentNamespace=null,Er(6,"p"),ba(7,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432"),Ir(),Er(8,"p"),Er(9,"small"),ba(10,"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u0444\u0430\u0439\u043b\u044b \u0432 \u044d\u0442\u0443 \u043e\u0431\u043b\u0430\u0441\u0442\u044c!"),Ir(),Ir(),Er(11,"input",5,6),Nr("change",function(t){return e.onChange(t)}),Ir(),Ir()),2&t&&(xr("ngClass",Wl(2,WM,e.isDrag)),Ws(11),xr("accept",e.filter))},directives:[xh],styles:["section[_ngcontent-%COMP%]{position:relative;width:380px;margin:40px auto;color:#40444f;border:.2rem dashed #616778;border-radius:1.5rem;cursor:pointer;transition:color .2s ease-out,border-color .2s ease-out;overflow:hidden;padding-top:90px;box-sizing:border-box}section.dd[_ngcontent-%COMP%], section[_ngcontent-%COMP%]:hover{border-color:#4d90ff;color:#4d90ff;background-color:#e7f0fe}figure[_ngcontent-%COMP%]{width:100%;height:160px;left:0;top:0}figure[_ngcontent-%COMP%], figure[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;display:block}figure[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:80px;width:80px;margin-left:-40px;left:40%;background-size:80px 80px;transition:opacity .2s ease-out,border-color .2s ease-out}section.dd[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], section[_ngcontent-%COMP%]:hover   figure[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.65}p[_ngcontent-%COMP%]{font-weight:700;font-size:16px;line-height:24px}p[_ngcontent-%COMP%], p[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-weight:400;font-size:12px;opacity:.7}[type=file][_ngcontent-%COMP%]{position:absolute;top:-16rem;opacity:0}"]}),t})(),KM=(()=>{class t{constructor(){this.Caption="",this.Progress=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["ProgressBar"]],inputs:{Caption:"Caption",Progress:"Progress"},decls:7,vars:4,consts:[[1,"meter"]],template:function(t,e){1&t&&(Er(0,"div"),Er(1,"div"),ba(2),Ir(),Er(3,"div",0),Or(4,"span"),Er(5,"div"),ba(6),Ir(),Ir(),Ir()),2&t&&(Ws(2),wa(e.Caption),Ws(2),ta("width",e.Progress,"%"),Ws(2),ya("",e.Progress,"%"))},styles:['.meter[_ngcontent-%COMP%]{height:20px;position:relative;margin:20px 0;background:#dcdcdc;border-radius:25px;padding:10px;box-shadow:inset 0 -1px 1px #fff;box-shadow:inset 0 -1px 1px #ffffff4d;box-sizing:unset}.meter[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;height:100%;background-color:#2bc253;background-image:-webkit-gradient(linear,left bottom,left top,color-stop(0,#2bc253),color-stop(1,#54f054));background-image:-moz-linear-gradient(bottom,#2bc253 37%,#54f054 69%);box-shadow:inset 0 2px 9px #fff,inset 0 -2px 6px #000;box-shadow:inset 0 2px 9px #ffffff4d,inset 0 -2px 6px #0006;position:relative}.animate[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .meter[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .meter[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{-webkit-border-top-right-radius:8px;-webkit-border-bottom-right-radius:8px;-moz-border-radius-topright:8px;-moz-border-radius-bottomright:8px;border-top-right-radius:8px;border-bottom-right-radius:8px;-webkit-border-top-left-radius:20px;-webkit-border-bottom-left-radius:20px;-moz-border-radius-topleft:20px;-moz-border-radius-bottomleft:20px;border-top-left-radius:20px;border-bottom-left-radius:20px;overflow:hidden}.animate[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .meter[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background-image:-webkit-gradient(linear,0 0,100% 100%,color-stop(.25,#fff3),color-stop(.25,#0000),color-stop(.5,#0000),color-stop(.5,#fff3),color-stop(.75,#fff3),color-stop(.75,#0000),to(#0000));background-image:-moz-linear-gradient(-45deg,#fff3 25%,#0000 25%,#0000 50%,#fff3 50%,#fff3 75%,#0000 75%,#0000);z-index:1;-webkit-background-size:50px 50px;-moz-background-size:50px 50px;-webkit-animation:move 2s linear infinite}.animate[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{display:none}.meter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;left:50%;top:30%;font-weight:700}.nostripes[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after, .nostripes[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{-webkit-animation:none;background-image:none}']}),t})(),GM=(()=>{class t{transform(t,e){return e[t]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Gt({name:"ENUMasString",type:t,pure:!0}),t})();function YM(t,e){1&t&&(Er(0,"div"),Er(1,"p",17),ba(2,"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438 \u0441 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c \u043f\u0440\u0438\u0435\u043c\u0430"),Ir(),Ir())}function QM(t,e){1&t&&(Er(0,"span",23),ba(1,"\u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u043e"),Ir())}function ZM(t,e){1&t&&(Er(0,"span",24),ba(1,"\u0410\u043a\u0442\u0438\u0432\u043d\u043e"),Ir())}function JM(t,e){1&t&&(Er(0,"span",24),ba(1,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439"),Ir())}function XM(t,e){1&t&&(Er(0,"span",25),ba(1,"\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439"),Ir())}function tD(t,e){if(1&t&&(Er(0,"div"),Er(1,"p"),ba(2," \u041f\u0440\u0438\u0435\u043c \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u0432: "),kr(3,QM,2,0,"span",18),kr(4,ZM,2,0,"span",19),Ir(),Er(5,"p"),ba(6," \u0422\u0438\u043f \u043f\u0440\u0438\u0435\u043c\u0430: "),kr(7,JM,2,0,"span",19),kr(8,XM,2,0,"span",20),Ir(),Er(9,"p",21),ba(10,"\u0412\u0430\u0448 \u0420\u0435\u0435\u0441\u0442\u0440\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440:"),Er(11,"span",22),ba(12),Ir(),Ir(),Er(13,"p",21),ba(14,"\u0412\u0430\u0448\u0430 \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f: "),Er(15,"span",22),ba(16),Ir(),Ir(),Ir()),2&t){const t=jr();Ws(3),xr("ngIf",!t.model.ReestrEnabled),Ws(1),xr("ngIf",t.model.ReestrEnabled),Ws(3),xr("ngIf",t.model.TypePriem),Ws(1),xr("ngIf",!t.model.TypePriem),Ws(4),wa(t.model.CODE_MO),Ws(4),wa(t.model.NAME_OK)}}function eD(t,e){if(1&t&&Or(0,"ProgressBar",26),2&t){const t=jr();xr("Caption","\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438")("Progress",t.ProgressValue)}}function nD(t,e){if(1&t&&(Er(0,"li"),ba(1),Ir()),2&t){const t=e.$implicit,n=jr();ea("LiTrue",t.ErrorT===n.ErrorTypeEnum.Text)("ErrorLi",t.ErrorT===n.ErrorTypeEnum.Error),Ws(1),wa(t.Error)}}function iD(t,e){1&t&&Or(0,"img",31)}function sD(t,e){1&t&&Or(0,"img",32)}function oD(t,e){1&t&&Or(0,"td")}function rD(t,e){1&t&&Or(0,"img",31)}function aD(t,e){1&t&&Or(0,"img",32)}function lD(t,e){1&t&&Or(0,"td")}function cD(t,e){if(1&t){const t=Dr();Er(0,"tr"),Er(1,"td"),kr(2,rD,1,0,"img",27),kr(3,aD,1,0,"img",28),Ir(),Er(4,"td"),ba(5),Ir(),Er(6,"td"),ba(7),ec(8,"ENUMasString"),Ir(),Er(9,"td"),ba(10),Ir(),Er(11,"td"),ba(12),Ir(),Er(13,"td"),Er(14,"input",29),Nr("click",function(){Me(t);const e=jr().$implicit;return jr().RemoveFile(e.FILE_L)}),Ir(),Ir(),kr(15,lD,1,0,"td",5),Ir()}if(2&t){const t=jr().$implicit,e=jr();ta("font-size","10pt"),Ws(2),xr("ngIf",t.FILE_L.STATUS===e.STATUS_FILE.INVITE),Ws(1),xr("ngIf",t.FILE_L.STATUS!==e.STATUS_FILE.INVITE),Ws(2),wa(t.FILE_L.FILENAME),Ws(2),va("",ic(8,10,t.FILE_L.TYPE_FILE,e.TYPEFILE)," - ",t.FILE_L.TYPE_FILE_NAME,""),Ws(3),wa(t.FILE_L.STATUS_NAME),Ws(2),wa(t.FILE_L.COMENT),Ws(3),xr("ngIf",e.model.TypePriem)}}function uD(t,e){if(1&t){const t=Dr();Ar(0),Er(1,"tr"),Er(2,"td"),kr(3,iD,1,0,"img",27),kr(4,sD,1,0,"img",28),Ir(),Er(5,"td"),ba(6),Ir(),Er(7,"td"),ba(8),ec(9,"ENUMasString"),Ir(),Er(10,"td"),ba(11),Ir(),Er(12,"td"),ba(13),Ir(),Er(14,"td"),Er(15,"input",29),Nr("click",function(){const e=Me(t).$implicit;return jr().RemoveFile(e)}),Ir(),Ir(),kr(16,oD,1,0,"td",5),Ir(),kr(17,cD,16,13,"tr",30),Pr()}if(2&t){const t=e.$implicit,n=jr();Ws(3),xr("ngIf",t.STATUS===n.STATUS_FILE.INVITE),Ws(1),xr("ngIf",t.STATUS!==n.STATUS_FILE.INVITE),Ws(2),wa(t.FILENAME),Ws(2),va("",ic(9,9,t.TYPE_FILE,n.TYPEFILE)," - ",t.TYPE_FILE_NAME,""),Ws(3),wa(t.STATUS_NAME),Ws(2),wa(t.COMENT),Ws(3),xr("ngIf",n.model.TypePriem),Ws(1),xr("ngIf",null!==t.FILE_L)}}let hD=(()=>{class t extends FM{constructor(t){var e;super(),e=this,this.repo=t,this.onSend=new lc,this.model=new AP(null),this.ErrorTypeEnum=RP,this.STATUS_FILE=DP,this.TYPEFILE=NP,this.getModel=OP(function*(){try{e.isLoad=!0,e.model=yield e.repo.getLoadReestViewModelAsync()}catch(t){e.addError(t.toString())}finally{e.isLoad=!1}}),this.LoadFiles=function(){var t=OP(function*(t){try{e.clearError(),e.ProgressValue=0,e.ShowProgress=!0;const n=[];let i=0;for(let e=0;e<t.length;e++){let s=t[e].name.substr(t[e].name.lastIndexOf(".")+1);s=s.toUpperCase(),"ZIP"===s||"XML"===s?(n.push(t[e]),i++):alert(`\u0424\u0430\u0439\u043b ${t[e].name} \u0438\u043c\u0435\u0435\u0442 \u043d\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442`)}if(0!==i){e.ShowProgress=!0;const t=yield e.repo.SendFiles(n,e.onProgressLoadFile);e.ListError=t,e.getModel()}}catch(n){alert(n.toString())}finally{e.ShowProgress=!1}});return function(e){return t.apply(this,arguments)}}(),this.ShowProgress=!1,this.ProgressValue=0,this.onProgressLoadFile=t=>{this.ProgressValue=Math.round(t.loaded/t.total*100)},this.ClearProcess=!1,this.ClearList=OP(function*(){try{if(!confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a?"))return;e.clearError(),e.ClearProcess=!0,yield e.repo.ClearFiles()}catch(t){e.addError(t.toString())}finally{yield e.getModel(),e.ClearProcess=!1}}),this.RemoveProcess=!1,this.RemoveFile=function(){var t=OP(function*(t){try{if(!confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b?"))return;e.clearError(),e.RemoveProcess=!0,yield e.repo.DeleteFile(t.ID)}catch(n){e.addError(n.toString())}finally{yield e.getModel(),e.RemoveProcess=!1}});return function(e){return t.apply(this,arguments)}}(),this.SendToServiceProcess=!1,this.SendToService=OP(function*(){try{if(e.SendToServiceProcess=!0,!confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b?"))return;e.clearError(),e.RemoveProcess=!0;const t=yield e.repo.Send();0===t.length?e.onSend.emit():e.ListError=t}catch(t){e.addError(t.toString())}finally{e.SendToServiceProcess=!1}}),this.ListError=[],this.ShowInstruction=()=>{this.instructionDialog.ShowDialog()},this.getModel()}addError(t){const e=new LP(null);e.Error=t,e.ErrorT=RP.Error,this.ListError.push(e)}clearError(){this.ListError=[]}addMessage(t){const e=new LP(null);e.Error=t,e.ErrorT=RP.Text,this.ListError.push(e)}}return t.\u0275fac=function(e){return new(e||t)(Sr(KP))},t.\u0275cmp=Bt({type:t,selectors:[["load-reestr"]],viewQuery:function(t,e){if(1&t&&_c(jM,5),2&t){let t;vc(t=Cc())&&(e.instructionDialog=t.first)}},outputs:{onSend:"onSend"},features:[or],decls:36,vars:8,consts:[[2,"display","flex","justify-content","space-between"],["type","button","value","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",1,"ActionButton",3,"click"],["type","button","value","\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f",1,"ActionButton",3,"click"],["instructionDialog",""],[3,"isLoad"],[4,"ngIf"],["filter",".ZIP,.XML",3,"onSelect"],[3,"Caption","Progress",4,"ngIf"],["id","container",2,"padding-top","10px"],[1,"ErrorLi"],[3,"LiTrue","ErrorLi",4,"ngFor","ngForOf"],[2,"text-align","right"],["type","submit","value","\u041e\u0447\u0438\u0441\u0442\u043a\u0430",1,"ActionButton",3,"disabled","click"],[1,"customers"],["width","2%"],[4,"ngFor","ngForOf"],["id","button","type","submit","value","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443",1,"ActionButton",3,"disabled","click"],[2,"text-align","left","color","red"],["class","RedText BoldText",4,"ngIf"],["class","GreenText BoldText",4,"ngIf"],["class","YellowText BoldText",4,"ngIf"],[1,"TextCursiv"],[1,"BoldText"],[1,"RedText","BoldText"],[1,"GreenText","BoldText"],[1,"YellowText","BoldText"],[3,"Caption","Progress"],["src","../../Image/IconOK.png","width","16","height","16","alt","Ok",4,"ngIf"],["src","../../Image/IconERROR.png","width","16","height","16","alt","Ok",4,"ngIf"],["type","submit","value","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b",1,"delButton",3,"click"],[3,"font-size",4,"ngIf"],["src","../../Image/IconOK.png","width","16","height","16","alt","Ok"],["src","../../Image/IconERROR.png","width","16","height","16","alt","Ok"]],template:function(t,e){1&t&&(Er(0,"div",0),Er(1,"input",1),Nr("click",function(){return e.getModel()}),Ir(),Er(2,"input",2),Nr("click",function(){return e.ShowInstruction()}),Ir(),Ir(),Or(3,"Instruction-Dialog",null,3),Or(5,"hr"),Er(6,"Content-Load",4),kr(7,YM,3,0,"div",5),kr(8,tD,17,6,"div",5),Er(9,"div"),Er(10,"File-Loader",6),Nr("onSelect",function(t){return e.LoadFiles(t)}),Ir(),kr(11,eD,1,2,"ProgressBar",7),Ir(),Er(12,"div",8),Er(13,"div"),Er(14,"ul",9),kr(15,nD,2,5,"li",10),Ir(),Ir(),Er(16,"div",11),Er(17,"input",12),Nr("click",function(){return e.ClearList()}),Ir(),Ir(),Er(18,"div"),Er(19,"table",13),Er(20,"thead"),Er(21,"tr"),Or(22,"th",14),Er(23,"th"),ba(24,"\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430"),Ir(),Er(25,"th"),ba(26,"\u0422\u0438\u043f \u0444\u0430\u0439\u043b\u0430"),Ir(),Er(27,"th"),ba(28,"\u0421\u0442\u0430\u0442\u0443\u0441"),Ir(),Er(29,"th"),ba(30,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),Ir(),Er(31,"th"),ba(32,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),Ir(),Ir(),Ir(),Er(33,"tbody"),kr(34,uD,18,12,"ng-container",15),Ir(),Ir(),Ir(),Ir(),Er(35,"input",16),Nr("click",function(){return e.SendToService()}),Ir(),Ir()),2&t&&(Ws(6),xr("isLoad",e.isLoad),Ws(1),xr("ngIf",!e.model.ConnectWCFon),Ws(1),xr("ngIf",e.model.ConnectWCFon),Ws(3),xr("ngIf",e.ShowProgress),Ws(4),xr("ngForOf",e.ListError),Ws(2),xr("disabled",e.ClearProcess),Ws(17),xr("ngForOf",e.model.FileList),Ws(1),xr("disabled",!e.model.IsActive||e.SendToServiceProcess||0===e.model.FileList.length))},directives:[jM,UM,Oh,qM,Eh,KM],pipes:[GM],encapsulation:2}),t})();const dD=[0,2e3,1e4,3e4,null];class pD{constructor(t){this._retryDelays=void 0!==t?[...t,null]:dD}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class fD extends Error{constructor(t,e){const n=new.target.prototype;super(`${t}: Status code '${e}'`),this.statusCode=e,this.__proto__=n}}class gD extends Error{constructor(t="A timeout occurred."){const e=new.target.prototype;super(t),this.__proto__=e}}class mD extends Error{constructor(t="An abort occurred."){const e=new.target.prototype;super(t),this.__proto__=e}}class bD extends Error{constructor(t,e){const n=new.target.prototype;super(t),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=n}}class wD extends Error{constructor(t,e){const n=new.target.prototype;super(t),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=n}}class yD extends Error{constructor(t,e){const n=new.target.prototype;super(t),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=n}}class vD extends Error{constructor(t){const e=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}}class _D extends Error{constructor(t,e){const n=new.target.prototype;super(t),this.innerErrors=e,this.__proto__=n}}class kD{constructor(t,e,n){this.statusCode=t,this.statusText=e,this.content=n}}class CD{get(t,e){return this.send({...e,method:"GET",url:t})}post(t,e){return this.send({...e,method:"POST",url:t})}delete(t,e){return this.send({...e,method:"DELETE",url:t})}getCookieString(t){return""}}var SD=(()=>(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"}(SD||(SD={})),SD))();class xD{constructor(){}log(t,e){}}xD.instance=new xD;class TD{static isRequired(t,e){if(null==t)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(t,e){if(!t||t.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(t,e,n){if(!(t in e))throw new Error(`Unknown ${n} value: ${t}.`)}}class ED{static get isBrowser(){return"object"==typeof window}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isNode(){return!this.isBrowser&&!this.isWebWorker}}function ID(t,e){let n="";return OD(t)?(n=`Binary data of length ${t.byteLength}`,e&&(n+=`. Content: '${function(t){const e=new Uint8Array(t);let n="";return e.forEach(t=>{n+=`0x${t<16?"0":""}${t.toString(16)} `}),n.substr(0,n.length-1)}(t)}'`)):"string"==typeof t&&(n=`String data of length ${t.length}`,e&&(n+=`. Content: '${t}'`)),n}function OD(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function AD(t,e,n,i,s,o,r){return PD.apply(this,arguments)}function PD(){return(PD=OP(function*(t,e,n,i,s,o,r){let a={};if(s){const t=yield s();t&&(a={Authorization:`Bearer ${t}`})}const[l,c]=LD();a[l]=c,t.log(SD.Trace,`(${e} transport) sending data. ${ID(o,r.logMessageContent)}.`);const u=OD(o)?"arraybuffer":"text",h=yield n.post(i,{content:o,headers:{...a,...r.headers},responseType:u,timeout:r.timeout,withCredentials:r.withCredentials});t.log(SD.Trace,`(${e} transport) request complete. Response status: ${h.statusCode}.`)})).apply(this,arguments)}class MD{constructor(t,e){this._subject=t,this._observer=e}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(t=>{})}}class DD{constructor(t){this._minLevel=t,this.out=console}log(t,e){if(t>=this._minLevel){const n=`[${(new Date).toISOString()}] ${SD[t]}: ${e}`;switch(t){case SD.Critical:case SD.Error:this.out.error(n);break;case SD.Warning:this.out.warn(n);break;case SD.Information:this.out.info(n);break;default:this.out.log(n)}}}}function LD(){let t="X-SignalR-User-Agent";return ED.isNode&&(t="User-Agent"),[t,RD("6.0.0",ND(),ED.isNode?"NodeJS":"Browser",FD())]}function RD(t,e,n,i){let s="Microsoft SignalR/";const o=t.split(".");return s+=`${o[0]}.${o[1]}`,s+=` (${t}; `,s+=e&&""!==e?`${e}; `:"Unknown OS; ",s+=`${n}`,s+=i?`; ${i}`:"; Unknown Runtime Version",s+=")",s}function ND(){if(!ED.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function FD(){if(ED.isNode)return process.versions.node}function VD(t){return t.stack?t.stack:t.message?t.message:`${t}`}class jD extends CD{constructor(t){if(super(),this._logger=t,"undefined"==typeof fetch){const t=require;this._jar=new(t("tough-cookie").CookieJar),this._fetchType=t("node-fetch"),this._fetchType=t("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("could not find global")}());if("undefined"==typeof AbortController){const t=require;this._abortControllerType=t("abort-controller")}else this._abortControllerType=AbortController}send(t){var e=this;return OP(function*(){if(t.abortSignal&&t.abortSignal.aborted)throw new mD;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const n=new e._abortControllerType;let i;t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),i=new mD});let s,o=null;t.timeout&&(o=setTimeout(()=>{n.abort(),e._logger.log(SD.Warning,"Timeout from HTTP request."),i=new gD},t.timeout));try{s=yield e._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:!0===t.withCredentials?"include":"same-origin",headers:{"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(l){if(i)throw i;throw e._logger.log(SD.Warning,`Error from HTTP request. ${l}.`),l}finally{o&&clearTimeout(o),t.abortSignal&&(t.abortSignal.onabort=null)}if(!s.ok){const t=yield zD(s,"text");throw new fD(t||s.statusText,s.status)}const r=zD(s,t.responseType),a=yield r;return new kD(s.status,s.statusText,a)})()}getCookieString(t){let e="";return ED.isNode&&this._jar&&this._jar.getCookies(t,(t,n)=>e=n.join("; ")),e}}function zD(t,e){let n;switch(e){case"arraybuffer":n=t.arrayBuffer();break;case"text":n=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=t.text()}return n}class BD extends CD{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new mD):t.method?t.url?new Promise((e,n)=>{const i=new XMLHttpRequest;i.open(t.method,t.url,!0),i.withCredentials=void 0===t.withCredentials||t.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8");const s=t.headers;s&&Object.keys(s).forEach(t=>{i.setRequestHeader(t,s[t])}),t.responseType&&(i.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{i.abort(),n(new mD)}),t.timeout&&(i.timeout=t.timeout),i.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),i.status>=200&&i.status<300?e(new kD(i.status,i.statusText,i.response||i.responseText)):n(new fD(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(SD.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),n(new fD(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(SD.Warning,"Timeout from HTTP request."),n(new gD)},i.send(t.content||"")}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class HD extends CD{constructor(t){if(super(),"undefined"!=typeof fetch||ED.isNode)this._httpClient=new jD(t);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new BD(t)}}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new mD):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}let UD=(()=>{class t{}return t.Authorization="Authorization",t.Cookie="Cookie",t})();var $D=(()=>(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"}($D||($D={})),$D))(),WD=(()=>(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"}(WD||(WD={})),WD))();class qD{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class KD{constructor(t,e,n,i){this._httpClient=t,this._accessTokenFactory=e,this._logger=n,this._pollAbort=new qD,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(t,e){var n=this;return OP(function*(){if(TD.isRequired(t,"url"),TD.isRequired(e,"transferFormat"),TD.isIn(e,WD,"transferFormat"),n._url=t,n._logger.log(SD.Trace,"(LongPolling transport) Connecting."),e===WD.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[i,s]=LD(),o={[i]:s,...n._options.headers},r={abortSignal:n._pollAbort.signal,headers:o,timeout:1e5,withCredentials:n._options.withCredentials};e===WD.Binary&&(r.responseType="arraybuffer");const a=yield n._getAccessToken();n._updateHeaderToken(r,a);const l=`${t}&_=${Date.now()}`;n._logger.log(SD.Trace,`(LongPolling transport) polling: ${l}.`);const c=yield n._httpClient.get(l,r);200!==c.statusCode?(n._logger.log(SD.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),n._closeError=new fD(c.statusText||"",c.statusCode),n._running=!1):n._running=!0,n._receiving=n._poll(n._url,r)})()}_getAccessToken(){var t=this;return OP(function*(){return t._accessTokenFactory?yield t._accessTokenFactory():null})()}_updateHeaderToken(t,e){t.headers||(t.headers={}),e?t.headers[UD.Authorization]=`Bearer ${e}`:t.headers[UD.Authorization]&&delete t.headers[UD.Authorization]}_poll(t,e){var n=this;return OP(function*(){try{for(;n._running;){const s=yield n._getAccessToken();n._updateHeaderToken(e,s);try{const i=`${t}&_=${Date.now()}`;n._logger.log(SD.Trace,`(LongPolling transport) polling: ${i}.`);const s=yield n._httpClient.get(i,e);204===s.statusCode?(n._logger.log(SD.Information,"(LongPolling transport) Poll terminated by server."),n._running=!1):200!==s.statusCode?(n._logger.log(SD.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),n._closeError=new fD(s.statusText||"",s.statusCode),n._running=!1):s.content?(n._logger.log(SD.Trace,`(LongPolling transport) data received. ${ID(s.content,n._options.logMessageContent)}.`),n.onreceive&&n.onreceive(s.content)):n._logger.log(SD.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(i){n._running?i instanceof gD?n._logger.log(SD.Trace,"(LongPolling transport) Poll timed out, reissuing."):(n._closeError=i,n._running=!1):n._logger.log(SD.Trace,`(LongPolling transport) Poll errored after shutdown: ${i.message}`)}}}finally{n._logger.log(SD.Trace,"(LongPolling transport) Polling complete."),n.pollAborted||n._raiseOnClose()}})()}send(t){var e=this;return OP(function*(){return e._running?AD(e._logger,"LongPolling",e._httpClient,e._url,e._accessTokenFactory,t,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var t=this;return OP(function*(){t._logger.log(SD.Trace,"(LongPolling transport) Stopping polling."),t._running=!1,t._pollAbort.abort();try{yield t._receiving,t._logger.log(SD.Trace,`(LongPolling transport) sending DELETE request to ${t._url}.`);const e={},[n,i]=LD();e[n]=i;const s={headers:{...e,...t._options.headers},timeout:t._options.timeout,withCredentials:t._options.withCredentials},o=yield t._getAccessToken();t._updateHeaderToken(s,o),yield t._httpClient.delete(t._url,s),t._logger.log(SD.Trace,"(LongPolling transport) DELETE request sent.")}finally{t._logger.log(SD.Trace,"(LongPolling transport) Stop finished."),t._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(SD.Trace,t),this.onclose(this._closeError)}}}class GD{constructor(t,e,n,i){this._httpClient=t,this._accessTokenFactory=e,this._logger=n,this._options=i,this.onreceive=null,this.onclose=null}connect(t,e){var n=this;return OP(function*(){if(TD.isRequired(t,"url"),TD.isRequired(e,"transferFormat"),TD.isIn(e,WD,"transferFormat"),n._logger.log(SD.Trace,"(SSE transport) Connecting."),n._url=t,n._accessTokenFactory){const e=yield n._accessTokenFactory();e&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(e)}`)}return new Promise((i,s)=>{let o,r=!1;if(e===WD.Text){if(ED.isBrowser||ED.isWebWorker)o=new n._options.EventSource(t,{withCredentials:n._options.withCredentials});else{const e=n._httpClient.getCookieString(t),i={};i.Cookie=e;const[s,r]=LD();i[s]=r,o=new n._options.EventSource(t,{withCredentials:n._options.withCredentials,headers:{...i,...n._options.headers}})}try{o.onmessage=t=>{if(n.onreceive)try{n._logger.log(SD.Trace,`(SSE transport) data received. ${ID(t.data,n._options.logMessageContent)}.`),n.onreceive(t.data)}catch(e){return void n._close(e)}},o.onerror=t=>{r?n._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},o.onopen=()=>{n._logger.log(SD.Information,`SSE connected to ${n._url}`),n._eventSource=o,r=!0,i()}}catch(a){return void s(a)}}else s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(t){var e=this;return OP(function*(){return e._eventSource?AD(e._logger,"SSE",e._httpClient,e._url,e._accessTokenFactory,t,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class YD{constructor(t,e,n,i,s,o){this._logger=n,this._accessTokenFactory=e,this._logMessageContent=i,this._webSocketConstructor=s,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=o}connect(t,e){var n=this;return OP(function*(){if(TD.isRequired(t,"url"),TD.isRequired(e,"transferFormat"),TD.isIn(e,WD,"transferFormat"),n._logger.log(SD.Trace,"(WebSockets transport) Connecting."),n._accessTokenFactory){const e=yield n._accessTokenFactory();e&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(e)}`)}return new Promise((i,s)=>{let o;t=t.replace(/^http/,"ws");const r=n._httpClient.getCookieString(t);let a=!1;if(ED.isNode){const e={},[i,s]=LD();e[i]=s,r&&(e[UD.Cookie]=`${r}`),o=new n._webSocketConstructor(t,void 0,{headers:{...e,...n._headers}})}o||(o=new n._webSocketConstructor(t)),e===WD.Binary&&(o.binaryType="arraybuffer"),o.onopen=e=>{n._logger.log(SD.Information,`WebSocket connected to ${t}.`),n._webSocket=o,a=!0,i()},o.onerror=t=>{let e=null;e="undefined"!=typeof ErrorEvent&&t instanceof ErrorEvent?t.error:"There was an error with the transport",n._logger.log(SD.Information,`(WebSockets transport) ${e}.`)},o.onmessage=t=>{if(n._logger.log(SD.Trace,`(WebSockets transport) data received. ${ID(t.data,n._logMessageContent)}.`),n.onreceive)try{n.onreceive(t.data)}catch(e){return void n._close(e)}},o.onclose=t=>{if(a)n._close(t);else{let e=null;e="undefined"!=typeof ErrorEvent&&t instanceof ErrorEvent?t.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",s(new Error(e))}}})})()}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(SD.Trace,`(WebSockets transport) sending data. ${ID(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(SD.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(t)||!1!==t.wasClean&&1e3===t.code?t instanceof Error?this.onclose(t):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)))}_isCloseEvent(t){return t&&"boolean"==typeof t.wasClean&&"number"==typeof t.code}}class QD{constructor(t,e={}){var n;if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,TD.isRequired(t,"url"),this._logger=void 0===(n=e.logger)?new DD(SD.Information):null===n?xD.instance:void 0!==n.log?n:new DD(n),this.baseUrl=this._resolveUrl(t),(e=e||{}).logMessageContent=void 0!==e.logMessageContent&&e.logMessageContent,"boolean"!=typeof e.withCredentials&&void 0!==e.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.withCredentials=void 0===e.withCredentials||e.withCredentials,e.timeout=void 0===e.timeout?1e5:e.timeout;let i=null,s=null;if(ED.isNode){const t=require;i=t("ws"),s=t("eventsource")}ED.isNode||"undefined"==typeof WebSocket||e.WebSocket?ED.isNode&&!e.WebSocket&&i&&(e.WebSocket=i):e.WebSocket=WebSocket,ED.isNode||"undefined"==typeof EventSource||e.EventSource?ED.isNode&&!e.EventSource&&void 0!==s&&(e.EventSource=s):e.EventSource=EventSource,this._httpClient=e.httpClient||new HD(this._logger),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}start(t){var e=this;return OP(function*(){if(TD.isIn(t=t||WD.Binary,WD,"transferFormat"),e._logger.log(SD.Debug,`Starting connection with transfer format '${WD[t]}'.`),"Disconnected"!==e._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(e._connectionState="Connecting",e._startInternalPromise=e._startInternal(t),yield e._startInternalPromise,"Disconnecting"===e._connectionState){const t="Failed to start the HttpConnection before stop() was called.";return e._logger.log(SD.Error,t),yield e._stopPromise,Promise.reject(new Error(t))}if("Connected"!==e._connectionState){const t="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return e._logger.log(SD.Error,t),Promise.reject(new Error(t))}e._connectionStarted=!0})()}send(t){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new ZD(this.transport)),this._sendQueue.send(t))}stop(t){var e=this;return OP(function*(){return"Disconnected"===e._connectionState?(e._logger.log(SD.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===e._connectionState?(e._logger.log(SD.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),e._stopPromise):(e._connectionState="Disconnecting",e._stopPromise=new Promise(t=>{e._stopPromiseResolver=t}),yield e._stopInternal(t),void(yield e._stopPromise))})()}_stopInternal(t){var e=this;return OP(function*(){e._stopError=t;try{yield e._startInternalPromise}catch(n){}if(e.transport){try{yield e.transport.stop()}catch(n){e._logger.log(SD.Error,`HttpConnection.transport.stop() threw error '${n}'.`),e._stopConnection()}e.transport=void 0}else e._logger.log(SD.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(t){var e=this;return OP(function*(){let n=e.baseUrl;e._accessTokenFactory=e._options.accessTokenFactory;try{if(e._options.skipNegotiation){if(e._options.transport!==$D.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");e.transport=e._constructTransport($D.WebSockets),yield e._startTransport(n,t)}else{let i=null,s=0;do{if(i=yield e._getNegotiationResponse(n),"Disconnecting"===e._connectionState||"Disconnected"===e._connectionState)throw new Error("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(i.url&&(n=i.url),i.accessToken){const t=i.accessToken;e._accessTokenFactory=()=>t}s++}while(i.url&&s<100);if(100===s&&i.url)throw new Error("Negotiate redirection limit exceeded.");yield e._createTransport(n,e._options.transport,i,t)}e.transport instanceof KD&&(e.features.inherentKeepAlive=!0),"Connecting"===e._connectionState&&(e._logger.log(SD.Debug,"The HttpConnection connected successfully."),e._connectionState="Connected")}catch(i){return e._logger.log(SD.Error,"Failed to start the connection: "+i),e._connectionState="Disconnected",e.transport=void 0,e._stopPromiseResolver(),Promise.reject(i)}})()}_getNegotiationResponse(t){var e=this;return OP(function*(){const n={};if(e._accessTokenFactory){const t=yield e._accessTokenFactory();t&&(n[UD.Authorization]=`Bearer ${t}`)}const[i,s]=LD();n[i]=s;const o=e._resolveNegotiateUrl(t);e._logger.log(SD.Debug,`Sending negotiation request: ${o}.`);try{const t=yield e._httpClient.post(o,{content:"",headers:{...n,...e._options.headers},timeout:e._options.timeout,withCredentials:e._options.withCredentials});if(200!==t.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${t.statusCode}'`));const i=JSON.parse(t.content);return(!i.negotiateVersion||i.negotiateVersion<1)&&(i.connectionToken=i.connectionId),i}catch(r){let t="Failed to complete negotiation with the server: "+r;return r instanceof fD&&404===r.statusCode&&(t+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),e._logger.log(SD.Error,t),Promise.reject(new vD(t))}})()}_createConnectUrl(t,e){return e?t+(-1===t.indexOf("?")?"?":"&")+`id=${e}`:t}_createTransport(t,e,n,i){var s=this;return OP(function*(){let o=s._createConnectUrl(t,n.connectionToken);if(s._isITransport(e))return s._logger.log(SD.Debug,"Connection was provided an instance of ITransport, using that directly."),s.transport=e,yield s._startTransport(o,i),void(s.connectionId=n.connectionId);const r=[],a=n.availableTransports||[];let l=n;for(const n of a){const a=s._resolveTransportOrError(n,e,i);if(a instanceof Error)r.push(`${n.transport} failed:`),r.push(a);else if(s._isITransport(a)){if(s.transport=a,!l){try{l=yield s._getNegotiationResponse(t)}catch(c){return Promise.reject(c)}o=s._createConnectUrl(t,l.connectionToken)}try{return yield s._startTransport(o,i),void(s.connectionId=l.connectionId)}catch(c){if(s._logger.log(SD.Error,`Failed to start the transport '${n.transport}': ${c}`),l=void 0,r.push(new yD(`${n.transport} failed: ${c}`,$D[n.transport])),"Connecting"!==s._connectionState){const t="Failed to select transport before stop() was called.";return s._logger.log(SD.Debug,t),Promise.reject(new Error(t))}}}}return Promise.reject(r.length>0?new _D(`Unable to connect to the server with any of the available transports. ${r.join(" ")}`,r):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(t){switch(t){case $D.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new YD(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case $D.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new GD(this._httpClient,this._accessTokenFactory,this._logger,this._options);case $D.LongPolling:return new KD(this._httpClient,this._accessTokenFactory,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,e){return this.transport.onreceive=this.onreceive,this.transport.onclose=t=>this._stopConnection(t),this.transport.connect(t,e)}_resolveTransportOrError(t,e,n){const i=$D[t.transport];if(null==i)return this._logger.log(SD.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(!function(t,e){return!t||0!=(e&t)}(e,i))return this._logger.log(SD.Debug,`Skipping transport '${$D[i]}' because it was disabled by the client.`),new wD(`'${$D[i]}' is disabled by the client.`,i);if(!(t.transferFormats.map(t=>WD[t]).indexOf(n)>=0))return this._logger.log(SD.Debug,`Skipping transport '${$D[i]}' because it does not support the requested transfer format '${WD[n]}'.`),new Error(`'${$D[i]}' does not support ${WD[n]}.`);if(i===$D.WebSockets&&!this._options.WebSocket||i===$D.ServerSentEvents&&!this._options.EventSource)return this._logger.log(SD.Debug,`Skipping transport '${$D[i]}' because it is not supported in your environment.'`),new bD(`'${$D[i]}' is not supported in your environment.`,i);this._logger.log(SD.Debug,`Selecting transport '${$D[i]}'.`);try{return this._constructTransport(i)}catch(s){return s}}_isITransport(t){return t&&"object"==typeof t&&"connect"in t}_stopConnection(t){if(this._logger.log(SD.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(SD.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),t?this._logger.log(SD.Error,`Connection disconnected with error '${t}'.`):this._logger.log(SD.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(t=>{this._logger.log(SD.Error,`TransportSendQueue.stop() threw error '${t}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(e){this._logger.log(SD.Error,`HttpConnection.onclose(${t}) threw error '${e}'.`)}}}else this._logger.log(SD.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if(!ED.isBrowser||!window.document)throw new Error(`Cannot resolve '${t}'.`);const e=window.document.createElement("a");return e.href=t,this._logger.log(SD.Information,`Normalizing '${t}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(t){const e=t.indexOf("?");let n=t.substring(0,-1===e?t.length:e);return"/"!==n[n.length-1]&&(n+="/"),n+="negotiate",n+=-1===e?"":t.substring(e),-1===n.indexOf("negotiateVersion")&&(n+=-1===e?"?":"&",n+="negotiateVersion="+this._negotiateVersion),n}}class ZD{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new JD,this._transportResult=new JD,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new JD),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}_sendLoop(){var t=this;return OP(function*(){for(;;){if(yield t._sendBufferedData.promise,!t._executing){t._transportResult&&t._transportResult.reject("Connection stopped.");break}t._sendBufferedData=new JD;const n=t._transportResult;t._transportResult=void 0;const i="string"==typeof t._buffer[0]?t._buffer.join(""):ZD._concatBuffers(t._buffer);t._buffer.length=0;try{yield t._transport.send(i),n.resolve()}catch(e){n.reject(e)}}})()}static _concatBuffers(t){const e=t.map(t=>t.byteLength).reduce((t,e)=>t+e),n=new Uint8Array(e);let i=0;for(const s of t)n.set(new Uint8Array(s),i),i+=s.byteLength;return n.buffer}}class JD{constructor(){this.promise=new Promise((t,e)=>[this._resolver,this._rejecter]=[t,e])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}class XD{static write(t){return`${t}${XD.RecordSeparator}`}static parse(t){if(t[t.length-1]!==XD.RecordSeparator)throw new Error("Message is incomplete.");const e=t.split(XD.RecordSeparator);return e.pop(),e}}XD.RecordSeparatorCode=30,XD.RecordSeparator=String.fromCharCode(XD.RecordSeparatorCode);class tL{writeHandshakeRequest(t){return XD.write(JSON.stringify(t))}parseHandshakeResponse(t){let e,n;if(OD(t)){const i=new Uint8Array(t),s=i.indexOf(XD.RecordSeparatorCode);if(-1===s)throw new Error("Message is incomplete.");const o=s+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(i.slice(0,o))),n=i.byteLength>o?i.slice(o).buffer:null}else{const i=t,s=i.indexOf(XD.RecordSeparator);if(-1===s)throw new Error("Message is incomplete.");const o=s+1;e=i.substring(0,o),n=i.length>o?i.substring(o):null}const i=XD.parse(e),s=JSON.parse(i[0]);if(s.type)throw new Error("Expected a handshake response from the server.");return[n,s]}}var eL=(()=>(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close"}(eL||(eL={})),eL))();class nL{constructor(){this.observers=[]}next(t){for(const e of this.observers)e.next(t)}error(t){for(const e of this.observers)e.error&&e.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new MD(this,t)}}var iL=(()=>(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"}(iL||(iL={})),iL))();class sL{constructor(t,e,n,i){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(SD.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},TD.isRequired(t,"connection"),TD.isRequired(e,"logger"),TD.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=e,this._protocol=n,this.connection=t,this._reconnectPolicy=i,this._handshakeProtocol=new tL,this.connection.onreceive=t=>this._processIncomingData(t),this.connection.onclose=t=>this._connectionClosed(t),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=iL.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:eL.Ping})}static create(t,e,n,i){return new sL(t,e,n,i)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==iL.Disconnected&&this._connectionState!==iL.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var t=this;return OP(function*(){if(t._connectionState!==iL.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));t._connectionState=iL.Connecting,t._logger.log(SD.Debug,"Starting HubConnection.");try{yield t._startInternal(),ED.isBrowser&&document&&document.addEventListener("freeze",t._freezeEventListener),t._connectionState=iL.Connected,t._connectionStarted=!0,t._logger.log(SD.Debug,"HubConnection connected successfully.")}catch(e){return t._connectionState=iL.Disconnected,t._logger.log(SD.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}})()}_startInternal(){var t=this;return OP(function*(){t._stopDuringStartError=void 0,t._receivedHandshakeResponse=!1;const e=new Promise((e,n)=>{t._handshakeResolver=e,t._handshakeRejecter=n});yield t.connection.start(t._protocol.transferFormat);try{const n={protocol:t._protocol.name,version:t._protocol.version};if(t._logger.log(SD.Debug,"Sending handshake request."),yield t._sendMessage(t._handshakeProtocol.writeHandshakeRequest(n)),t._logger.log(SD.Information,`Using HubProtocol '${t._protocol.name}'.`),t._cleanupTimeout(),t._resetTimeoutPeriod(),t._resetKeepAliveInterval(),yield e,t._stopDuringStartError)throw t._stopDuringStartError}catch(n){throw t._logger.log(SD.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),t._cleanupTimeout(),t._cleanupPingTimer(),yield t.connection.stop(n),n}})()}stop(){var t=this;return OP(function*(){const e=t._startPromise;t._stopPromise=t._stopInternal(),yield t._stopPromise;try{yield e}catch(n){}})()}_stopInternal(t){return this._connectionState===iL.Disconnected?(this._logger.log(SD.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===iL.Disconnecting?(this._logger.log(SD.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=iL.Disconnecting,this._logger.log(SD.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(SD.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(t)))}stream(t,...e){const[n,i]=this._replaceStreamingParams(e),s=this._createStreamInvocation(t,e,i);let o;const r=new nL;return r.cancelCallback=()=>{const t=this._createCancelInvocation(s.invocationId);return delete this._callbacks[s.invocationId],o.then(()=>this._sendWithProtocol(t))},this._callbacks[s.invocationId]=(t,e)=>{e?r.error(e):t&&(t.type===eL.Completion?t.error?r.error(new Error(t.error)):r.complete():r.next(t.item))},o=this._sendWithProtocol(s).catch(t=>{r.error(t),delete this._callbacks[s.invocationId]}),this._launchStreams(n,o),r}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._sendMessage(this._protocol.writeMessage(t))}send(t,...e){const[n,i]=this._replaceStreamingParams(e),s=this._sendWithProtocol(this._createInvocation(t,e,!0,i));return this._launchStreams(n,s),s}invoke(t,...e){const[n,i]=this._replaceStreamingParams(e),s=this._createInvocation(t,e,!1,i);return new Promise((t,e)=>{this._callbacks[s.invocationId]=(n,i)=>{i?e(i):n&&(n.type===eL.Completion?n.error?e(new Error(n.error)):t(n.result):e(new Error(`Unexpected message type: ${n.type}`)))};const i=this._sendWithProtocol(s).catch(t=>{e(t),delete this._callbacks[s.invocationId]});this._launchStreams(n,i)})}on(t,e){t&&e&&(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),-1===this._methods[t].indexOf(e)&&this._methods[t].push(e))}off(t,e){if(!t)return;t=t.toLowerCase();const n=this._methods[t];if(n)if(e){const i=n.indexOf(e);-1!==i&&(n.splice(i,1),0===n.length&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const t of n)switch(t.type){case eL.Invocation:this._invokeClientMethod(t);break;case eL.StreamItem:case eL.Completion:{const n=this._callbacks[t.invocationId];if(n){t.type===eL.Completion&&delete this._callbacks[t.invocationId];try{n(t)}catch(e){this._logger.log(SD.Error,`Stream callback threw error: ${VD(e)}`)}}break}case eL.Ping:break;case eL.Close:{this._logger.log(SD.Information,"Close message received from server.");const e=t.error?new Error("Server returned an error on close: "+t.error):void 0;!0===t.allowReconnect?this.connection.stop(e):this._stopPromise=this._stopInternal(e);break}default:this._logger.log(SD.Warning,`Invalid message type: ${t.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let e,n;try{[n,e]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(i){const t="Error parsing handshake response: "+i;this._logger.log(SD.Error,t);const e=new Error(t);throw this._handshakeRejecter(e),e}if(e.error){const t="Server returned handshake error: "+e.error;this._logger.log(SD.Error,t);const n=new Error(t);throw this._handshakeRejecter(n),n}return this._logger.log(SD.Debug,"Server handshake complete."),this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var t=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(OP(function*(){if(t._connectionState===iL.Connected)try{yield t._sendMessage(t._cachedPingMessage)}catch{t._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(t){const e=this._methods[t.target.toLowerCase()];if(e){try{e.forEach(e=>e.apply(this,t.arguments))}catch(n){this._logger.log(SD.Error,`A callback for the method ${t.target.toLowerCase()} threw error '${n}'.`)}if(t.invocationId){const t="Server requested a response, which is not supported in this version of the client.";this._logger.log(SD.Error,t),this._stopPromise=this._stopInternal(new Error(t))}}else this._logger.log(SD.Warning,`No client method with the name '${t.target}' found.`)}_connectionClosed(t){this._logger.log(SD.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new Error("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===iL.Disconnecting?this._completeClose(t):this._connectionState===iL.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===iL.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=iL.Disconnected,this._connectionStarted=!1,ED.isBrowser&&document&&document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[t]))}catch(e){this._logger.log(SD.Error,`An onclose callback called with error '${t}' threw error '${e}'.`)}}}_reconnect(t){var e=this;return OP(function*(){const n=Date.now();let i=0,s=void 0!==t?t:new Error("Attempting to reconnect due to a unknown error."),o=e._getNextRetryDelay(i++,0,s);if(null===o)return e._logger.log(SD.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void e._completeClose(t);if(e._connectionState=iL.Reconnecting,e._logger.log(SD.Information,t?`Connection reconnecting because of error '${t}'.`:"Connection reconnecting."),0!==e._reconnectingCallbacks.length){try{e._reconnectingCallbacks.forEach(n=>n.apply(e,[t]))}catch(r){e._logger.log(SD.Error,`An onreconnecting callback called with error '${t}' threw error '${r}'.`)}if(e._connectionState!==iL.Reconnecting)return void e._logger.log(SD.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==o;){if(e._logger.log(SD.Information,`Reconnect attempt number ${i} will start in ${o} ms.`),yield new Promise(t=>{e._reconnectDelayHandle=setTimeout(t,o)}),e._reconnectDelayHandle=void 0,e._connectionState!==iL.Reconnecting)return void e._logger.log(SD.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield e._startInternal(),e._connectionState=iL.Connected,e._logger.log(SD.Information,"HubConnection reconnected successfully."),0!==e._reconnectedCallbacks.length)try{e._reconnectedCallbacks.forEach(t=>t.apply(e,[e.connection.connectionId]))}catch(r){e._logger.log(SD.Error,`An onreconnected callback called with connectionId '${e.connection.connectionId}; threw error '${r}'.`)}return}catch(r){if(e._logger.log(SD.Information,`Reconnect attempt failed because of error '${r}'.`),e._connectionState!==iL.Reconnecting)return e._logger.log(SD.Debug,`Connection moved to the '${e._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(e._connectionState===iL.Disconnecting&&e._completeClose());s=r instanceof Error?r:new Error(r.toString()),o=e._getNextRetryDelay(i++,Date.now()-n,s)}}e._logger.log(SD.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${i} failed attempts. Connection disconnecting.`),e._completeClose()})()}_getNextRetryDelay(t,e,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:t,retryReason:n})}catch(i){return this._logger.log(SD.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${e}) threw error '${i}'.`),null}}_cancelCallbacksWithError(t){const e=this._callbacks;this._callbacks={},Object.keys(e).forEach(n=>{const i=e[n];try{i(null,t)}catch(s){this._logger.log(SD.Error,`Stream 'error' callback called with '${t}' threw error: ${VD(s)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,e,n,i){if(n)return 0!==i.length?{arguments:e,streamIds:i,target:t,type:eL.Invocation}:{arguments:e,target:t,type:eL.Invocation};{const n=this._invocationId;return this._invocationId++,0!==i.length?{arguments:e,invocationId:n.toString(),streamIds:i,target:t,type:eL.Invocation}:{arguments:e,invocationId:n.toString(),target:t,type:eL.Invocation}}}_launchStreams(t,e){if(0!==t.length){e||(e=Promise.resolve());for(const n in t)t[n].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(n)))},error:t=>{let i;i=t instanceof Error?t.message:t&&t.toString?t.toString():"Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(n,i)))},next:t=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(n,t)))}})}}_replaceStreamingParams(t){const e=[],n=[];for(let i=0;i<t.length;i++){const s=t[i];if(this._isObservable(s)){const o=this._invocationId;this._invocationId++,e[o]=s,n.push(o.toString()),t.splice(i,1)}}return[e,n]}_isObservable(t){return t&&t.subscribe&&"function"==typeof t.subscribe}_createStreamInvocation(t,e,n){const i=this._invocationId;return this._invocationId++,0!==n.length?{arguments:e,invocationId:i.toString(),streamIds:n,target:t,type:eL.StreamInvocation}:{arguments:e,invocationId:i.toString(),target:t,type:eL.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:eL.CancelInvocation}}_createStreamItemMessage(t,e){return{invocationId:t,item:e,type:eL.StreamItem}}_createCompletionMessage(t,e,n){return e?{error:e,invocationId:t,type:eL.Completion}:{invocationId:t,result:n,type:eL.Completion}}}class oL{constructor(){this.name="json",this.version=1,this.transferFormat=WD.Text}parseMessages(t,e){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===e&&(e=xD.instance);const n=XD.parse(t),i=[];for(const s of n){const t=JSON.parse(s);if("number"!=typeof t.type)throw new Error("Invalid payload.");switch(t.type){case eL.Invocation:this._isInvocationMessage(t);break;case eL.StreamItem:this._isStreamItemMessage(t);break;case eL.Completion:this._isCompletionMessage(t);break;case eL.Ping:case eL.Close:break;default:e.log(SD.Information,"Unknown message type '"+t.type+"' ignored.");continue}i.push(t)}return i}writeMessage(t){return XD.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(t,e){if("string"!=typeof t||""===t)throw new Error(e)}}const rL={trace:SD.Trace,debug:SD.Debug,info:SD.Information,information:SD.Information,warn:SD.Warning,warning:SD.Warning,error:SD.Error,critical:SD.Critical,none:SD.None};class aL{configureLogging(t){if(TD.isRequired(t,"logging"),void 0!==t.log)this.logger=t;else if("string"==typeof t){const e=function(t){const e=rL[t.toLowerCase()];if(void 0!==e)return e;throw new Error(`Unknown log level: ${t}`)}(t);this.logger=new DD(e)}else this.logger=new DD(t);return this}withUrl(t,e){return TD.isRequired(t,"url"),TD.isNotEmpty(t,"url"),this.url=t,this.httpConnectionOptions="object"==typeof e?{...this.httpConnectionOptions,...e}:{...this.httpConnectionOptions,transport:e},this}withHubProtocol(t){return TD.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=t?Array.isArray(t)?new pD(t):t:new pD,this}build(){const t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new QD(this.url,t);return sL.create(e,this.logger||xD.instance,this.protocol||new oL,this.reconnectPolicy)}}class lL{Connect(){var t=this;return OP(function*(){return t.connection=(new aL).withUrl("../../Notification").build(),yield t.connection.start(),t.connection.connectionId})()}Disconnect(){var t=this;return OP(function*(){null!=t.connection&&(t.connection.off("NewCSListState"),t.connection.stop())})()}RegisterNewCSListState(t){var e=this;return OP(function*(){yield e.connection.invoke("RegisterNewCSListState"),e.connection.on("NewCSListState",e=>{t(e)})})()}RegisterNewPackState(t){var e=this;return OP(function*(){yield e.connection.invoke("RegisterNewPackState"),e.connection.on("NewPackState",e=>{t(e)})})()}}let cL=(()=>{class t{transform(t){switch(t){case HP.FLKERR:return"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435";case HP.FLKOK:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e";default:return"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Gt({name:"StatusFilePackRus",type:t,pure:!0}),t})(),uL=(()=>{class t{transform(t){switch(t){case BP.MAIL:return"\u041f\u043e\u0447\u0442\u0430(VipNet)";case BP.SITE:return"\u0421\u0430\u0439\u0442";default:return BP[t]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Gt({name:"ISTEnumRus",type:t,pure:!0}),t})(),hL=(()=>{class t{transform(t){switch(t){case UP.NotInvite:return"\u041f\u0435\u0440\u0432\u0438\u0447\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430";case UP.Invite:return"\u041f\u0435\u0440\u0432\u0438\u0447\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430";case UP.XMLxsd:return"\u0421\u0445\u0435\u043c\u0430 \u0432\u0435\u0440\u043d\u0430";case UP.ErrorXMLxsd:return"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0445\u0435\u043c\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430";case UP.FlkErr:return"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430";case UP.FlkOk:return"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430";default:return BP[t]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Gt({name:"StepsProcessRus",type:t,pure:!0}),t})();function dL(t,e){1&t&&(Er(0,"div"),Er(1,"p",6),ba(2,"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438 \u0441 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c \u043f\u0440\u0438\u0435\u043c\u0430"),Ir(),Ir())}function pL(t,e){1&t&&(Er(0,"h2"),ba(1,"\u041d\u0435\u0442 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432"),Ir())}function fL(t,e){if(1&t&&(Er(0,"tr"),Er(1,"td"),ba(2,"\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"),Ir(),Er(3,"td"),Er(4,"b"),Er(5,"span"),ba(6),Ir(),Ir(),Ir(),Ir()),2&t){const t=jr(3);Ws(6),wa(t.model.FP.Order)}}function gL(t,e){if(1&t&&(Er(0,"tr"),Er(1,"td"),ba(2,"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435"),Ir(),Er(3,"td"),Er(4,"b"),Er(5,"span",15),ba(6),Ir(),Ir(),Ir(),Ir()),2&t){const t=jr(3);Ws(6),wa(t.model.FP.WARNNING)}}function mL(t,e){1&t&&Or(0,"img",21)}function bL(t,e){1&t&&Or(0,"img",22)}function wL(t,e){1&t&&Or(0,"img",23)}function yL(t,e){1&t&&Or(0,"img",21)}function vL(t,e){1&t&&Or(0,"img",22)}function _L(t,e){1&t&&Or(0,"img",23)}function kL(t,e){if(1&t&&(Er(0,"tr",24),Er(1,"td"),kr(2,yL,1,0,"img",16),kr(3,vL,1,0,"img",17),kr(4,_L,1,0,"img",18),Ir(),Er(5,"td"),ba(6),Ir(),Er(7,"td"),ba(8),ec(9,"ENUMasString"),Ir(),Er(10,"td"),ba(11),ec(12,"StepsProcessRus"),Ir(),Er(13,"td"),ba(14),Ir(),Ir()),2&t){const t=jr().$implicit,e=jr(3);Ws(2),xr("ngIf",t.FILE_L.Process===e.StepsProcess.FlkOk),Ws(1),xr("ngIf",t.FILE_L.Process===e.StepsProcess.Invite||t.FILE_L.Process===e.StepsProcess.XMLxsd),Ws(1),xr("ngIf",t.FILE_L.Process===e.StepsProcess.ErrorXMLxsd||t.FILE_L.Process===e.StepsProcess.FlkErr||t.FILE_L.Process===e.StepsProcess.NotInvite),Ws(2),wa(t.FILE_L.FileName),Ws(2),va("",ic(9,8,t.FILE_L.Type,e.TYPEFILE)," - ",t.FILE_L.TYPE_NAME,""),Ws(3),wa(nc(12,11,t.FILE_L.Process)),Ws(3),wa(t.FILE_L.Comment)}}function CL(t,e){if(1&t&&(Ar(0),Er(1,"tr"),Er(2,"td"),kr(3,mL,1,0,"img",16),kr(4,bL,1,0,"img",17),kr(5,wL,1,0,"img",18),Ir(),Er(6,"td"),ba(7),Ir(),Er(8,"td"),ba(9),ec(10,"ENUMasString"),Ir(),Er(11,"td",19),ba(12),ec(13,"StepsProcessRus"),Ir(),Er(14,"td",19),Er(15,"span"),ba(16),Ir(),Ir(),Ir(),kr(17,kL,15,13,"tr",20),Pr()),2&t){const t=e.$implicit,n=jr(3);Ws(3),xr("ngIf",t.Process===n.StepsProcess.FlkOk),Ws(1),xr("ngIf",t.Process===n.StepsProcess.Invite||t.Process===n.StepsProcess.XMLxsd),Ws(1),xr("ngIf",t.Process===n.StepsProcess.ErrorXMLxsd||t.Process===n.StepsProcess.FlkErr||t.Process===n.StepsProcess.NotInvite),Ws(2),wa(t.FileName),Ws(2),va("",ic(10,9,t.Type,n.TYPEFILE)," - ",t.TYPE_NAME,""),Ws(3),wa(nc(13,12,t.Process)),Ws(4),wa(t.Comment),Ws(1),xr("ngIf",null!=t.FILE_L)}}function SL(t,e){if(1&t){const t=Dr();Er(0,"div"),Er(1,"table"),Er(2,"tr"),Er(3,"td",7),ba(4,"\u041a\u043e\u0434 \u041c\u041e"),Ir(),Er(5,"td"),Er(6,"b"),ba(7),Ir(),Ir(),Ir(),Er(8,"tr"),Er(9,"td"),ba(10,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u041c\u041e"),Ir(),Er(11,"td"),Er(12,"b"),ba(13),Ir(),Ir(),Ir(),Er(14,"tr"),Er(15,"td"),ba(16,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),Ir(),Er(17,"td"),Er(18,"b"),ba(19),ec(20,"date"),Ir(),Ir(),Ir(),Er(21,"tr"),Er(22,"td"),ba(23,"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a"),Ir(),Er(24,"td"),Er(25,"span"),Er(26,"b"),ba(27),ec(28,"ISTEnumRus"),Ir(),Ir(),Ir(),Ir(),Er(29,"tr"),Er(30,"td"),ba(31,"\u0421\u0442\u0430\u0442\u0443\u0441"),Ir(),Er(32,"td"),Er(33,"span"),Er(34,"b"),ba(35),ec(36,"StatusFilePackRus"),Ir(),Ir(),Ir(),Ir(),Er(37,"tr"),Er(38,"td"),ba(39,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),Ir(),Er(40,"td"),Er(41,"b"),ba(42),Ir(),Ir(),Ir(),kr(43,fL,7,1,"tr",5),kr(44,gL,7,1,"tr",5),Ir(),Er(45,"div",8),Er(46,"div"),Er(47,"table",9),Er(48,"thead"),Er(49,"tr"),Or(50,"th",10),Er(51,"th",11),ba(52,"\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430"),Ir(),Er(53,"th",11),ba(54,"\u0422\u0438\u043f \u0444\u0430\u0439\u043b\u0430"),Ir(),Er(55,"th",11),ba(56,"\u0421\u0442\u0430\u0442\u0443\u0441"),Ir(),Er(57,"th",12),ba(58,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),Ir(),Ir(),Ir(),Er(59,"tbody"),kr(60,CL,18,14,"ng-container",13),Ir(),Ir(),Ir(),Ir(),Er(61,"div"),Er(62,"input",14),Nr("click",function(){return Me(t),jr(2).getProtocol()}),Ir(),Ir(),Ir()}if(2&t){const t=jr(2);Ws(7),wa(t.model.FP.CodeMO),Ws(6),wa(t.model.FP.CaptionMO),Ws(6),wa(ic(20,16,t.model.FP.Date,"dd.MM.yyyy HH:mm")),Ws(8),wa(nc(28,19,t.model.FP.IST)),Ws(6),ea("GreenText",t.model.FP.Status===t.StatusFilePack.FLKOK)("RedText",t.model.FP.Status===t.StatusFilePack.FLKERR)("YellowText",t.model.FP.Status!==t.StatusFilePack.FLKERR&&t.model.FP.Status!==t.StatusFilePack.FLKOK),Ws(2),wa(nc(36,21,t.model.FP.Status)),Ws(7),wa(t.model.FP.CommentSite),Ws(1),xr("ngIf",t.model.FP.Order>0),Ws(1),xr("ngIf",t.model.FP.HasWarning),Ws(16),xr("ngForOf",t.model.FP.FileList),Ws(2),xr("disabled",!t.model.FP.isResult||t.isLoadFile)}}function xL(t,e){if(1&t&&(Er(0,"div"),kr(1,pL,2,0,"h2",5),kr(2,SL,63,23,"div",5),Ir()),2&t){const t=jr();Ws(1),xr("ngIf",null===t.model.FP),Ws(1),xr("ngIf",null!==t.model.FP)}}let TL=(()=>{class t extends FM{constructor(t){var e;super(),e=this,this.repo=t,this.model=new FP(null),this.StatusFilePack=HP,this.StepsProcess=UP,this.STATUS_FILE=DP,this.TYPEFILE=NP,this.hubConnect=new lL,this.connectHub=OP(function*(){try{yield e.hubConnect.Connect(),e.hubConnect.RegisterNewPackState(()=>{e.getModel(!0)})}catch(t){alert(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0443 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0432\u044b\u0437\u043e\u0432\u0430: ${t.toString()}`)}}),this.getModel=function(){var t=OP(function*(t=!1){try{t||(e.isLoad=!0),e.model=yield e.repo.getViewReestViewModelAsync()}catch(n){alert(n.toString())}finally{e.isLoad=!1}});return function(){return t.apply(this,arguments)}}(),this.isLoadFile=!1,this.getProtocol=OP(function*(){try{e.isLoadFile=!0;const t=yield e.repo.getProtocolAsync();(class{static downloadBase64File(t,e,n){const i=`data:${e};base64,${t}`,s=document.createElement("a");document.body.appendChild(s),s.href=i,s.download=n,s.click(),setTimeout(()=>{document.body.removeChild(s)},0)}}).downloadBase64File(t.FileContents,t.ContentType,t.FileDownloadName)}catch(t){alert(t.toString())}finally{e.isLoadFile=!1}}),this.ShowInstruction=()=>{this.instructionDialog.ShowDialog()},this.getModel(),this.connectHub()}ngOnDestroy(){try{this.hubConnect.Disconnect()}catch(t){alert(t.toString())}}}return t.\u0275fac=function(e){return new(e||t)(Sr(KP))},t.\u0275cmp=Bt({type:t,selectors:[["view-reestr"]],viewQuery:function(t,e){if(1&t&&_c(jM,5),2&t){let t;vc(t=Cc())&&(e.instructionDialog=t.first)}},features:[or],decls:9,vars:3,consts:[[2,"display","flex","justify-content","space-between"],["type","button","value","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",1,"ActionButton",3,"click"],["type","button","value","\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f",1,"ActionButton",3,"click"],["instructionDialog",""],[3,"isLoad"],[4,"ngIf"],[2,"text-align","left","color","red"],["width","200px"],[2,"padding-top","10px"],[1,"customers"],["width","2%"],["width","20%"],["width","35%"],[4,"ngFor","ngForOf"],["type","submit","value","\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b",1,"ActionButton",3,"disabled","click"],[1,"YellowText"],["src","../../Image/IconOK.png","width","16","height","16","alt","Ok",4,"ngIf"],["src","../../Image/IconWarning.png","width","16","height","16","alt","Warning",4,"ngIf"],["src","../../Image/IconERROR.png","width","16","height","16","alt","Error",4,"ngIf"],[2,"font-size","12px"],["style","text-align: left;font-size: 10px;",4,"ngIf"],["src","../../Image/IconOK.png","width","16","height","16","alt","Ok"],["src","../../Image/IconWarning.png","width","16","height","16","alt","Warning"],["src","../../Image/IconERROR.png","width","16","height","16","alt","Error"],[2,"text-align","left","font-size","10px"]],template:function(t,e){1&t&&(Er(0,"div",0),Er(1,"input",1),Nr("click",function(){return e.getModel()}),Ir(),Er(2,"input",2),Nr("click",function(){return e.ShowInstruction()}),Ir(),Ir(),Or(3,"Instruction-Dialog",null,3),Or(5,"hr"),Er(6,"Content-Load",4),kr(7,dL,3,0,"div",5),kr(8,xL,3,2,"div",5),Ir()),2&t&&(Ws(6),xr("isLoad",e.isLoad),Ws(1),xr("ngIf",!e.model.ConnectWCFon),Ws(1),xr("ngIf",e.model.ConnectWCFon))},directives:[jM,UM,Oh,Eh],pipes:[Rh,uL,cL,GM,hL],encapsulation:2}),t})();var EL=n(178);const IL=["cb"],OL=function(t,e,n){return{"p-checkbox-label":!0,"p-checkbox-label-active":t,"p-disabled":e,"p-checkbox-label-focus":n}};function AL(t,e){if(1&t){const t=Dr();Er(0,"label",7),Nr("click",function(e){Me(t);const n=jr(),i=Cr(3);return n.onClick(e,i,!0)}),ba(1),Ir()}if(2&t){const t=jr();sa(t.labelStyleClass),xr("ngClass",Kl(5,OL,t.checked,t.disabled,t.focused)),_r("for",t.inputId),Ws(1),wa(t.label)}}const PL=function(t,e,n){return{"p-checkbox p-component":!0,"p-checkbox-checked":t,"p-checkbox-disabled":e,"p-checkbox-focused":n}},ML=function(t,e,n){return{"p-highlight":t,"p-disabled":e,"p-focus":n}},DL={provide:Tp,useExisting:it(()=>LL),multi:!0};let LL=(()=>{class t{constructor(t){this.cd=t,this.checkboxIcon="pi pi-check",this.onChange=new lc,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1,this.checked=!1}onClick(t,e,n){t.preventDefault(),this.disabled||this.readonly||(this.checked=!this.checked,this.updateModel(t),n&&e.focus())}updateModel(t){this.binary?this.onModelChange(this.checked):(this.checked?this.addValue():this.removeValue(),this.onModelChange(this.model),this.formControl&&this.formControl.setValue(this.model)),this.onChange.emit({checked:this.checked,originalEvent:t})}handleChange(t){this.readonly||(this.checked=t.target.checked,this.updateModel(t))}isChecked(){return this.binary?this.model:this.model&&this.model.indexOf(this.value)>-1}removeValue(){this.model=this.model.filter(t=>t!==this.value)}addValue(){this.model=this.model?[...this.model,this.value]:[this.value]}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(t){this.model=t,this.checked=this.isChecked(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Sr(bl))},t.\u0275cmp=Bt({type:t,selectors:[["p-checkbox"]],viewQuery:function(t,e){if(1&t&&_c(IL,5),2&t){let t;vc(t=Cc())&&(e.inputViewChild=t.first)}},inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required"},outputs:{onChange:"onChange"},features:[Va([DL])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(t,e){if(1&t){const t=Dr();Er(0,"div",0),Er(1,"div",1),Er(2,"input",2,3),Nr("focus",function(){return e.onFocus()})("blur",function(){return e.onBlur()})("change",function(t){return e.handleChange(t)}),Ir(),Ir(),Er(4,"div",4),Nr("click",function(n){Me(t);const i=Cr(3);return e.onClick(n,i,!0)}),Or(5,"span",5),Ir(),Ir(),kr(6,AL,2,9,"label",6)}2&t&&(sa(e.styleClass),xr("ngStyle",e.style)("ngClass",Kl(18,PL,e.checked,e.disabled,e.focused)),Ws(2),xr("readonly",e.readonly)("value",e.value)("checked",e.checked)("disabled",e.disabled),_r("id",e.inputId)("name",e.name)("tabindex",e.tabindex)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-checked",e.checked)("required",e.required),Ws(2),xr("ngClass",Kl(22,ML,e.checked,e.disabled,e.focused)),Ws(1),xr("ngClass",e.checked?e.checkboxIcon:null),Ws(1),xr("ngIf",e.label))},directives:[Mh,xh,Oh],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;vertical-align:bottom}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}"],encapsulation:2,changeDetection:0}),t})(),RL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh]]}),t})();function NL(t,e){if(1&t&&(Er(0,"li"),ba(1),Ir()),2&t){const t=e.$implicit;Ws(1),wa(t)}}function FL(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr();Ws(1),wa(null==t.SelectedSection?null:t.SelectedSection.SECTION_NAME)}}function VL(t,e){if(1&t){const t=Dr();Er(0,"p-autoComplete",14),Nr("ngModelChange",function(e){return Me(t),jr().SelectedSection=e})("completeMethod",function(e){return Me(t),jr().filterSectionSpr(e)}),Ir()}if(2&t){const t=jr();xr("ngModel",t.SelectedSection)("suggestions",t.SectionSprFiltered)("dropdown",!0)}}function jL(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr();Ws(1),wa(t.model.OSN_TFOMS)}}function zL(t,e){if(1&t){const t=Dr();Er(0,"input",15),Nr("ngModelChange",function(e){return Me(t),jr().model.OSN_TFOMS=e}),Ir()}2&t&&xr("ngModel",jr().model.OSN_TFOMS)}function BL(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr();Ws(1),wa(t.model.EXAMPLE)}}function HL(t,e){if(1&t){const t=Dr();Er(0,"input",15),Nr("ngModelChange",function(e){return Me(t),jr().model.EXAMPLE=e}),Ir()}2&t&&xr("ngModel",jr().model.EXAMPLE)}function UL(t,e){if(1&t&&(Er(0,"span"),ba(1),ec(2,"date"),Ir()),2&t){const t=jr();Ws(1),wa(ic(2,1,t.model.D_BEGIN,"dd.MM.yyyy"))}}function $L(t,e){if(1&t){const t=Dr();Er(0,"p-calendar",16),Nr("ngModelChange",function(e){return Me(t),jr().model.D_BEGIN=e}),Ir()}2&t&&xr("ngModel",jr().model.D_BEGIN)("yearNavigator",!0)}function WL(t,e){1&t&&(Er(0,"span"),ba(1," \u043f\u043e "),Ir())}function qL(t,e){if(1&t&&(Er(0,"span"),ba(1),ec(2,"date"),Ir()),2&t){const t=jr();Ws(1),wa(ic(2,1,t.model.D_END,"dd.MM.yyyy"))}}function KL(t,e){if(1&t){const t=Dr();Er(0,"p-calendar",16),Nr("ngModelChange",function(e){return Me(t),jr().model.D_END=e}),Ir()}2&t&&xr("ngModel",jr().model.D_END)("yearNavigator",!0)}function GL(t,e){if(1&t&&(Er(0,"span"),ba(1),Ir()),2&t){const t=jr();Ws(1),wa(t.model.IsMEK?"\u0421\u043d\u044f\u0442\u0438\u0435 \u043d\u0430 \u041c\u042d\u041a":"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435")}}function YL(t,e){if(1&t){const t=Dr();Er(0,"p-checkbox",17),Nr("ngModelChange",function(e){return Me(t),jr().model.IsMEK=e}),Ir()}2&t&&xr("ngModel",jr().model.IsMEK)("binary",!0)}function QL(t,e){if(1&t&&(Er(0,"label",18),ba(1),Ir()),2&t){const t=jr();Ws(1),ya(" ",!0===t.model.IsMEK?"\u0421\u043d\u044f\u0442\u0438\u0435 \u043d\u0430 \u041c\u042d\u041a":"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435","")}}function ZL(t,e){if(1&t){const t=Dr();Er(0,"input",19),Nr("click",function(){return Me(t),jr().SaveError()}),Ir()}}const JL=function(){return{width:"90vw"}};let XL=(()=>{class t{constructor(t){var e=this;this.repo=t,this.model=new qP(null),this.Editor=EL,this.display=!1,this.isLoad=!1,this.onSave=new lc,this.ReadOnly=!0,this.SectionSpr=[],this.SectionSprFiltered=[],this.SelectedSection=null,this.getModel=OP(function*(){try{if(null===e.ID_ERR)return e.model=new qP(null),void(e.model.D_BEGIN=new Date);e.model=yield e.repo.getError(e.ID_ERR),e.SelectedSection=e.SectionSpr.find(t=>t.ID_SECTION===e.model.ID_SECTION)}catch(t){alert(t.toString())}}),this.FillSpr=OP(function*(){try{e.SectionSpr=yield e.repo.getSections()}catch(t){alert(t.toString())}}),this.errorList=[],this.SaveError=OP(function*(){try{let t;e.isLoad=!0,null!=e.SelectedSection&&(e.model.ID_SECTION=e.SelectedSection.ID_SECTION),t=null===e.ID_ERR?yield e.repo.AddErrorSPR(e.model):yield e.repo.EditErrorSPR(e.model),e.errorList=t,0===t.length&&(e.display=!1,e.onSave.emit(!0))}catch(t){alert(t.toString())}finally{e.isLoad=!1}})}ShowDialog(t,e){var n=this;return OP(function*(){try{n.isLoad=!0,n.ID_ERR=t,n.ReadOnly=e,n.display=!0,yield n.FillSpr(),yield n.getModel()}catch(i){alert(i.toString())}finally{n.isLoad=!1}})()}onReady(t){const e=t.ui.view.toolbar.element;t.on("change:isReadOnly",(t,n,i)=>{e.style.display=i?"none":"flex"}),t.isReadOnly&&(e.style.display="none")}filterSectionSpr(t){const e=[],n=t.query;for(let i=0;i<this.SectionSpr.length;i++){const t=this.SectionSpr[i];0===t.SECTION_NAME.toLowerCase().indexOf(n.toLowerCase())&&e.push(t)}this.SectionSprFiltered=e}}return t.\u0275fac=function(e){return new(e||t)(Sr(KP))},t.\u0275cmp=Bt({type:t,selectors:[["ERROR_EDIT"]],outputs:{onSave:"onSave"},decls:47,vars:26,consts:[[3,"header","visible","modal","visibleChange"],[3,"isLoad"],[1,"ErrorLi"],[4,"ngFor","ngForOf"],[2,"width","100%"],[2,"width","20%"],[4,"ngIf"],["field","SECTION_NAME",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod",4,"ngIf"],["type","text","pInputText","","style","width: 100%;",3,"ngModel","ngModelChange",4,"ngIf"],["dateFormat","dd MM yy","view","date","yearRange","2000:2030",3,"ngModel","yearNavigator","ngModelChange",4,"ngIf"],["inputId","inIsMEK",3,"ngModel","binary","ngModelChange",4,"ngIf"],["for","inIsMEK",4,"ngIf"],["readOnly","true",3,"editor","ngModel","disabled","ngModelChange","ready"],["type","submit","value","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","class","ActionButton",3,"click",4,"ngIf"],["field","SECTION_NAME",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod"],["type","text","pInputText","",2,"width","100%",3,"ngModel","ngModelChange"],["dateFormat","dd MM yy","view","date","yearRange","2000:2030",3,"ngModel","yearNavigator","ngModelChange"],["inputId","inIsMEK",3,"ngModel","binary","ngModelChange"],["for","inIsMEK"],["type","submit","value","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",1,"ActionButton",3,"click"]],template:function(t,e){1&t&&(Er(0,"p-dialog",0),Nr("visibleChange",function(t){return e.display=t}),Er(1,"Content-Load",1),Er(2,"div",2),Er(3,"ul"),kr(4,NL,2,1,"li",3),Ir(),Ir(),Er(5,"table",4),Er(6,"tr"),Er(7,"td",5),ba(8,"\u0421\u0435\u043a\u0446\u0438\u044f"),Ir(),Er(9,"td"),kr(10,FL,2,1,"span",6),kr(11,VL,1,3,"p-autoComplete",7),Ir(),Ir(),Er(12,"tr"),Er(13,"td"),ba(14,"\u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438"),Ir(),Er(15,"td"),kr(16,jL,2,1,"span",6),kr(17,zL,1,1,"input",8),Ir(),Ir(),Er(18,"tr"),Er(19,"td"),ba(20,"\u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0435\u043a\u0441\u0442\u0430 \u043e\u0448\u0438\u0431\u043a\u0438"),Ir(),Er(21,"td"),kr(22,BL,2,1,"span",6),kr(23,HL,1,1,"input",8),Ir(),Ir(),Er(24,"tr"),Er(25,"td"),ba(26,"\u041f\u0435\u0440\u0438\u043e\u0434"),Ir(),Er(27,"td"),Er(28,"span"),ba(29,"\u0441 "),Ir(),kr(30,UL,3,4,"span",6),kr(31,$L,1,2,"p-calendar",9),kr(32,WL,2,0,"span",6),kr(33,qL,3,4,"span",6),kr(34,KL,1,2,"p-calendar",9),Ir(),Ir(),Er(35,"tr"),Er(36,"td"),ba(37,"\u041f\u0440\u0438\u0437\u043d\u0430\u043a \u041c\u042d\u041a"),Ir(),Er(38,"td"),kr(39,GL,2,1,"span",6),kr(40,YL,1,2,"p-checkbox",10),kr(41,QL,2,1,"label",11),Ir(),Ir(),Ir(),Or(42,"p"),Er(43,"ckeditor",12),Nr("ngModelChange",function(t){return e.model.TEXT=t})("ready",function(t){return e.onReady(t)}),Ir(),Or(44,"p"),Er(45,"div"),kr(46,ZL,1,0,"input",13),Ir(),Ir(),Ir()),2&t&&(na($l(25,JL)),xr("header",e.ReadOnly?"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440":null===e.ID_ERR?"\u041d\u043e\u0432\u044b\u0439":"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440")("visible",e.display)("modal",!0),Ws(1),xr("isLoad",e.isLoad),Ws(3),xr("ngForOf",e.errorList),Ws(6),xr("ngIf",e.ReadOnly),Ws(1),xr("ngIf",!e.ReadOnly),Ws(5),xr("ngIf",e.ReadOnly),Ws(1),xr("ngIf",!e.ReadOnly),Ws(5),xr("ngIf",e.ReadOnly),Ws(1),xr("ngIf",!e.ReadOnly),Ws(7),xr("ngIf",e.ReadOnly),Ws(1),xr("ngIf",!e.ReadOnly),Ws(1),xr("ngIf",!e.ReadOnly||null!=e.model.D_END),Ws(1),xr("ngIf",e.ReadOnly),Ws(1),xr("ngIf",!e.ReadOnly),Ws(5),xr("ngIf",e.ReadOnly),Ws(1),xr("ngIf",!e.ReadOnly),Ws(1),xr("ngIf",!e.ReadOnly),Ws(2),xr("editor",e.Editor)("ngModel",e.model.TEXT)("disabled",e.ReadOnly),Ws(3),xr("ngIf",!e.ReadOnly))},directives:[_p,UM,Eh,Oh,Ey,$p,uf,Lm,Op,mf,Sx,LL],pipes:[Rh],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{height:55vh!important}"]}),t})();function tR(t,e){if(1&t){const t=Dr();Er(0,"input",16),Nr("click",function(){return Me(t),jr().AddError()}),Ir()}}function eR(t,e){1&t&&(Er(0,"h3"),ba(1,"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"),Ir())}function nR(t,e){if(1&t){const t=Dr();Er(0,"input",22),Nr("click",function(){Me(t);const e=jr().$implicit;return jr(3).EditError(e)}),Ir()}}function iR(t,e){if(1&t){const t=Dr();Er(0,"input",23),Nr("click",function(){Me(t);const e=jr().$implicit;return jr(3).DeleteError(e)}),Ir()}}function sR(t,e){if(1&t){const t=Dr();Er(0,"tr",18),Nr("click",function(){const e=Me(t).$implicit;return jr(3).selectItem(e)})("dblclick",function(){const e=Me(t).$implicit;return jr(3).ShowError(e)}),Er(1,"td"),ba(2),ec(3,"date"),Ir(),Er(4,"td"),ba(5),Ir(),Er(6,"td"),ba(7),Ir(),Er(8,"td"),Er(9,"input",19),Nr("click",function(){const e=Me(t).$implicit;return jr(3).ShowError(e)}),Ir(),kr(10,nR,1,0,"input",20),kr(11,iR,1,0,"input",21),Ir(),Ir()}if(2&t){const t=e.$implicit,n=jr(3);ea("selected",t.SELECTED)("grayTr",null!==t.D_END),Ws(2),wa(ic(3,9,t.D_EDIT,"dd.MM.yyyy")),Ws(3),wa(t.OSN_TFOMS),Ws(2),wa(t.EXAMPLE),Ws(3),xr("ngIf",n.AdminMode),Ws(1),xr("ngIf",n.AdminMode)}}function oR(t,e){if(1&t&&(Er(0,"table",9),Er(1,"tr"),Er(2,"th",10),ba(3,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),Ir(),Er(4,"th",10),ba(5,"\u041a\u043e\u0434"),Ir(),Er(6,"th",11),ba(7,"\u0422\u0435\u043a\u0441\u0442 \u043e\u0448\u0438\u0431\u043a\u0438"),Ir(),Er(8,"th",12),ba(9,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),Ir(),Ir(),kr(10,sR,12,12,"tr",13),Ir()),2&t){const t=jr(2);Ws(10),xr("ngForOf",t.FIND_LIST)}}function rR(t,e){if(1&t&&(Er(0,"div"),Er(1,"h2"),ba(2,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430(\u043f\u0435\u0440\u0432\u044b\u0435 10 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432)"),Ir(),Er(3,"div"),kr(4,eR,2,0,"h3",8),kr(5,oR,11,1,"table",17),Ir(),Or(6,"hr"),Ir()),2&t){const t=jr();Ws(4),xr("ngIf",0===t.FIND_LIST.length),Ws(1),xr("ngIf",0!==t.FIND_LIST.length)}}function aR(t,e){if(1&t){const t=Dr();Er(0,"input",22),Nr("click",function(){Me(t);const e=jr().$implicit;return jr().EditError(e)}),Ir()}}function lR(t,e){if(1&t){const t=Dr();Er(0,"input",23),Nr("click",function(){Me(t);const e=jr().$implicit;return jr().DeleteError(e)}),Ir()}}function cR(t,e){if(1&t){const t=Dr();Er(0,"tr",18),Nr("click",function(){const e=Me(t).$implicit;return jr().selectItem(e)})("dblclick",function(){const e=Me(t).$implicit;return jr().ShowError(e)}),Er(1,"td"),ba(2),ec(3,"date"),Ir(),Er(4,"td"),ba(5),Ir(),Er(6,"td"),ba(7),Ir(),Er(8,"td"),Er(9,"input",19),Nr("click",function(){const e=Me(t).$implicit;return jr().ShowError(e)}),Ir(),kr(10,aR,1,0,"input",20),kr(11,lR,1,0,"input",21),Ir(),Ir()}if(2&t){const t=e.$implicit,n=jr();ea("selected",t.SELECTED)("grayTr",null!==t.D_END),Ws(2),wa(ic(3,9,t.D_EDIT,"dd.MM.yyyy")),Ws(3),wa(t.OSN_TFOMS),Ws(2),wa(t.EXAMPLE),Ws(3),xr("ngIf",n.AdminMode),Ws(1),xr("ngIf",n.AdminMode)}}function uR(t,e){if(1&t){const t=Dr();Er(0,"input",22),Nr("click",function(){Me(t);const e=jr().$implicit;return jr(2).EditError(e)}),Ir()}}function hR(t,e){if(1&t){const t=Dr();Er(0,"input",23),Nr("click",function(){Me(t);const e=jr().$implicit;return jr(2).DeleteError(e)}),Ir()}}function dR(t,e){if(1&t){const t=Dr();Er(0,"tr",18),Nr("click",function(){const e=Me(t).$implicit;return jr(2).selectItem(e)})("dblclick",function(){const e=Me(t).$implicit;return jr(2).ShowError(e)}),Er(1,"td"),ba(2),ec(3,"date"),Ir(),Er(4,"td"),ba(5),Ir(),Er(6,"td"),ba(7),Ir(),Er(8,"td"),Er(9,"input",19),Nr("click",function(){const e=Me(t).$implicit;return jr(2).ShowError(e)}),Ir(),kr(10,uR,1,0,"input",20),kr(11,hR,1,0,"input",21),Ir(),Ir()}if(2&t){const t=e.$implicit,n=jr(2);ea("selected",t.SELECTED)("grayTr",null!==t.D_END),Ws(2),wa(ic(3,9,t.D_EDIT,"dd.MM.yyyy")),Ws(3),wa(t.OSN_TFOMS),Ws(2),wa(t.EXAMPLE),Ws(3),xr("ngIf",n.AdminMode),Ws(1),xr("ngIf",n.AdminMode)}}function pR(t,e){if(1&t&&(Er(0,"div"),Er(1,"h2"),ba(2),Ir(),Er(3,"div"),Er(4,"table",9),Er(5,"tr"),Er(6,"th",10),ba(7,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),Ir(),Er(8,"th",10),ba(9,"\u041a\u043e\u0434"),Ir(),Er(10,"th",11),ba(11,"\u0422\u0435\u043a\u0441\u0442 \u043e\u0448\u0438\u0431\u043a\u0438"),Ir(),Er(12,"th",12),ba(13,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),Ir(),Ir(),kr(14,dR,12,12,"tr",13),Ir(),Ir(),Ir()),2&t){const t=e.$implicit;Ws(2),wa(t.SECTION_NAME),Ws(12),xr("ngForOf",t.Errors)}}let fR=(()=>{class t extends FM{constructor(t){var e;super(),e=this,this.repo=t,this.AdminMode=!1,this.model=new $P(null),this.IsShowClose=!1,this.FIND_LIST=null,this.findError=t=>{if(null===t||""===t)return null;const e=[];for(let n of this.model.Sections){for(let i of n.Errors)if((i.OSN_TFOMS===t||-1!==i.EXAMPLE.toUpperCase().indexOf(t.toUpperCase()))&&(e.push(i),10===e.length))break;if(10===e.length)break}return e},this.FIND=()=>{this.FIND_LIST=this.findError(this.filter)},this.getModel=OP(function*(){try{e.isLoad=!0;let t=yield e.repo.getErrorSPR(e.IsShowClose);e.reSelect(t),e.model=t}catch(t){alert(t.toString())}finally{e.isLoad=!1}}),this.selectedItems=[],this.selectItem=t=>{try{null!=t&&(this.selectedItems.forEach(t=>t.SELECTED=!1),this.selectedItems=[],t.SELECTED=!0,this.selectedItems.push(t))}catch(t){alert(t.toString())}},this.reSelect=t=>{if(0!==this.selectedItems.length){let e=[];t.Sections.forEach(t=>{t.Errors.forEach(t=>{0!==this.selectedItems.filter(e=>e.ID_ERR===t.ID_ERR).length&&e.push(t)})}),t.Top30.forEach(t=>{0!==this.selectedItems.filter(e=>e.ID_ERR===t.ID_ERR).length&&e.push(t)}),e.forEach(t=>t.SELECTED=!0),this.selectedItems=e}},this.EditError=t=>{try{null!=t&&this.errorEditDialog.ShowDialog(t.ID_ERR,!1)}catch(t){alert(t.toString())}},this.AddError=()=>{try{this.errorEditDialog.ShowDialog(null,!1)}catch(t){alert(t.toString())}},this.ShowError=t=>{try{null!=t&&this.errorEditDialog.ShowDialog(t.ID_ERR,!0)}catch(t){alert(t.toString())}},this.DeleteError=function(){var t=OP(function*(t){try{null!=t&&confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443?")&&(yield e.repo.RemoveErrorSPR(t.ID_ERR),e.getModel())}catch(t){alert(t.toString())}});return function(e){return t.apply(this,arguments)}}(),this.RefreshModel=()=>{this.getModel()},this.getModel()}}return t.\u0275fac=function(e){return new(e||t)(Sr(KP))},t.\u0275cmp=Bt({type:t,selectors:[["ERROR_SPR"]],viewQuery:function(t,e){if(1&t&&_c(XL,5),2&t){let t;vc(t=Cc())&&(e.errorEditDialog=t.first)}},inputs:{AdminMode:"AdminMode"},features:[or],decls:32,vars:8,consts:[[2,"display","flex","justify-content","space-between"],["type","submit","value","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",1,"ActionButton",3,"disabled","click"],["type","submit","class","ActionButton","value","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443",3,"click",4,"ngIf"],["inputId","InShowClose",3,"ngModel","binary","ngModelChange","onChange"],["for","InshowClose"],[1,"p-input-icon-left",2,"width","100%"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","\u041a\u043e\u0434 \u0438\u043b\u0438 \u0447\u0430\u0441\u0442\u044c \u0442\u0435\u043a\u0441\u0442\u0430 \u043e\u0448\u0438\u0431\u043a\u0438",2,"width","100%",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"table_report"],[2,"width","10%"],[2,"width","60%"],[2,"width","20%"],[3,"selected","grayTr","click","dblclick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"onSave"],["type","submit","value","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443",1,"ActionButton",3,"click"],["class","table_report",4,"ngIf"],[3,"click","dblclick"],["type","button","value","",1,"showButtonICO",3,"click"],["type","button","class","editButtonICO","value","",3,"click",4,"ngIf"],["type","button","class","delButtonICO","value","",3,"click",4,"ngIf"],["type","button","value","",1,"editButtonICO",3,"click"],["type","button","value","",1,"delButtonICO",3,"click"]],template:function(t,e){1&t&&(Er(0,"div",0),Er(1,"input",1),Nr("click",function(){return e.getModel()}),Ir(),kr(2,tR,1,0,"input",2),Ir(),Or(3,"br"),Er(4,"div"),Er(5,"p-checkbox",3),Nr("ngModelChange",function(t){return e.IsShowClose=t})("onChange",function(){return e.RefreshModel()}),Ir(),Er(6,"label",4),ba(7," \u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0437\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"),Ir(),Ir(),Or(8,"br"),Or(9,"br"),Er(10,"span",5),Or(11,"i",6),Er(12,"input",7),Nr("ngModelChange",function(t){return e.filter=t})("ngModelChange",function(){return e.FIND()}),Ir(),Ir(),Or(13,"hr"),kr(14,rR,7,2,"div",8),Er(15,"div"),Er(16,"h2"),ba(17,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f(\u0437\u0430 30 \u0434\u043d\u0435\u0439)"),Ir(),Er(18,"div"),Er(19,"table",9),Er(20,"tr"),Er(21,"th",10),ba(22,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),Ir(),Er(23,"th",10),ba(24,"\u041a\u043e\u0434"),Ir(),Er(25,"th",11),ba(26,"\u0422\u0435\u043a\u0441\u0442 \u043e\u0448\u0438\u0431\u043a\u0438"),Ir(),Er(27,"th",12),ba(28,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),Ir(),Ir(),kr(29,cR,12,12,"tr",13),Ir(),Ir(),Ir(),kr(30,pR,15,2,"div",14),Er(31,"ERROR_EDIT",15),Nr("onSave",function(){return e.RefreshModel()}),Ir()),2&t&&(Ws(1),xr("disabled",e.isLoad),Ws(1),xr("ngIf",e.AdminMode),Ws(3),xr("ngModel",e.IsShowClose)("binary",!0),Ws(7),xr("ngModel",e.filter),Ws(2),xr("ngIf",null!==e.FIND_LIST),Ws(15),xr("ngForOf",e.model.Top30),Ws(1),xr("ngForOf",e.model.Sections))},directives:[Oh,LL,$p,uf,Op,mf,Eh,XL],pipes:[Rh],styles:[".grayTr[_ngcontent-%COMP%]{background-color:#dcdcdc}"]}),t})();class gR{constructor(t){this.TimeGenerated=null,this.Message="",this.Type=mR.message,null!=t&&(null!=t.TimeGenerated&&(this.TimeGenerated=new Date(t.TimeGenerated)),this.Message=t.Message,this.Type=t.Type)}}var mR=(()=>(function(t){t[t.message=0]="message",t[t.error=1]="error",t[t.warning=2]="warning"}(mR||(mR={})),mR))();class bR{constructor(t){this.PersonItems=[],null!=t&&(this.TotalRecord=t.TotalRecord,this.PersonItems=t.PersonItems.map(t=>new wR(t)))}}class wR{constructor(t){this.FAM="",this.IM="",this.OT="",this.DR="",this.POLIS="",this.DOC="",this.STATUS=null,this.STATUS_TEXT="",this.CURRENT_SMO="",this.CODE_MO="",this.STATUS_SEND=null,this.STATUS_SEND_TEXT="",null!=t&&(this.FAM=t.FAM,this.IM=t.IM,this.OT=t.OT,this.DR=t.DR,this.POLIS=t.POLIS,this.DOC=t.DOC,this.STATUS=t.STATUS,this.STATUS_TEXT=t.STATUS_TEXT,this.CURRENT_SMO=t.CURRENT_SMO,this.CS_LIST_IN_ID=t.CS_LIST_IN_ID,this.CODE_MO=t.CODE_MO,this.STATUS_SEND=t.STATUS_SEND,this.STATUS_SEND_TEXT=t.STATUS_SEND_TEXT,this.DATE_CREATE=t.DATE_CREATE)}Merge(t){this.FAM=t.FAM,this.IM=t.IM,this.OT=t.OT,this.DR=t.DR,this.POLIS=t.POLIS,this.DOC=t.DOC,this.STATUS=t.STATUS,this.STATUS_TEXT=t.STATUS_TEXT,this.CURRENT_SMO=t.CURRENT_SMO,this.CS_LIST_IN_ID=t.CS_LIST_IN_ID,this.CODE_MO=t.CODE_MO,this.STATUS_SEND=t.STATUS_SEND,this.STATUS_SEND_TEXT=t.STATUS_SEND_TEXT,this.DATE_CREATE=t.DATE_CREATE}}var yR=(()=>(function(t){t[t.New=0]="New",t[t.OnSend=1]="OnSend",t[t.Send=2]="Send",t[t.FLK=3]="FLK",t[t.Answer=4]="Answer",t[t.Error=5]="Error"}(yR||(yR={})),yR))();class vR{constructor(t){this.FAM="",this.IM="",this.OT="",this.DR=null,this.W=null,this.SPOLIS="",this.NPOLIS="",this.DOC_TYPE="",this.DOC_SER="",this.DOC_NUM="",this.SNILS="",null!=t&&(this.FAM=t.FAM,this.IM=t.IM,this.OT=t.OT,null!=t.DR&&(this.DR=new Date(t.DR)),this.W=t.W,this.VPOLIS=t.VPOLIS,this.SPOLIS=t.SPOLIS,this.NPOLIS=t.NPOLIS,this.DOC_TYPE=t.DOC_TYPE,this.DOC_SER=t.DOC_SER,this.DOC_NUM=t.DOC_NUM,this.SNILS=t.SNILS,this.CS_LIST_IN_ID=t.CS_LIST_IN_ID)}}class _R{constructor(t){this.ID=null,this.NAME="",null!=t&&(this.ID=t.ID,this.NAME=t.NAME)}}class kR{constructor(t){this.ID=null,this.NAME="",null!=t&&(this.ID=t.ID,this.NAME=t.NAME)}}class CR{constructor(t){this.ID=null,this.NAME="",null!=t&&(this.ID=t.ID,this.NAME=t.NAME)}}class SR{constructor(t){this.F011=[],this.W=[],this.VPOLIS=[],null!=t&&(this.F011.push(new kR(null)),this.F011.push(...t.F011.map(t=>new kR(t))),this.W.push(new _R(null)),this.W.push(...t.W.map(t=>new _R(t))),this.VPOLIS.push(new CR(null)),this.VPOLIS.push(...t.VPOLIS.map(t=>new CR(t))))}}class xR{constructor(t){this.FIO="",this.W="",this.POLIS="",this.DOC="",this.SNILS="",this.STATUS=null,this.RESULT=[],null!=t&&(this.FIO=t.FIO,null!=t.DR&&(this.DR=new Date(t.DR)),this.W=t.W,this.POLIS=t.POLIS,this.DOC=t.DOC,this.SNILS=t.SNILS,this.STATUS=t.STATUS,this.RESULT=t.RESULT.map(t=>new TR(t)))}get HaveResult(){return 0!==this.RESULT.length}}class TR{constructor(t){this.ENP="",this.DR=null,this.DDEATH=null,this.LVL_D="",this.LVL_D_KOD=[],this.SMO=[],null!=t&&(this.ENP=t.ENP,null!=t.DR&&(this.DR=new Date(t.DR)),null!=t.DDEATH&&(this.DDEATH=new Date(t.DDEATH)),this.LVL_D=t.LVL_D,this.LVL_D_KOD=t.LVL_D_KOD,this.SMO=t.SMO.map(t=>new ER(t)))}}class ER{constructor(t){this.ENP="",this.TF_OKATO="",this.NAME_TFK="",this.TYPE_SMO="",this.SMO="",this.SMO_NAME="",this.DATE_B=null,this.DATE_E=null,this.VPOLIS="",this.SPOLIS="",this.NPOLIS="",this.SMO_OK="",null!=t&&(this.ENP=t.ENP,this.TF_OKATO=t.TF_OKATO,this.NAME_TFK=t.NAME_TFK,this.TYPE_SMO=t.TYPE_SMO,this.SMO=t.SMO,this.SMO_NAME=t.SMO_NAME,null!=t.DATE_B&&(this.DATE_B=new Date(t.DATE_B)),null!=t.DATE_E&&(this.DATE_E=new Date(t.DATE_E)),this.VPOLIS=t.VPOLIS,this.SPOLIS=t.SPOLIS,this.NPOLIS=t.NPOLIS,this.SMO_OK=t.SMO_OK)}}let IR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),OR=(()=>{class t{constructor(){this.defaultFetchParam={credentials:"same-origin"}}createFetch(t,e="GET",n=null){return fetch(t,{credentials:"same-origin",method:e,body:n})}GetTitleByID(t){var e=this;return OP(function*(){const n=t.map(t=>`CS_LIST_IN_ID=${t}`).join("&"),i=yield e.createFetch(`../../Identification/GetCSItemTitleByID?${n}`,"GET");if(i.ok){const t=yield i.json();if(t.Result)return t.Value.map(t=>new wR(t));throw new Error(t.Value)}throw new Error(`${i.status}: ${i.statusText}`)})()}GetTitle(t,e){var n=this;return OP(function*(){const i=yield n.createFetch(`../../Identification/GetCSItemTitle?first=${t}&rows=${e}`,"GET");if(i.ok){const t=yield i.json();if(t.Result)return new bR(t.Value);throw new Error(t.Value)}throw new Error(`${i.status}: ${i.statusText}`)})()}GetSPR(){var t=this;return OP(function*(){const e=yield t.createFetch("../../Identification/GetSPR","GET");if(e.ok){const t=yield e.json();if(t.Result)return new SR(t.Value);throw new Error(t.Value)}throw new Error(`${e.status}: ${e.statusText}`)})()}PersonItemModelToFormData(t,e){const n=new FormData;return e&&null!=t.CS_LIST_IN_ID&&n.append("CS_LIST_IN_ID",t.CS_LIST_IN_ID.toString()),t.FAM&&n.append("FAM",t.FAM),t.IM&&n.append("IM",t.IM),t.OT&&n.append("OT",t.OT),null!=t.DR&&n.append("DR",t.DR.toASPstring()),null!=t.W&&n.append("W",t.W.toString()),null!=t.DOC_TYPE&&n.append("DOC_TYPE",t.DOC_TYPE),t.DOC_NUM&&n.append("DOC_NUM",t.DOC_NUM),t.DOC_SER&&n.append("DOC_SER",t.DOC_SER),null!=t.VPOLIS&&n.append("VPOLIS",t.VPOLIS.toString()),t.SPOLIS&&n.append("SPOLIS",t.SPOLIS),t.NPOLIS&&n.append("NPOLIS",t.NPOLIS),t.SNILS&&n.append("SNILS",t.SNILS),n}AddPerson(t){var e=this;return OP(function*(){const n=yield e.createFetch("../../Identification/AddPerson","POST",e.PersonItemModelToFormData(t,!1));if(n.ok){const t=yield n.json();return new AR(t.Result,t.Result?null:t.Value)}throw new Error(`${n.status}: ${n.statusText}`)})()}UpdatePerson(t){var e=this;return OP(function*(){const n=yield e.createFetch("../../Identification/UpdatePerson","POST",e.PersonItemModelToFormData(t,!0));if(n.ok){const t=yield n.json();return new AR(t.Result,t.Result?null:t.Value)}throw new Error(`${n.status}: ${n.statusText}`)})()}GetPerson(t){var e=this;return OP(function*(){const n=yield e.createFetch(`../../Identification/GetPerson?CS_LIST_IN_ID=${t}`,"GET");if(n.ok){const t=yield n.json();if(t.Result)return new vR(t.Value);throw new Error(t.Value)}throw new Error(`${n.status}: ${n.statusText}`)})()}RemovePerson(t){var e=this;return OP(function*(){let n=new FormData;t.forEach(t=>{n.append("CS_LIST_IN_ID",t.toString())});const i=yield e.createFetch("../../Identification/RemovePerson","POST",n);if(i.ok){const t=yield i.json();if(t.Result)return!0;throw new Error(t.Value)}throw new Error(`${i.status}: ${i.statusText}`)})()}SendPerson(t){var e=this;return OP(function*(){let n=new FormData;t.forEach(t=>{n.append("CS_LIST_IN_ID",t.toString())});const i=yield e.createFetch("../../Identification/SendPerson","POST",n);if(i.ok){const t=yield i.json();if(t.Result)return!0;throw new Error(t.Value)}throw new Error(`${i.status}: ${i.statusText}`)})()}SetNewStatus(t){var e=this;return OP(function*(){let n=new FormData;t.forEach(t=>{n.append("CS_LIST_IN_ID",t.toString())});const i=yield e.createFetch("../../Identification/SetNewStatus","POST",n);if(i.ok){const t=yield i.json();if(t.Result)return!0;throw new Error(t.Value)}throw new Error(`${i.status}: ${i.statusText}`)})()}GetPersonView(t){var e=this;return OP(function*(){const n=yield e.createFetch(`../../Identification/GetPersonView?CS_LIST_IN_ID=${t}`,"GET");if(n.ok){const t=yield n.json();if(t.Result)return new xR(t.Value);throw new Error(t.Value)}throw new Error(`${n.status}: ${n.statusText}`)})()}GetServiceState(){var t=this;return OP(function*(){const e=yield t.createFetch("../../Identification/GetServiceState","GET");if(e.ok){const t=yield e.json();if(t.Result)return t.Value;throw new Error(t.Value)}throw new Error(`${e.status}: ${e.statusText}`)})()}GetLogService(){var t=this;return OP(function*(){const e=yield t.createFetch("../../Identification/GetServiceLog","GET");if(e.ok){const t=yield e.json();if(t.Result)return t.Value.map(t=>new gR(t));throw new Error(t.Value)}throw new Error(`${e.status}: ${e.statusText}`)})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class AR{constructor(t,e){this.Error=[],this.Result=t,null!=e&&(Array.isArray(e)?this.Error=e.map(t=>t.toString()):this.Error.push(e.toString()))}}const PR=function(t,e,n){return{ImgWarning:t,ImgError:e,ImgQuestion:n}};function MR(t,e){if(1&t&&(Er(0,"tr"),Er(1,"td"),Or(2,"div",5),Ir(),Er(3,"td"),ba(4),ec(5,"date"),Ir(),Er(6,"td"),ba(7),Ir(),Ir()),2&t){const t=e.$implicit,n=jr();Ws(2),xr("ngClass",Kl(6,PR,t.Type==n.TypeEntries.warning,t.Type==n.TypeEntries.error,t.Type==n.TypeEntries.message)),Ws(2),wa(ic(5,3,t.TimeGenerated,"dd.MM.yyyy HH:mm:ss")),Ws(3),wa(t.Message)}}const DR=function(){return{width:"90vw"}};let LR=(()=>{class t{constructor(t){this.repo=t,this.isEnabled=null,this.AdminMode=!1,this.TypeEntries=mR,this.isLoad=!1,this._isDisplayLogDialog=!1,this.isLoadLog=!1,this.Log=[]}ngOnInit(){this.items=[{label:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:"pi pi-refresh",command:()=>{this.updateStatus()}}],this.AdminMode&&this.items.push({label:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043b\u043e\u0433",command:()=>{this.showLog()}}),this.updateStatus()}updateStatus(){var t=this;return OP(function*(){try{t.isLoad=!0,t.isEnabled=null,t.isEnabled=yield t.repo.GetServiceState()}catch(e){alert(e.toString())}finally{t.isLoad=!1}})()}get isDisplayLogDialog(){return this._isDisplayLogDialog}set isDisplayLogDialog(t){this._isDisplayLogDialog=t,!1===t&&(this.Log=[])}showLog(){var t=this;return OP(function*(){try{t.isLoadLog=!0,t.isDisplayLogDialog=!0,t.Log=yield t.repo.GetLogService()}catch(e){alert(e.toString())}finally{t.isLoadLog=!1}})()}}return t.\u0275fac=function(e){return new(e||t)(Sr(IR))},t.\u0275cmp=Bt({type:t,selectors:[["CSServiceStatus"]],inputs:{AdminMode:"AdminMode"},decls:12,vars:11,consts:[[3,"icon","label","model","styleClass"],["header","\u041b\u043e\u0433 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439",3,"visible","modal","visibleChange"],[3,"isLoad"],[1,"table_report"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(t,e){1&t&&(Or(0,"p-splitButton",0),Er(1,"p-dialog",1),Nr("visibleChange",function(t){return e.isDisplayLogDialog=t}),Er(2,"Content-Load",2),Er(3,"table",3),Er(4,"tr"),Er(5,"th"),ba(6,"\u0422\u0438\u043f"),Ir(),Er(7,"th"),ba(8,"\u0414\u0430\u0442\u0430"),Ir(),Er(9,"th"),ba(10,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"),Ir(),Ir(),kr(11,MR,8,10,"tr",4),Ir(),Ir(),Ir()),2&t&&(xr("icon",e.isLoad?"pi pi-spin pi-spinner":"")("label",e.isLoad?"\u0417\u0430\u043f\u0440\u043e\u0441 \u0434\u0430\u043d\u043d\u044b\u0445...":e.isEnabled?"\u0421\u0435\u0440\u0432\u0438\u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d":"\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d")("model",e.items)("styleClass",null===e.isEnabled?"gray-p-splitbutton":e.isEnabled?"green-p-splitbutton":"red-p-splitbutton"),Ws(1),na($l(10,DR)),xr("visible",e.isDisplayLogDialog)("modal",!0),Ws(1),xr("isLoad",e.isLoadLog),Ws(9),xr("ngForOf",e.Log))},directives:[ES,_p,UM,Eh,xh],pipes:[Rh],styles:[".red-p-splitbutton .p-button{background:#f08080;border-color:#f08080;font-weight:700;font-family:Times New Roman,Times,serif}  .red-p-splitbutton .p-button:hover{background:#f55353;border-color:#f55353}  .green-p-splitbutton .p-button{background:#4caf50;border-color:#4caf50;font-weight:700;font-family:Times New Roman,Times,serif}  .green-p-splitbutton .p-button:hover{background:#0ea813;border-color:#0ea813}  .gray-p-splitbutton .p-button{background:#c4c4c4;border-color:#c4c4c4;font-weight:700;font-family:Times New Roman,Times,serif}  .gray-p-splitbutton .p-button:hover{background:#a3a3a3;border-color:#a3a3a3}"]}),t})();function RR(t,e){if(1&t&&(Er(0,"li"),ba(1),Ir()),2&t){const t=e.$implicit;Ws(1),wa(t)}}const NR=function(){return{width:"100%"}};function FR(t,e){if(1&t){const t=Dr();Er(0,"input",16),Nr("ngModelChange",function(e){return Me(t),jr().model.DOC_SER=e}),Ir()}if(2&t){const t=jr();na($l(3,NR)),xr("ngModel",t.model.DOC_SER)}}function VR(t,e){if(1&t){const t=Dr();Er(0,"p-inputMask",17),Nr("ngModelChange",function(e){return Me(t),jr().model.DOC_SER=e}),Ir()}if(2&t){const t=jr();na($l(5,NR)),xr("mask",t.maskDOC_S)("placeholder",t.maskDOC_S)("ngModel",t.model.DOC_SER)}}function jR(t,e){if(1&t){const t=Dr();Er(0,"input",16),Nr("ngModelChange",function(e){return Me(t),jr().model.DOC_NUM=e}),Ir()}if(2&t){const t=jr();na($l(7,NR)),ea("ng-invalid",""===t.model.DOC_NUM&&t.model.DOC_TYPE)("ng-dirty",!0),xr("ngModel",t.model.DOC_NUM)}}function zR(t,e){if(1&t){const t=Dr();Er(0,"p-inputMask",17),Nr("ngModelChange",function(e){return Me(t),jr().model.DOC_NUM=e}),Ir()}if(2&t){const t=jr();na($l(9,NR)),ea("ng-invalid",""===t.model.DOC_NUM&&t.model.DOC_TYPE)("ng-dirty",!0),xr("mask",t.maskDOC_N)("placeholder",t.maskDOC_N)("ngModel",t.model.DOC_NUM)}}function BR(t,e){if(1&t){const t=Dr();Er(0,"input",16),Nr("ngModelChange",function(e){return Me(t),jr().model.NPOLIS=e}),Ir()}if(2&t){const t=jr();na($l(7,NR)),ea("ng-invalid",""===t.model.NPOLIS&&t.model.VPOLIS)("ng-dirty",!0),xr("ngModel",t.model.NPOLIS)}}function HR(t,e){if(1&t){const t=Dr();Er(0,"p-inputMask",17),Nr("ngModelChange",function(e){return Me(t),jr().model.NPOLIS=e}),Ir()}if(2&t){const t=jr();na($l(9,NR)),ea("ng-invalid",""===t.model.NPOLIS&&t.model.VPOLIS)("ng-dirty",!0),xr("mask",t.maskNPOLIS)("placeholder",t.maskNPOLIS)("ngModel",t.model.NPOLIS)}}const UR=function(){return{width:"90vw"}};let $R=(()=>{class t{constructor(t,e){this.repo=t,this.cdr=e,this.mode=WR.New,this.EditMode=WR,this.currentCS_LIST_IN_ID=null,this._display=!1,this.onUpdateData=new lc,this.model=new vR(null),this.SPR=new SR(null),this.isLoad=!1,this._selectW=null,this._selectF011=null,this._selectVPOLIS=null,this.maskNPOLIS="",this.maskDOC_S="",this.maskDOC_N="",this.ErrorModelList=[]}get display(){return this._display}set display(t){this._display=t,t||(this.ClearSPR(),this.ClearModel())}ShowDialog(t,e=null){var n=this;return OP(function*(){try{switch(n.currentCS_LIST_IN_ID=e,n.mode=t,n.isLoad=!0,n.display=!0,n.SPR=yield n.repo.GetSPR(),t){case WR.New:n.model=new vR(null);break;case WR.Double:case WR.Edit:yield n.GetModel(e)}}catch(i){alert(i.toString())}finally{n.isLoad=!1}})()}ClearModel(){this.currentCS_LIST_IN_ID=null,this.model=new vR(null),this.selectW=null,this.selectF011=null,this.selectVPOLIS=null,this.ErrorModelList=[]}get selectW(){return this._selectW}set selectW(t){this._selectW=t,this.model.W=null===t?null:t.ID}get selectF011(){return this._selectF011}set selectF011(t){this._selectF011=t,this.model.DOC_TYPE=null===t?"":t.ID,this.SetMaskNDoc(this.model.DOC_TYPE)}get selectVPOLIS(){return this._selectVPOLIS}set selectVPOLIS(t){this._selectVPOLIS=t,this.model.VPOLIS=null===t?null:t.ID,this.SetMaskNPolis(this.model.VPOLIS)}SetMaskNPolis(t){let e="";2===t&&(e="999999999",new RegExp("^\\d{9}$").test(this.model.NPOLIS)||(this.model.NPOLIS="")),4===t&&(e="9999999999999999",new RegExp("^\\d{16}$").test(this.model.NPOLIS)||(this.model.NPOLIS="")),this.maskNPOLIS=e}SetMaskNDoc(t){let e="",n="";"14"===t&&(n="999999",e="99 99",new RegExp("^\\d{2} \\d{2}$").test(this.model.DOC_SER)||(this.model.DOC_SER=""),new RegExp("^\\d{6}$").test(this.model.DOC_NUM)||(this.model.DOC_NUM="")),this.maskDOC_S=e,this.maskDOC_N=n}ClearSPR(){this.SPR=new SR(null)}SaveModel(){var t=this;return OP(function*(){var e;try{let n;t.isLoad=!0,n=t.mode===WR.Edit?yield t.repo.UpdatePerson(t.model):yield t.repo.AddPerson(t.model),n.Result?(t.display=!1,null===(e=t.onUpdateData)||void 0===e||e.emit()):t.ErrorModelList=n.Error}catch(n){alert(n.toString())}finally{t.isLoad=!1}})()}GetModel(t){var e=this;return OP(function*(){var n=yield e.repo.GetPerson(t);e.selectW=e.SPR.W.find(t=>t.ID==n.W),e.selectF011=e.SPR.F011.find(t=>t.ID==n.DOC_TYPE),e.selectVPOLIS=e.SPR.VPOLIS.find(t=>t.ID==n.VPOLIS),e.cdr.detectChanges(),e.model=n})()}}return t.\u0275fac=function(e){return new(e||t)(Sr(IR),Sr(bl))},t.\u0275cmp=Bt({type:t,selectors:[["CSItemEdit"]],outputs:{onUpdateData:"onUpdateData"},decls:89,vars:49,consts:[[3,"header","visible","modal","visibleChange"],[3,"isLoad"],[2,"font-style","italic"],[1,"ErrorLi",2,"font-family","'Times New Roman', Times, serif"],[4,"ngFor","ngForOf"],[1,"InForm"],["type","text","pInputText","","autofocus","","maxlength","40",3,"ngModel","ngModelChange"],["type","text","pInputText","","maxlength","40",3,"ngModel","ngModelChange"],["dateFormat","dd.mm.yy","appendTo","body",3,"ngModel","ngModelChange"],["optionLabel","NAME","appendTo","body",3,"options","ngModel","ngModelChange"],["pInputText","","maxlength","40",3,"ngModel","style","ngModelChange",4,"ngIf"],[3,"mask","placeholder","ngModel","style","ngModelChange",4,"ngIf"],["pInputText","","maxlength","40",3,"ng-invalid","ng-dirty","ngModel","style","ngModelChange",4,"ngIf"],[3,"ng-invalid","ng-dirty","mask","placeholder","ngModel","style","ngModelChange",4,"ngIf"],["mask","999-999-999 99","placeholder","999-999-999 99",3,"ngModel","ngModelChange"],["type","button","value","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",1,"ActionButton",3,"click"],["pInputText","","maxlength","40",3,"ngModel","ngModelChange"],[3,"mask","placeholder","ngModel","ngModelChange"]],template:function(t,e){1&t&&(Er(0,"p-dialog",0),Nr("visibleChange",function(t){return e.display=t}),Er(1,"Content-Load",1),Er(2,"span",2),ba(3," \u0414\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c: \u043e\u0434\u0438\u043d \u0438\u0437 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432 \u0424\u0418\u041e, \u043f\u043e\u043b, \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0438 \u043c\u0438\u043d\u0438\u043c\u0443\u043c 1 \u0438\u0437 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432(\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442,\u0421\u041d\u0418\u041b\u0421, \u043f\u043e\u043b\u0438\u0441)"),Or(4,"br"),ba(5," \u041e\u0434\u043d\u0430\u043a\u043e \u0447\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432 \u0412\u044b \u0443\u043a\u0430\u0436\u0435\u0442\u0435 \u0442\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0435 \u0448\u0430\u043d\u0441\u043e\u0432 \u043d\u0430\u0439\u0442\u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u0432 \u0426\u0421 \u0415\u0420\u0417 "),Ir(),Or(6,"br"),Or(7,"br"),Er(8,"div",3),Er(9,"ul"),kr(10,RR,2,1,"li",4),Ir(),Ir(),Er(11,"div",5),Er(12,"fieldset"),Er(13,"legend"),ba(14,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430"),Ir(),Er(15,"table"),Er(16,"tr"),Er(17,"td"),ba(18,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),Ir(),Er(19,"td"),Er(20,"input",6),Nr("ngModelChange",function(t){return e.model.FAM=t}),Ir(),Ir(),Ir(),Er(21,"tr"),Er(22,"td"),ba(23,"\u0418\u043c\u044f"),Ir(),Er(24,"td"),Er(25,"input",7),Nr("ngModelChange",function(t){return e.model.IM=t}),Ir(),Ir(),Ir(),Er(26,"tr"),Er(27,"td"),ba(28,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),Ir(),Er(29,"td"),Er(30,"input",7),Nr("ngModelChange",function(t){return e.model.OT=t}),Ir(),Ir(),Ir(),Er(31,"tr"),Er(32,"td"),ba(33,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),Ir(),Er(34,"td"),Er(35,"p-calendar",8),Nr("ngModelChange",function(t){return e.model.DR=t}),Ir(),Ir(),Ir(),Er(36,"tr"),Er(37,"td"),ba(38,"\u041f\u043e\u043b"),Ir(),Er(39,"td"),Er(40,"p-dropdown",9),Nr("ngModelChange",function(t){return e.selectW=t}),Ir(),Ir(),Ir(),Ir(),Ir(),Er(41,"fieldset"),Er(42,"legend"),ba(43,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438"),Ir(),Er(44,"table"),Er(45,"tr"),Er(46,"td"),ba(47,"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),Ir(),Er(48,"td"),Er(49,"p-dropdown",9),Nr("ngModelChange",function(t){return e.selectF011=t}),Ir(),Ir(),Ir(),Er(50,"tr"),Er(51,"td"),ba(52,"\u0421\u0435\u0440\u0438\u044f"),Ir(),Er(53,"td"),kr(54,FR,1,4,"input",10),kr(55,VR,1,6,"p-inputMask",11),Ir(),Ir(),Er(56,"tr"),Er(57,"td"),ba(58,"\u041d\u043e\u043c\u0435\u0440"),Ir(),Er(59,"td"),kr(60,jR,1,8,"input",12),kr(61,zR,1,10,"p-inputMask",13),Ir(),Ir(),Er(62,"tr"),Er(63,"td"),ba(64,"\u0421\u041d\u0418\u041b\u0421"),Ir(),Er(65,"td"),Er(66,"p-inputMask",14),Nr("ngModelChange",function(t){return e.model.SNILS=t}),Ir(),Ir(),Ir(),Ir(),Ir(),Er(67,"fieldset"),Er(68,"legend"),ba(69,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044e\u0449\u0438\u0439 \u0444\u0430\u043a\u0442 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u044f"),Ir(),Er(70,"table"),Er(71,"tr"),Er(72,"td"),ba(73,"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"),Ir(),Er(74,"td"),Er(75,"p-dropdown",9),Nr("ngModelChange",function(t){return e.selectVPOLIS=t}),Ir(),Ir(),Ir(),Er(76,"tr"),Er(77,"td"),ba(78,"\u0421\u0435\u0440\u0438\u044f"),Ir(),Er(79,"td"),Er(80,"input",7),Nr("ngModelChange",function(t){return e.model.SPOLIS=t}),Ir(),Ir(),Ir(),Er(81,"tr"),Er(82,"td"),ba(83,"\u041d\u043e\u043c\u0435\u0440"),Ir(),Er(84,"td"),kr(85,BR,1,8,"input",12),kr(86,HR,1,10,"p-inputMask",13),Ir(),Ir(),Ir(),Ir(),Ir(),Or(87,"br"),Er(88,"input",15),Nr("click",function(){return e.SaveModel()}),Ir(),Ir(),Ir()),2&t&&(na($l(43,UR)),xr("header",e.mode===e.EditMode.New?"\u041d\u043e\u0432\u044b\u0439":e.mode===e.EditMode.Edit?"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440":"\u041a\u043e\u043f\u0438\u044f")("visible",e.display)("modal",!0),Ws(1),xr("isLoad",e.isLoad),Ws(9),xr("ngForOf",e.ErrorModelList),Ws(10),xr("ngModel",e.model.FAM),Ws(5),xr("ngModel",e.model.IM),Ws(5),xr("ngModel",e.model.OT),Ws(5),na($l(44,NR)),ea("ng-invalid",null===e.model.DR)("ng-dirty",!0),xr("ngModel",e.model.DR),Ws(5),na($l(45,NR)),ea("ng-invalid",null===e.model.W)("ng-dirty",!0),xr("options",e.SPR.W)("ngModel",e.selectW),Ws(9),na($l(46,NR)),xr("options",e.SPR.F011)("ngModel",e.selectF011),Ws(5),xr("ngIf",""===e.maskDOC_S),Ws(1),xr("ngIf",""!==e.maskDOC_S),Ws(5),xr("ngIf",""===e.maskDOC_N),Ws(1),xr("ngIf",""!==e.maskDOC_N),Ws(5),na($l(47,NR)),xr("ngModel",e.model.SNILS),Ws(9),na($l(48,NR)),xr("options",e.SPR.VPOLIS)("ngModel",e.selectVPOLIS),Ws(5),xr("ngModel",e.model.SPOLIS),Ws(5),xr("ngIf",""===e.maskNPOLIS),Ws(1),xr("ngIf",""!==e.maskNPOLIS))},directives:[_p,UM,Eh,Op,mf,pf,$p,uf,Sx,Sv,Oh,vf],styles:[".InForm[_ngcontent-%COMP%]{display:flex}.InForm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;text-transform:uppercase}.InForm[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%], .InForm[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]}),t})();var WR=(()=>(function(t){t[t.New=1]="New",t[t.Edit=2]="Edit",t[t.Double=3]="Double"}(WR||(WR={})),WR))();function qR(t,e){1&t&&(Er(0,"div"),ba(1,"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0426\u0421"),Ir())}function KR(t,e){1&t&&(Er(0,"div"),ba(1,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d"),Ir())}function GR(t,e){1&t&&(Er(0,"div"),ba(1,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"),Ir())}function YR(t,e){if(1&t&&(Ar(0),Er(1,"span"),ba(2),Ir(),Or(3,"br"),Pr()),2&t){const t=e.$implicit;Ws(2),wa(t)}}function QR(t,e){if(1&t&&(Er(0,"tr"),Er(1,"td"),ba(2),Ir(),Er(3,"td"),ba(4),Ir(),Er(5,"td"),ba(6),Ir(),Er(7,"td"),ba(8),Ir(),Er(9,"td"),ba(10),Ir(),Er(11,"td"),ba(12),Ir(),Er(13,"td"),ba(14),ec(15,"date"),Ir(),Er(16,"td"),ba(17),ec(18,"date"),Ir(),Er(19,"td"),ba(20),Ir(),Er(21,"td"),ba(22),Ir(),Er(23,"td"),ba(24),Ir(),Er(25,"td"),ba(26),Ir(),Ir()),2&t){const t=e.$implicit;Ws(2),wa(t.ENP),Ws(2),wa(t.TF_OKATO),Ws(2),wa(t.NAME_TFK),Ws(2),wa(t.TYPE_SMO),Ws(2),wa(t.SMO),Ws(2),wa(t.SMO_NAME),Ws(2),wa(ic(15,12,t.DATE_B,"dd-MM-yyyy")),Ws(3),wa(ic(18,15,t.DATE_E,"dd-MM-yyyy")),Ws(3),wa(t.VPOLIS),Ws(2),wa(t.SPOLIS),Ws(2),wa(t.NPOLIS),Ws(2),wa(t.SMO_OK)}}function ZR(t,e){if(1&t&&(Er(0,"fieldset"),Er(1,"legend"),ba(2),Ir(),Er(3,"table"),Er(4,"tr"),Er(5,"td",2),ba(6,"\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u0415\u041d\u041f"),Ir(),Er(7,"td"),ba(8),Ir(),Ir(),Er(9,"tr"),Er(10,"td",2),ba(11,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),Ir(),Er(12,"td"),ba(13),ec(14,"date"),Ir(),Ir(),Er(15,"tr"),Er(16,"td",2),ba(17,"\u0414\u0430\u0442\u0430 \u0441\u043c\u0435\u0440\u0442\u0438"),Ir(),Er(18,"td"),ba(19),ec(20,"date"),Ir(),Ir(),Er(21,"tr"),Er(22,"td",2),ba(23,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0434\u043e\u0432\u0435\u0440\u0438\u044f \u043a \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"),Ir(),Er(24,"td"),ba(25),Ir(),Ir(),Er(26,"tr"),Er(27,"td",2),ba(28,"\u041a\u043b\u044e\u0447\u0438 \u043f\u043e\u0438\u0441\u043a\u0430"),Ir(),Er(29,"td"),kr(30,YR,4,1,"ng-container",4),Ir(),Ir(),Ir(),Er(31,"h3",5),ba(32,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u044f"),Ir(),Er(33,"table",6),Er(34,"tr"),Er(35,"th"),ba(36,"\u0415\u041d\u041f"),Ir(),Er(37,"th"),ba(38,"OKATO \u0422\u0424\u041e\u041c\u0421"),Ir(),Er(39,"th"),ba(40,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0422\u0424\u041e\u041c\u0421"),Ir(),Er(41,"th"),ba(42,"\u0422\u0438\u043f \u043a\u043e\u0434\u0430 \u0421\u041c\u041e"),Ir(),Er(43,"th"),ba(44,"\u041a\u043e\u0434 \u0421\u041c\u041e"),Ir(),Er(45,"th"),ba(46,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0421\u041c\u041e"),Ir(),Er(47,"th"),ba(48,"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430"),Ir(),Er(49,"th"),ba(50,"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"),Ir(),Er(51,"th"),ba(52,"\u0422\u0438\u043f \u0414\u041f\u0424\u0421"),Ir(),Er(53,"th"),ba(54,"\u0421\u0435\u0440\u0438\u044f"),Ir(),Er(55,"th"),ba(56,"\u041d\u043e\u043c\u0435\u0440"),Ir(),Er(57,"th"),ba(58,"\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u044f"),Ir(),Ir(),kr(59,QR,27,18,"tr",4),Ir(),Ir()),2&t){const t=e.$implicit,n=e.index;Ws(2),ya("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 ",n+1,""),Ws(6),wa(t.ENP),Ws(5),wa(ic(14,7,t.DR,"dd-MM-yyyy")),Ws(6),wa(ic(20,10,t.DDEATH,"dd-MM-yyyy")),Ws(6),wa(t.LVL_D),Ws(5),xr("ngForOf",t.LVL_D_KOD),Ws(29),xr("ngForOf",t.SMO)}}function JR(t,e){if(1&t&&(Er(0,"div"),kr(1,GR,2,0,"div",3),kr(2,ZR,60,13,"fieldset",4),Ir()),2&t){const t=jr();Ws(1),xr("ngIf",!t.model.HaveResult),Ws(1),xr("ngForOf",t.model.RESULT)}}const XR=function(){return{width:"90vw"}};let tN=(()=>{class t{constructor(t){this.repo=t,this._display=!1,this.model=new xR(null),this.isLoad=!1}get display(){return this._display}set display(t){this._display=t,t||this.ClearModel()}ShowDialog(t){var e=this;return OP(function*(){try{e.isLoad=!0,e.display=!0,e.model=yield e.repo.GetPersonView(t)}catch(n){alert(n.toString())}finally{e.isLoad=!1}})()}ClearModel(){this.model=new xR(null)}}return t.\u0275fac=function(e){return new(e||t)(Sr(IR))},t.\u0275cmp=Bt({type:t,selectors:[["CSItemView"]],inputs:{display:"display"},decls:43,vars:19,consts:[[3,"header","visible","modal","visibleChange"],[2,"font-family","Times New Roman",3,"isLoad"],[1,"BoldText"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"text-align","center"],[1,"table_report"]],template:function(t,e){1&t&&(Er(0,"p-dialog",0),Nr("visibleChange",function(t){return e.display=t}),Er(1,"Content-Load",1),Er(2,"fieldset"),Er(3,"legend"),ba(4,"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),Ir(),Er(5,"table"),Er(6,"tr"),Er(7,"td",2),ba(8,"\u0424\u0418\u041e"),Ir(),Er(9,"td"),ba(10),Ir(),Ir(),Er(11,"tr"),Er(12,"td",2),ba(13,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),Ir(),Er(14,"td"),ba(15),ec(16,"date"),Ir(),Ir(),Er(17,"tr"),Er(18,"td",2),ba(19,"\u041f\u043e\u043b"),Ir(),Er(20,"td"),ba(21),Ir(),Ir(),Er(22,"tr"),Er(23,"td",2),ba(24,"\u041f\u043e\u043b\u0438\u0441"),Ir(),Er(25,"td"),ba(26),Ir(),Ir(),Er(27,"tr"),Er(28,"td",2),ba(29,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442"),Ir(),Er(30,"td"),ba(31),Ir(),Ir(),Er(32,"tr"),Er(33,"td",2),ba(34,"\u0421\u041d\u0418\u041b\u0421"),Ir(),Er(35,"td"),ba(36),Ir(),Ir(),Ir(),Ir(),Er(37,"fieldset"),Er(38,"legend"),ba(39,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"),Ir(),kr(40,qR,2,0,"div",3),kr(41,KR,2,0,"div",3),kr(42,JR,3,2,"div",3),Ir(),Ir(),Ir()),2&t&&(na($l(18,XR)),xr("header","\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440")("visible",e.display)("modal",!0),Ws(1),xr("isLoad",e.isLoad),Ws(9),wa(e.model.FIO),Ws(5),wa(ic(16,15,e.model.DR,"dd-MM-yyyy")),Ws(6),wa(e.model.W),Ws(5),wa(e.model.POLIS),Ws(5),wa(e.model.DOC),Ws(5),wa(e.model.SNILS),Ws(4),xr("ngIf",!1===e.model.STATUS),Ws(1),xr("ngIf",null===e.model.STATUS),Ws(1),xr("ngIf",!0===e.model.STATUS))},directives:[_p,UM,Oh,Eh],pipes:[Rh],encapsulation:2}),t})();const eN=function(){return{width:"90vw"}};let nN=(()=>{class t{constructor(){this.display=!1}ShowDialog(){this.display=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["InstructionDialogCS"]],decls:299,vars:5,consts:[["header","\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438 \u0432 \u0426\u0421 \u0415\u0420\u0417",3,"visible","modal","visibleChange"],[1,"Inst"],[1,"center"],["width","1000","src","../../Image/InstructionCS/MainWinCS.png",1,"img-ridge"],[1,"ul-flex"],[1,"ImgDocEdit"],[1,"ImgOnSend"],[1,"ImgSend"],[1,"ImgSendandOK"],[1,"ImgOK"],[1,"ImgError"],[1,"ImgQuestion"],["src","../../Image/InstructionCS/ContextMenuCS.png","alt","\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0435 \u043c\u0435\u043d\u044e \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0441\u043f\u0438\u0441\u043a\u043e\u0432",1,"img-ridge"],["src","../../Image/InstructionCS/CreateCS.png","alt","\u041e\u043a\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430","width","100%",1,"img-ridge"],["width","100%","src","../../Image/InstructionCS/ResWinCS.png",1,"img-ridge"]],template:function(t,e){1&t&&(Er(0,"p-dialog",0),Nr("visibleChange",function(t){return e.display=t}),Er(1,"div",1),Er(2,"p"),Er(3,"b"),ba(4,"\u0426\u0421 \u0415\u0420\u0417"),Ir(),ba(5," - \u0446\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u0433\u043c\u0435\u043d\u0442 \u0435\u0434\u0438\u043d\u043e\u0433\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430 \u0437\u0430\u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043b\u0438\u0446. \u041e\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u0438 \u043b\u0438\u0446 \u043d\u0430 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0438 \u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u043e\u0439 \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u0438"),Ir(),Er(6,"p"),ba(7,"\u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043a \u0426\u0421 \u0415\u0420\u0417, \u0441 \u0446\u0435\u043b\u044c\u044e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430"),Ir(),Er(8,"b"),ba(9,"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439:"),Ir(),Er(10,"ol"),Er(11,"li"),ba(12,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"),Ir(),Er(13,"li"),ba(14,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0426\u0421 \u0415\u0420\u0417"),Ir(),Er(15,"li"),ba(16,"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u0442 \u0426\u0421 \u0415\u0420\u0417"),Ir(),Ir(),Er(17,"h2"),ba(18,"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430"),Ir(),Er(19,"div",2),Or(20,"img",3),Or(21,"br"),Er(22,"span"),ba(23,"\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u043c\u0435\u043d\u044e"),Ir(),Ir(),Er(24,"ol"),Er(25,"li"),Er(26,"b"),ba(27,"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),Ir(),ba(28," - \u043a\u043d\u043e\u043f\u043a\u0430 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u043e\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438"),Ir(),Er(29,"li"),Er(30,"b"),ba(31,"\u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043f\u0440\u0438\u0435\u043c\u0430"),Ir(),ba(32," - \u0437\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 \u0426\u0421 \u0415\u0420\u0417 \u043e\u0442 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u0435\u0440\u0432\u0438\u0441. \u0414\u0430\u043d\u043d\u043e\u0435 \u043e\u043a\u043d\u043e \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430. \u0415\u0441\u043b\u0438 \u0441\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d, \u0442\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043a\u0438, \u043e\u0434\u043d\u0430\u043a\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u0430. \u0427\u0435\u0440\u0435\u0437 \u043c\u0435\u043d\u044e \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"),Ir(),Er(33,"li"),Er(34,"b"),ba(35,"\u041d\u043e\u0432\u044b\u0439"),Ir(),ba(36," - \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043e\u043a\u043d\u043e \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430"),Ir(),Er(37,"li"),Er(38,"b"),ba(39,"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"),Ir(),ba(40," - \u0434\u0430\u043d\u043d\u043e\u0435 \u043e\u043a\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0412\u0430\u0448\u0435\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),Ir(),Ir(),ba(41,' \u041e\u0431\u0440\u0430\u0449\u0430\u0435\u043c \u0412\u0430\u0448\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e "\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c" \u043e\u0442\u0440\u0430\u0436\u0430\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e.'),Or(42,"br"),ba(43," \u0422\u0430\u043a \u0436\u0435 \u043e\u043d\u0430 \u0438\u043c\u0435\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0435 \u043c\u0435\u043d\u044e. \u0414\u043b\u044f \u0432\u044b\u0437\u043e\u0432\u0430 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u044e \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \u043c\u044b\u0448\u0438 \u0432\u043d\u0443\u0442\u0440\u0438 \u043e\u0431\u043b\u0430\u0441\u0442\u0438."),Or(44,"br"),Er(45,"h2"),ba(46,"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"),Ir(),Er(47,"p"),ba(48," \u0420\u0430\u0431\u043e\u0447\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u044f: "),Ir(),Er(49,"ol"),Er(50,"li"),Er(51,"b"),ba(52,"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438"),Ir(),ba(53," - \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"),Or(54,"br"),ba(55," \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b: "),Er(56,"ul",4),Er(57,"li"),Or(58,"div",5),Er(59,"span"),ba(60,"\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441"),Ir(),Ir(),Er(61,"li"),Or(62,"div",6),Er(63,"span"),ba(64,"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0432 \u0426\u0421"),Ir(),Ir(),Er(65,"li"),Or(66,"div",7),Er(67,"span"),ba(68,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0432 \u0426\u0421(\u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0424\u041b\u041a)"),Ir(),Ir(),Er(69,"li"),Or(70,"div",8),Er(71,"span"),ba(72,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0432 \u0426\u0421(\u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430)"),Ir(),Ir(),Er(73,"li"),Or(74,"div",9),Er(75,"span"),ba(76,"\u041e\u0442\u0432\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d"),Ir(),Ir(),Er(77,"li"),Or(78,"div",10),Er(79,"span"),ba(80,"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438"),Ir(),Ir(),Ir(),Ir(),Er(81,"li"),Er(82,"b"),ba(83,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u043e\u0438\u0441\u043a\u0430"),Ir(),ba(84," - \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u043e\u0438\u0441\u043a\u0430 \u0432 \u0426\u0421 \u0415\u0420\u0417"),Or(85,"br"),ba(86," \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b: "),Er(87,"ul",4),Er(88,"li"),Or(89,"div",11),Er(90,"span"),ba(91,"\u041e\u0442\u0432\u0435\u0442 \u043d\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u043b \u0438\u0437 \u0426\u0421 \u0415\u0420\u0417"),Ir(),Ir(),Er(92,"li"),Or(93,"div",9),Er(94,"span"),ba(95,"\u041f\u0430\u0446\u0438\u0435\u043d\u0442 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0426\u0421 \u0415\u0420\u0417"),Ir(),Ir(),Er(96,"li"),Or(97,"div",10),Er(98,"span"),ba(99,"\u041f\u0430\u0446\u0438\u0435\u043d\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0426\u0421 \u0415\u0420\u0417"),Ir(),Ir(),Ir(),Ir(),Er(100,"li"),Er(101,"b"),ba(102,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),Ir(),Ir(),Er(103,"li"),Er(104,"b"),ba(105,"\u0418\u043c\u044f"),Ir(),Ir(),Er(106,"li"),Er(107,"b"),ba(108,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),Ir(),Ir(),Er(109,"li"),Er(110,"b"),ba(111,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),Ir(),Ir(),Er(112,"li"),Er(113,"b"),ba(114,"\u041f\u043e\u043b\u0438\u0441"),Ir(),Ir(),Er(115,"li"),Er(116,"b"),ba(117,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442"),Ir(),Ir(),Er(118,"li"),Er(119,"b"),ba(120,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0421\u041c\u041e"),Ir(),ba(121," - \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430"),Ir(),Er(122,"li"),Er(123,"b"),ba(124,"\u0414\u0430\u0442\u0430"),Ir(),ba(125," - \u0434\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"),Ir(),Ir(),Er(126,"h2"),ba(127,"\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0435 \u043c\u0435\u043d\u044e \u043e\u0431\u043b\u0430\u0441\u0442\u0438"),Ir(),Er(128,"div",2),Or(129,"img",12),Or(130,"br"),Er(131,"span"),ba(132,"\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0435 \u043c\u0435\u043d\u044e \u0440\u0430\u0431\u043e\u0447\u0435\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438"),Ir(),Ir(),ba(133," \u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0435 \u043c\u0435\u043d\u044e \u0440\u0430\u0431\u043e\u0447\u0435\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0438\u043c\u0435\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u0443\u043d\u043a\u0442\u044b: "),Er(134,"ul"),Er(135,"li"),Er(136,"b"),ba(137,"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),Ir(),ba(138," - \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432*"),Ir(),Er(139,"li"),Er(140,"b"),ba(141,"\u041d\u043e\u0432\u044b\u0439"),Ir(),ba(142," - \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043e\u043a\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430"),Ir(),Er(143,"li"),Er(144,"b"),ba(145,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),Ir(),ba(146," - \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043e\u043a\u043d\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430(\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u043c \u043d\u043e\u0432\u044b\u0439)"),Ir(),Er(147,"li"),Er(148,"b"),ba(149,"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),Ir(),ba(150," - \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043e\u043a\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0441 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0438\u0437 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430"),Ir(),Er(151,"li"),Er(152,"b"),ba(153,'\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 "\u041d\u043e\u0432\u044b\u0439"'),Ir(),ba(154,' - \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 "\u041d\u043e\u0432\u044b\u0439"(\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430**)'),Ir(),Er(155,"li"),Er(156,"b"),ba(157,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),Ir(),ba(158," - \u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435(\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430**) \u0437\u0430\u043f\u0440\u043e\u0441\u044b"),Ir(),Er(159,"li"),Er(160,"b"),ba(161,"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"),Ir(),ba(162," - \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"),Ir(),Er(163,"li"),Er(164,"b"),ba(165,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),Ir(),ba(166," - \u043f\u043e\u043c\u0435\u0447\u0430\u0435\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435(\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430**) \u0441\u043f\u0438\u0441\u043a\u0438 \u043a\u0430\u043a \u0433\u043e\u0442\u043e\u0432\u044b\u0435 \u043a \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435"),Ir(),Ir(),Er(167,"i"),ba(168,"*\u0414\u0432\u043e\u0439\u043d\u043e\u0439 \u0449\u0435\u043b\u0447\u043e\u043a \u043b\u0435\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u0438 \u043c\u044b\u0448\u0438 \u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u044e"),Ir(),Or(169,"br"),Er(170,"i"),ba(171,"**\u0414\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u043e\u0432\u043e\u0433\u043e \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438 CTRL \u0438 SHIFT"),Ir(),Er(172,"h2"),ba(173,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430"),Ir(),ba(174,'\n\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u041d\u043e\u0432\u044b\u0439" \u0432 \u0440\u0430\u0431\u043e\u0447\u0435\u043c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435 \u0438\u043b\u0438 "\u041d\u043e\u0432\u044b\u0439" \u0432 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u043c \u043c\u0435\u043d\u044e, \u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u043e\u0442\u043a\u0440\u043e\u0435\u0442\u0441\u044f \u043e\u043a\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430\n'),Er(175,"div",2),Or(176,"img",13),Or(177,"br"),Er(178,"span"),ba(179,"\u041e\u043a\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430"),Ir(),Ir(),ba(180," \u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u043e\u043a\u043d\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0435"),Or(181,"br"),ba(182,"\n\u041e\u0431\u0440\u0430\u0449\u0430\u0435\u043c \u0412\u0430\u0448\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f:\n"),Er(183,"ul"),Er(184,"li"),ba(185,'\u041f\u043e\u043b\u0435 "\u041f\u043e\u043b" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e'),Ir(),Er(186,"li"),ba(187,'\u041f\u043e\u043b\u0435 "\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e'),Ir(),Er(188,"li"),ba(189,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u0438\u0437 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432 \u0424\u0418\u041e \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d"),Ir(),Er(190,"li"),ba(191,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u0438\u0437 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432 \u041f\u041e\u041b\u0418\u0421-\u0414\u041e\u041a\u0423\u041c\u0415\u041d\u0422-\u0421\u041d\u0418\u041b\u0421 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d"),Ir(),Er(192,"li"),ba(193,'\u041f\u043e\u043b\u0435 "\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u043b\u0438\u0441\u0430" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f, \u043f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u0442\u0438\u043f\u0430 \u043f\u043e\u043b\u0438\u0441\u0430'),Ir(),Er(194,"li"),ba(195,'\u041f\u043e\u043b\u0435 "\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f, \u043f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u0442\u0438\u043f\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430'),Ir(),Ir(),Er(196,"h2"),ba(197,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438"),Ir(),ba(198," \u0426\u0421 \u0415\u0420\u0417 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 "),Er(199,"ol"),Er(200,"li"),Er(201,"b"),ba(202,"\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u0415\u041d\u041f"),Ir(),ba(203," - \u0415\u041d\u041f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0435 \u043a\u0430\u043a \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0432 \u0426\u0421 \u0415\u0420\u0417 "),Ir(),Er(204,"li"),Er(205,"b"),ba(206,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),Ir(),Ir(),Er(207,"li"),Er(208,"b"),ba(209,"\u0414\u0430\u0442\u0430 \u0441\u043c\u0435\u0440\u0442\u0438"),Ir(),Ir(),Er(210,"li"),Er(211,"b"),ba(212,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0434\u043e\u0432\u0435\u0440\u0438\u044f \u043a \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"),Ir(),ba(213," - \u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0434\u043e\u0432\u0435\u0440\u0438\u044f \u043a \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0451\u043d\u043d\u043e\u0439 \u0432 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441"),Or(214,"br"),ba(215," \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f "),Er(216,"ul"),Er(217,"li"),Er(218,"b"),ba(219,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0443 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0432\u0435\u0440\u044f\u0442\u044c"),Ir(),ba(220," - \u041e\u0442\u0432\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445"),Ir(),Er(221,"li"),Er(222,"b"),ba(223,"\u0421\u0442\u0435\u043f\u0435\u043d\u044c \u0434\u043e\u0432\u0435\u0440\u0438\u044f \u0432\u044b\u0441\u043e\u043a\u0430\u044f"),Ir(),ba(224," - \u041e\u0442\u0432\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043d\u0435\u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445"),Ir(),Er(225,"li"),Er(226,"b"),ba(227,"\u0421\u0442\u0435\u043f\u0435\u043d\u044c \u0434\u043e\u0432\u0435\u0440\u0438\u044f \u0443\u043c\u0435\u0440\u0435\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u043d\u0438\u0437\u043a\u0430\u044f"),Ir(),ba(228," - \u041e\u0442\u0432\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043d\u0435\u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u043b\u0438 \u043f\u0440\u0438 \u043d\u0435\u043f\u043e\u043b\u043d\u043e\u043c \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0438"),Ir(),Ir(),Ir(),Er(229,"li"),Er(230,"b"),ba(231,"\u041a\u043b\u044e\u0447\u0438 \u043f\u043e\u0438\u0441\u043a\u0430"),Ir(),ba(232," - \u043f\u043e \u043a\u0430\u043a\u0438\u043c \u043f\u043e\u043b\u044f\u043c \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430"),Or(233,"br"),ba(234," \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: "),Er(235,"ul"),Er(236,"li"),Er(237,"b"),ba(238,"H01/P01/H02/P02"),Ir(),ba(239," - "),Er(240,"span"),ba(241,"[\u0444\u0430\u043c\u0438\u043b\u0438\u044f], [\u0438\u043c\u044f], [\u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e], [\u043c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f], [\u043a\u043e\u0434 \u0442\u0438\u043f\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430, \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0435\u0433\u043e \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u044c], [\u043d\u043e\u043c\u0435\u0440 \u0438\u043b\u0438 \u0441\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430, \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0435\u0433\u043e \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u044c]"),Ir(),Ir(),Er(242,"li"),Er(243,"b"),ba(244,"H03/P03"),Ir(),ba(245," - "),Er(246,"span"),ba(247,"[\u0444\u0430\u043c\u0438\u043b\u0438\u044f], [\u0438\u043c\u044f], [\u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e], [\u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f], [\u0421\u041d\u0418\u041b\u0421]"),Ir(),Ir(),Er(248,"li"),Er(249,"b"),ba(250,"H04/P04"),Ir(),ba(251," - "),Er(252,"span"),ba(253,"[\u0444\u0430\u043c\u0438\u043b\u0438\u044f], [\u0438\u043c\u044f], [\u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e], [\u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f], [\u043a\u043e\u0434 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0438, \u0432\u044b\u0434\u0430\u0432\u0448\u0435\u0439 \u0414\u041f\u0424\u0421], [\u043a\u043e\u0434 \u0442\u0438\u043f\u0430 \u0414\u041f\u0424\u0421], [\u0441\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u0431\u043b\u0430\u043d\u043a\u0430 \u0414\u041f\u0424\u0421]"),Ir(),Ir(),Er(254,"li"),Er(255,"b"),ba(256,"H05/P05"),Ir(),ba(257," - "),Er(258,"span"),ba(259,"[\u0438\u043c\u044f], [\u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e], [\u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f], [\u043c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f], [\u0421\u041d\u0418\u041b\u0421]"),Ir(),Ir(),Er(260,"li"),Er(261,"b"),ba(262,"H11/P11"),Ir(),ba(263," - "),Er(264,"span"),ba(265,"[\u0444\u0430\u043c\u0438\u043b\u0438\u044f], [\u0438\u043c\u044f], [\u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e], [\u043c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f], [\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430]"),Ir(),Ir(),Er(266,"li"),Er(267,"b"),ba(268,"H12/P12"),Ir(),ba(269," - "),Er(270,"span"),ba(271,"[\u0444\u0430\u043c\u0438\u043b\u0438\u044f], [\u0438\u043c\u044f], [\u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e], [\u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f], [\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430]"),Ir(),Ir(),Er(272,"li"),Er(273,"b"),ba(274,"H14/P14"),Ir(),ba(275," - "),Er(276,"span"),ba(277,"[\u0444\u0430\u043c\u0438\u043b\u0438\u044f], [\u0438\u043c\u044f], [\u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e], [\u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f], [\u0441\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u0431\u043b\u0430\u043d\u043a\u0430 \u0414\u041f\u0424\u0421]"),Ir(),Ir(),Er(278,"li"),Er(279,"b"),ba(280,"H15/P15/H16/P16"),Ir(),ba(281," - "),Er(282,"span"),ba(283,"[\u0438\u043c\u044f], [\u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e], [\u0434\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f], [\u0421\u041d\u0418\u041b\u0421]"),Ir(),Ir(),Er(284,"li"),Er(285,"b"),ba(286,"H17/P17/H18/P18"),Ir(),ba(287," - "),Er(288,"span"),ba(289,"[\u0444\u0430\u043c\u0438\u043b\u0438\u044f], [\u0438\u043c\u044f], [\u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e], [\u043c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f]"),Ir(),Ir(),Ir(),Ir(),Er(290,"li"),Er(291,"b"),ba(292,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u044f"),Ir(),ba(293," - \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f\u0445 \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430 \u0441\u043e \u0441\u0440\u043e\u043a\u043e\u043c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043e\u043a"),Ir(),Ir(),Er(294,"div",2),Or(295,"img",14),Or(296,"br"),Er(297,"span"),ba(298,"\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u0432\u0435\u0442\u0430 \u0426\u0421 \u0415\u0420\u0417"),Ir(),Ir(),Ir(),Ir()),2&t&&(na($l(4,eN)),xr("visible",e.display)("modal",!0))},directives:[_p],styles:[".Inst[_ngcontent-%COMP%]\n     {\n         font-family: 'Times New Roman', Times, serif;\n     }\n    .Inst[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%] {\n        text-align: center;\n       \n    }\n    .Inst[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%] {\n        text-align: center;\n    }\n    .Inst[_ngcontent-%COMP%]   .img-ridge[_ngcontent-%COMP%] {\n        border:ridge;\n        margin:10px;\n    }\n    \n    .img-ridge[_ngcontent-%COMP%] {\n        border: ridge;\n        margin: 10px;\n    }\n\n.ul-flex[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    display: flex; \n    justify-content: start;\n    align-items: center;\n}\n.ul-flex[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n    margin-right: 5px;\n}"]}),t})();function iN(t,e){1&t&&(Er(0,"th",14),ba(1,"\u041a\u043e\u0434 \u041c\u041e"),Ir())}function sN(t,e){if(1&t&&(Er(0,"tr"),Er(1,"th",12),ba(2,"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438"),Ir(),Er(3,"th",12),ba(4,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u043e\u0438\u0441\u043a\u0430"),Ir(),Er(5,"th",13),ba(6,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),Ir(),Er(7,"th",13),ba(8,"\u0418\u043c\u044f"),Ir(),Er(9,"th",13),ba(10,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),Ir(),Er(11,"th",14),ba(12,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),Ir(),Er(13,"th",15),ba(14,"\u041f\u043e\u043b\u0438\u0441"),Ir(),Er(15,"th",15),ba(16,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442"),Ir(),Er(17,"th",13),ba(18,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0421\u041c\u041e"),Ir(),kr(19,iN,2,0,"th",16),Er(20,"th",14),ba(21,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),Ir(),Ir()),2&t){const t=jr();Ws(19),xr("ngIf",t.AdminMode)}}function oN(t,e){if(1&t&&(Er(0,"td",14),ba(1),Ir()),2&t){const t=jr().$implicit;Ws(1),wa(t.CODE_MO)}}const rN=function(t,e,n,i,s,o){return{ImgDocEdit:t,ImgOnSend:e,ImgSend:n,ImgSendandOK:i,ImgOK:s,ImgError:o}},aN=function(t,e,n){return{ImgOK:t,ImgError:e,ImgQuestion:n}};function lN(t,e){if(1&t){const t=Dr();Er(0,"tr",17),Nr("dblclick",function(){return Me(t),jr().showItemDialog()}),Er(1,"td",18),Or(2,"div",19),Ir(),Er(3,"td",18),Or(4,"div",19),Ir(),Er(5,"td",13),ba(6),Ir(),Er(7,"td",13),ba(8),Ir(),Er(9,"td",13),ba(10),Ir(),Er(11,"td",14),ba(12),ec(13,"date"),Ir(),Er(14,"td",15),ba(15),Ir(),Er(16,"td",15),ba(17),Ir(),Er(18,"td",13),ba(19),Ir(),kr(20,oN,2,1,"td",16),Er(21,"td",14),ba(22),ec(23,"date"),Ir(),Ir()}if(2&t){const t=e.$implicit,n=e.rowIndex,i=jr();xr("pContextMenuRow",t)("pSelectableRow",t)("pSelectableRowIndex",n),Ws(2),xr("ngClass",Ql(22,rN,t.STATUS_SEND==i.StatusCS_LIST.New,t.STATUS_SEND==i.StatusCS_LIST.OnSend,t.STATUS_SEND==i.StatusCS_LIST.Send,t.STATUS_SEND==i.StatusCS_LIST.FLK,t.STATUS_SEND==i.StatusCS_LIST.Answer,t.STATUS_SEND==i.StatusCS_LIST.Error))("title",t.STATUS_SEND_TEXT),Ws(2),xr("ngClass",Kl(29,aN,1==t.STATUS,0==t.STATUS,null==t.STATUS))("title",t.STATUS_TEXT),Ws(2),wa(t.FAM),Ws(2),wa(t.IM),Ws(2),wa(t.OT),Ws(2),wa(ic(13,16,t.DR,"dd.MM.yyyy")),Ws(3),wa(t.POLIS),Ws(2),wa(t.DOC),Ws(2),wa(t.CURRENT_SMO),Ws(1),xr("ngIf",i.AdminMode),Ws(2),wa(ic(23,19,t.DATE_CREATE,"dd.MM.yyyy"))}}const cN=function(){return[25,50,75]};let uN=(()=>{class t{constructor(t){var e=this;this.repo=t,this.AdminMode=!1,this.ListPerson=[],this.first=0,this.countOnPage=25,this.contextPerson=null,this.selectedPersons=[],this.StatusCS_LIST=yR,this.loading=!1,this.hubConnect=new lL,this.connectHub=OP(function*(){try{yield e.hubConnect.Connect(),e.hubConnect.RegisterNewCSListState(t=>{e.onUpdateDataEditDialog(t)})}catch(t){alert(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0443 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0432\u044b\u0437\u043e\u0432\u0430: ${t.toString()}`)}}),this.connectHub()}get firstsSelectedPersons(){return 0!==this.selectedPersons.length?this.selectedPersons[0]:null}ngOnInit(){}onContextMenuSelect(t,e){null!=this.contextPerson&&0===this.selectedPersons.filter(t=>t.CS_LIST_IN_ID==this.contextPerson.CS_LIST_IN_ID).length&&(this.selectedPersons=[this.contextPerson]);const n=null!=this.firstsSelectedPersons&&this.firstsSelectedPersons.STATUS_SEND===yR.New,i=0!=this.selectedPersons.length&&0==this.selectedPersons.filter(t=>t.STATUS_SEND!==yR.New).length;this.contextMenuItems=[{label:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",icon:"pi pi-fw pi-search",styleClass:"bold-menuitem",command:()=>{this.showItemDialog()}},{label:"\u041d\u043e\u0432\u044b\u0439",icon:"pi pi-fw pi-file",command:()=>{this.showNewItemDialog()}},{separator:!0},{label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",disabled:!n,icon:"pi pi-fw pi-user-edit",command:()=>{this.EditItemDialog()}},{label:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:"pi pi-fw pi-copy",command:()=>{this.DoubleItemDialog()}},{label:'\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 "\u041d\u043e\u0432\u044b\u0439"',icon:"pi pi-fw pi-book",command:()=>{this.SetNewStatusItems()}},{separator:!0},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:"pi pi-fw pi-times",styleClass:"red-menuitem",command:()=>{this.RemoveItems()}},{separator:!0},{label:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:"pi pi-fw pi-refresh",command:()=>{this.LoadData(this.first,this.countOnPage)}},{label:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",disabled:!i,icon:"pi pi-fw pi-send",command:()=>{this.SendItems()}}]}loadPerson(t){var e=this;return OP(function*(){setTimeout(OP(function*(){yield e.LoadData(t.first,t.rows)}))})()}LoadData(t,e){var n=this;return OP(function*(){try{n.loading=!0;var i=yield n.repo.GetTitle(t,e);n.contextPerson=null,n.selectedPersons=[],n.ListPerson=i.PersonItems,n.totalRecords=i.TotalRecord}catch(s){alert(s.toString())}finally{n.loading=!1}})()}showNewItemDialog(){try{this.editDialog.ShowDialog(WR.New)}catch(t){alert(t.toString())}finally{this.loading=!1}}EditItemDialog(){try{0!==this.selectedPersons.length&&this.editDialog.ShowDialog(WR.Edit,this.selectedPersons[0].CS_LIST_IN_ID)}catch(t){alert(t.toString())}}DoubleItemDialog(){try{0!==this.selectedPersons.length&&this.editDialog.ShowDialog(WR.Double,this.selectedPersons[0].CS_LIST_IN_ID)}catch(t){alert(t.toString())}}onUpdateDataEditDialog(t){var e=this;return OP(function*(){null===t?e.LoadData(e.first,e.countOnPage):e.UpdateItems(t)})()}UpdateItems(t){var e=this;return OP(function*(){const n=e.ListPerson.filter(e=>t.includes(e.CS_LIST_IN_ID));null!=n.length&&((yield e.repo.GetTitleByID(n.map(t=>t.CS_LIST_IN_ID))).forEach(t=>{const e=n.find(e=>e.CS_LIST_IN_ID===t.CS_LIST_IN_ID);null!==e&&e.Merge(t)}),e.ListPerson=[...e.ListPerson])})()}RemoveItems(){var t=this;return OP(function*(){try{0!==t.selectedPersons.length&&confirm(`\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ${t.selectedPersons.length} \u0437\u0430\u043f\u0438\u0441\u0435\u0439?`)&&(t.loading=!0,yield t.repo.RemovePerson(t.selectedPersons.map(t=>t.CS_LIST_IN_ID)),yield t.LoadData(t.first,t.countOnPage))}catch(e){alert(e.toString())}finally{t.loading=!1}})()}SendItems(){var t=this;return OP(function*(){try{0!==t.selectedPersons.length&&confirm(`\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c ${t.selectedPersons.length} \u0437\u0430\u043f\u0438\u0441\u0435\u0439?`)&&(t.loading=!0,yield t.repo.SendPerson(t.selectedPersons.map(t=>t.CS_LIST_IN_ID)),yield t.LoadData(t.first,t.countOnPage))}catch(e){alert(e.toString())}finally{t.loading=!1}})()}SetNewStatusItems(){var t=this;return OP(function*(){try{0!==t.selectedPersons.length&&confirm(`\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 "\u041d\u043e\u0432\u044b\u0439" ${t.selectedPersons.length} \u0437\u0430\u043f\u0438\u0441\u0435\u0439?`)&&(t.loading=!0,yield t.repo.SetNewStatus(t.selectedPersons.map(t=>t.CS_LIST_IN_ID)),yield t.LoadData(t.first,t.countOnPage))}catch(e){alert(e.toString())}finally{t.loading=!1}})()}showItemDialog(){try{0!==this.selectedPersons.length&&this.viewDialog.ShowDialog(this.selectedPersons[0].CS_LIST_IN_ID)}catch(t){alert(t.toString())}}ngOnDestroy(){try{this.hubConnect.Disconnect()}catch(t){alert(t.toString())}this.hubConnect.Disconnect()}showInstructionDialogCS(){this.instructionDialogCS.ShowDialog()}}return t.\u0275fac=function(e){return new(e||t)(Sr(IR))},t.\u0275cmp=Bt({type:t,selectors:[["Main-Table"]],viewQuery:function(t,e){if(1&t&&(_c($R,5),_c(tN,5),_c(nN,5)),2&t){let t;vc(t=Cc())&&(e.editDialog=t.first),vc(t=Cc())&&(e.viewDialog=t.first),vc(t=Cc())&&(e.instructionDialogCS=t.first)}},inputs:{AdminMode:"AdminMode"},decls:16,vars:15,consts:[[2,"display","flex","justify-content","space-between"],["type","button","value","\u041d\u043e\u0432\u044b\u0439",1,"ActionButton",3,"click"],[1,"ActionButton",3,"click"],[3,"model"],["context",""],["selectionMode","multiple","dataKey","CS_LIST_IN_ID","responsiveLayout","scroll","styleClass","p-datatable-gridlines","scrollHeight","55vh","scrollDirection","both",3,"value","contextMenuSelection","contextMenu","metaKeySelection","selection","rowsPerPageOptions","paginator","rows","first","lazy","totalRecords","loading","scrollable","contextMenuSelectionChange","onContextMenuSelect","selectionChange","rowsChange","firstChange","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],[3,"onUpdateData"],["editDialog",""],["viewDialog",""],["InstructionDialogCS",""],[2,"width","90px"],[2,"width","200px"],[2,"width","150px"],[2,"width","400px"],["style","width:150px",4,"ngIf"],[3,"pContextMenuRow","pSelectableRow","pSelectableRowIndex","dblclick"],[2,"width","90px","text-align","center"],[2,"display","inline-block",3,"ngClass","title"]],template:function(t,e){if(1&t){const t=Dr();Er(0,"div",0),Er(1,"input",1),Nr("click",function(){return e.showNewItemDialog()}),Ir(),Er(2,"button",2),Nr("click",function(){return e.showInstructionDialogCS()}),ba(3,"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),Ir(),Ir(),Or(4,"br"),Or(5,"p-contextMenu",3,4),Er(7,"p-table",5),Nr("contextMenuSelectionChange",function(t){return e.contextPerson=t})("onContextMenuSelect",function(n){Me(t);const i=Cr(6);return e.onContextMenuSelect(n,i)})("selectionChange",function(t){return e.selectedPersons=t})("rowsChange",function(t){return e.countOnPage=t})("firstChange",function(t){return e.first=t})("onLazyLoad",function(t){return e.loadPerson(t)}),kr(8,sN,22,1,"ng-template",6),kr(9,lN,24,33,"ng-template",7),Ir(),Er(10,"CSItemEdit",8,9),Nr("onUpdateData",function(){return e.onUpdateDataEditDialog(null)}),Ir(),Or(12,"CSItemView",null,10),Or(14,"InstructionDialogCS",null,11)}if(2&t){const t=Cr(6);Ws(5),xr("model",e.contextMenuItems),Ws(2),xr("value",e.ListPerson)("contextMenuSelection",e.contextPerson)("contextMenu",t)("metaKeySelection",!0)("selection",e.selectedPersons)("rowsPerPageOptions",$l(14,cN))("paginator",!0)("rows",e.countOnPage)("first",e.first)("lazy",!0)("totalRecords",e.totalRecords)("loading",e.loading)("scrollable",!0)}},directives:[wI,BE,$d,$R,tN,nN,Oh,WE,$E,xh],pipes:[Rh],styles:[".bold-menuitem .p-menuitem-text{font-weight:700}  .red-menuitem .p-menuitem-icon{font-weight:700}  .red-menuitem .p-menuitem-text{color:#fc5252!important}  .red-menuitem .p-menuitem-icon{color:#fc5252!important}"]}),t})(),hN=(()=>{class t extends FM{constructor(){super(),this.hubConnect=new lL}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["Find-CS-Main"]],inputs:{AdminMode:"AdminMode"},features:[or],decls:8,vars:2,consts:[[1,"div-space-between"],[3,"AdminMode"]],template:function(t,e){1&t&&(Er(0,"div",0),Er(1,"div"),Er(2,"h3"),ba(3,"\u041f\u043e\u0438\u0441\u043a \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043e\u0439 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0438 \u043b\u0438\u0446 \u0432 \u0426\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0435 \u0435\u0434\u0438\u043d\u043e\u0433\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430 \u0437\u0430\u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u043d\u044b\u0445"),Ir(),Ir(),Er(4,"div"),Or(5,"CSServiceStatus",1),Ir(),Ir(),Er(6,"div"),Or(7,"Main-Table",1),Ir()),2&t&&(Ws(5),xr("AdminMode",e.AdminMode),Ws(2),xr("AdminMode",e.AdminMode))},directives:[LR,uN],encapsulation:2}),t})();const dN=function(){return{width:"20px",height:"20px",marginLeft:"5px"}};function pN(t,e){1&t&&Or(0,"p-progressSpinner"),2&t&&na($l(2,dN))}function fN(t,e){if(1&t&&(Er(0,"div",6),Er(1,"span",7),ba(2),Ir(),kr(3,pN,1,3,"p-progressSpinner",8),Ir()),2&t){const t=e.$implicit;Ws(2),wa(t.Name),Ws(1),xr("ngIf",t.IsLoad)}}function gN(t,e){if(1&t){const t=Dr();Er(0,"div",11),Er(1,"load-reestr",12),Nr("onLoading",function(e){Me(t);const n=jr(2);return n.onLoading(e,n.ReportType.LoadMedpom)})("onSend",function(){return Me(t),jr(2).onSendReestr()}),Ir(),Ir()}}function mN(t,e){if(1&t){const t=Dr();Er(0,"div",11),Er(1,"view-reestr",13),Nr("onLoading",function(e){Me(t);const n=jr(2);return n.onLoading(e,n.ReportType.ViewMedpom)}),Ir(),Ir()}}function bN(t,e){if(1&t){const t=Dr();Er(0,"div",11),Er(1,"ERROR_SPR",14),Nr("onLoading",function(e){Me(t);const n=jr(2);return n.onLoading(e,n.ReportType.ErrorSPR)}),Ir(),Ir()}if(2&t){const t=jr(2);Ws(1),xr("AdminMode",t.isAdmin)}}function wN(t,e){if(1&t){const t=Dr();Er(0,"div",11),Er(1,"Find-CS-Main",14),Nr("onLoading",function(e){Me(t);const n=jr(2);return n.onLoading(e,n.ReportType.FIND_CS)}),Ir(),Ir()}if(2&t){const t=jr(2);Ws(1),xr("AdminMode",t.isAdmin)}}function yN(t,e){if(1&t&&(Er(0,"div",9),kr(1,gN,2,0,"div",10),kr(2,mN,2,0,"div",10),kr(3,bN,2,1,"div",10),kr(4,wN,2,1,"div",10),Ir()),2&t){const t=jr();Ws(1),xr("ngIf",t.selectedReport.Type===t.ReportType.LoadMedpom),Ws(1),xr("ngIf",t.selectedReport.Type==t.ReportType.ViewMedpom),Ws(1),xr("ngIf",t.selectedReport.Type==t.ReportType.ErrorSPR),Ws(1),xr("ngIf",t.selectedReport.Type==t.ReportType.FIND_CS)}}let vN=(()=>{class t{constructor(t,e,n,i){this.repo=t,this.primeNGConfig=e,this.elementRef=n,this.urlHelper=i,this.isAdmin=!1,this.isMO=!1,this.isCS=!1,this.ReportType=_N,this.reportList=[],this.onLoading=(t,e)=>{var n=this.reportList.find(t=>t.Type===e);null!=n&&(n.IsLoad=t)},this.onSendReestr=()=>{this.selectedReport=this.reportList.find(t=>t.Type===_N.ViewMedpom)},this.isAdmin="true"===this.elementRef.nativeElement.getAttribute("[isAdmin]"),this.isMO="true"===this.elementRef.nativeElement.getAttribute("[isMO]"),this.isCS="true"===this.elementRef.nativeElement.getAttribute("[isCS]")}get selectedReport(){return this._selectedReport}set selectedReport(t){this._selectedReport=t,this.urlHelper.changeParameter("selectIndex",this._selectedReport.Type)}ngOnInit(){if(this.primeNGConfig.setTranslation(new CN),(this.isMO||this.isAdmin)&&(this.reportList.push(new kN("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u0432",_N.LoadMedpom)),this.reportList.push(new kN("\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438",_N.ViewMedpom)),this.reportList.push(new kN("\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u043e\u0448\u0438\u0431\u043e\u043a",_N.ErrorSPR))),(this.isCS||this.isAdmin)&&this.reportList.push(new kN("\u041f\u043e\u0438\u0441\u043a \u0432 \u0426\u0421",_N.FIND_CS)),0!==this.reportList.length){const t=+this.urlHelper.getParameter("selectIndex");this.selectedReport=isNaN(t)?this.reportList[0]:this.reportList.find(e=>e.Type===t)}}}return t.\u0275fac=function(e){return new(e||t)(Sr(KP),Sr(Fd),Sr(Wa),Sr(YP))},t.\u0275cmp=Bt({type:t,selectors:[["app"]],decls:6,vars:3,consts:[[2,"display","flex","width","100%"],[2,"width","23%"],["optionLabel","Name",3,"options","ngModel","ngModelChange"],["pTemplate","item"],[2,"margin","10px"],["style","width: 80%;",4,"ngIf"],[2,"display","flex","align-items","center","justify-content","space-between","width","100%"],[1,"ng-star-inserted"],[3,"style",4,"ngIf"],[2,"width","80%"],["style","width: 100%",4,"ngIf"],[2,"width","100%"],[3,"onLoading","onSend"],[3,"onLoading"],[3,"AdminMode","onLoading"]],template:function(t,e){1&t&&(Er(0,"div",0),Er(1,"div",1),Er(2,"p-listbox",2),Nr("ngModelChange",function(t){return e.selectedReport=t}),kr(3,fN,4,2,"ng-template",3),Ir(),Ir(),Or(4,"hr",4),kr(5,yN,5,4,"div",5),Ir()),2&t&&(Ws(2),xr("options",e.reportList)("ngModel",e.selectedReport),Ws(3),xr("ngIf",null!=e.selectedReport))},directives:[DM,$p,uf,$d,Oh,RM,hD,TL,fR,hN],encapsulation:2}),t})();var _N=(()=>(function(t){t[t.LoadMedpom=0]="LoadMedpom",t[t.ViewMedpom=1]="ViewMedpom",t[t.ErrorSPR=2]="ErrorSPR",t[t.FIND_CS=3]="FIND_CS"}(_N||(_N={})),_N))();class kN{constructor(t,e){this.IsLoad=!1,this.Name=t,this.Type=e}}class CN{constructor(){this.startsWith="Starts with",this.contains="Contains",this.notContains="Not contains",this.endsWith="Ends with",this.equals="Equals",this.notEquals="Not equals",this.noFilter="No Filter",this.lt="Less than",this.lte="Less than or equal to",this.gt="Greater than",this.gte="Great then or equals",this.is="Is",this.isNot="Is not",this.before="Before",this.after="After",this.dateIs="dateIs",this.dateIsNot="dateIsNot",this.dateBefore="dateBefore",this.dateAfter="dateAfter",this.clear="Clear",this.apply="Apply",this.matchAll="Match All",this.matchAny="Match Any",this.addRule="Add Rule",this.removeRule="Remove Rule",this.accept="Yes",this.reject="No",this.choose="Choose",this.upload="Upload",this.cancel="Cancel",this.dayNames=["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u0438\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],this.dayNamesShort=["\u0412\u0441\u043a","\u041f\u043e\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u044f\u0442","\u0421\u0443\u0431"],this.dayNamesMin=["\u0412\u0441","\u041f\u043e","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],this.monthNames=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],this.monthNamesShort=["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],this.today="\u0421\u0435\u0433\u043e\u0434\u043d\u044f",this.weekHeader="\u043d\u0434",this.weak="\u041d\u0435\u0434\u0435\u043b\u044f",this.medium="Medium",this.strong="Strong",this.passwordPrompt="Enter a password",this.emptyMessage="No results found",this.emptyFilterMessage="No results found"}}let SN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh]]}),t})();var xN=n(27),TN=n.n(xN);let EN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Fh,Wd,Yd],Wd]}),t})();var IN,ON,AN;IN=TN(),AN=void 0,"string"!=typeof(ON=void 0)&&(AN=ON,ON=IN[Ea.LocaleId]),ON=ON.toLowerCase().replace(/_/g,"-"),Sa[ON]=IN,AN&&(Sa[ON][Ea.ExtraData]=AN);let PN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t,bootstrap:[vN]}),t.\u0275inj=ht({providers:[{provide:KP,useClass:GP},{provide:Fc,useValue:"ru"},{provide:YP,useClass:YP},{provide:IR,useClass:OR}],imports:[[bd,gf,YA,qE,KE,EP,GE,LM,SN,xx,NM,kp,bf,Rm,Iy,yI,_f,xv,IS,EN,nT,RL]]}),t})();const MN=t=>t%4==0&&t%100!=0||t%400==0;Date.prototype.isLeapYear=function(){return MN(this.getFullYear())},Date.prototype.getDaysInMonth=function(){return t=this.getFullYear(),e=this.getMonth(),[31,MN(t)?29:28,31,30,31,30,31,31,30,31,30,31][e];var t,e},Date.prototype.addMonths=function(t){const e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,this.getDaysInMonth())),this},Date.prototype.toASPstring=function(){return`${this.getFullYear()}-${(this.getMonth()+1).toString().padStart(2,"0")}-${this.getDate().toString().padStart(2,"0")}`},gd().bootstrapModule(PN)}},t=>{"use strict";t(t.s=698)}]);